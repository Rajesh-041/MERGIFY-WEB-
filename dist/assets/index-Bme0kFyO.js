(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function Dv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Pd={exports:{}},vl={};var G0;function Hb(){if(G0)return vl;G0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:r,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var F0;function Gb(){return F0||(F0=1,Pd.exports=Hb()),Pd.exports}var E=Gb(),zd={exports:{}},Tt={};var Y0;function Fb(){if(Y0)return Tt;Y0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.iterator;function H(T){return T===null||typeof T!="object"?null:(T=D&&T[D]||T["@@iterator"],typeof T=="function"?T:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function ut(T,M,Q){this.props=T,this.context=M,this.refs=tt,this.updater=Q||W}ut.prototype.isReactComponent={},ut.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},ut.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function dt(){}dt.prototype=ut.prototype;function pt(T,M,Q){this.props=T,this.context=M,this.refs=tt,this.updater=Q||W}var Pt=pt.prototype=new dt;Pt.constructor=pt,et(Pt,ut.prototype),Pt.isPureReactComponent=!0;var Kt=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(T,M,Q){var $=Q.ref;return{$$typeof:s,type:T,key:M,ref:$!==void 0?$:null,props:Q}}function V(T,M){return N(T.type,M,T.props)}function O(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function j(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return M[Q]})}var w=/\/+/g;function Rt(T,M){return typeof T=="object"&&T!==null&&T.key!=null?j(""+T.key):M.toString(36)}function Xt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(xt,xt):(T.status="pending",T.then(function(M){T.status==="pending"&&(T.status="fulfilled",T.value=M)},function(M){T.status==="pending"&&(T.status="rejected",T.reason=M)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function F(T,M,Q,$,st){var rt=typeof T;(rt==="undefined"||rt==="boolean")&&(T=null);var ft=!1;if(T===null)ft=!0;else switch(rt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(T.$$typeof){case s:case t:ft=!0;break;case A:return ft=T._init,F(ft(T._payload),M,Q,$,st)}}if(ft)return st=st(T),ft=$===""?"."+Rt(T,0):$,Kt(st)?(Q="",ft!=null&&(Q=ft.replace(w,"$&/")+"/"),F(st,M,Q,"",function(Vi){return Vi})):st!=null&&(O(st)&&(st=V(st,Q+(st.key==null||T&&T.key===st.key?"":(""+st.key).replace(w,"$&/")+"/")+ft)),M.push(st)),1;ft=0;var $t=$===""?".":$+":";if(Kt(T))for(var It=0;It<T.length;It++)$=T[It],rt=$t+Rt($,It),ft+=F($,M,Q,rt,st);else if(It=H(T),typeof It=="function")for(T=It.call(T),It=0;!($=T.next()).done;)$=$.value,rt=$t+Rt($,It++),ft+=F($,M,Q,rt,st);else if(rt==="object"){if(typeof T.then=="function")return F(Xt(T),M,Q,$,st);throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ft}function nt(T,M,Q){if(T==null)return T;var $=[],st=0;return F(T,$,"","",function(rt){return M.call(Q,rt,st++)}),$}function ot(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var Nt=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Ft={map:nt,forEach:function(T,M,Q){nt(T,function(){M.apply(this,arguments)},Q)},count:function(T){var M=0;return nt(T,function(){M++}),M},toArray:function(T){return nt(T,function(M){return M})||[]},only:function(T){if(!O(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Tt.Activity=x,Tt.Children=Ft,Tt.Component=ut,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=pt,Tt.StrictMode=r,Tt.Suspense=y,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(T){return C.H.useMemoCache(T)}},Tt.cache=function(T){return function(){return T.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(T,M,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var $=et({},T.props),st=T.key;if(M!=null)for(rt in M.key!==void 0&&(st=""+M.key),M)!R.call(M,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&M.ref===void 0||($[rt]=M[rt]);var rt=arguments.length-2;if(rt===1)$.children=Q;else if(1<rt){for(var ft=Array(rt),$t=0;$t<rt;$t++)ft[$t]=arguments[$t+2];$.children=ft}return N(T.type,st,$)},Tt.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},Tt.createElement=function(T,M,Q){var $,st={},rt=null;if(M!=null)for($ in M.key!==void 0&&(rt=""+M.key),M)R.call(M,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(st[$]=M[$]);var ft=arguments.length-2;if(ft===1)st.children=Q;else if(1<ft){for(var $t=Array(ft),It=0;It<ft;It++)$t[It]=arguments[It+2];st.children=$t}if(T&&T.defaultProps)for($ in ft=T.defaultProps,ft)st[$]===void 0&&(st[$]=ft[$]);return N(T,rt,st)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(T){return{$$typeof:p,render:T}},Tt.isValidElement=O,Tt.lazy=function(T){return{$$typeof:A,_payload:{_status:-1,_result:T},_init:ot}},Tt.memo=function(T,M){return{$$typeof:_,type:T,compare:M===void 0?null:M}},Tt.startTransition=function(T){var M=C.T,Q={};C.T=Q;try{var $=T(),st=C.S;st!==null&&st(Q,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(xt,Nt)}catch(rt){Nt(rt)}finally{M!==null&&Q.types!==null&&(M.types=Q.types),C.T=M}},Tt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Tt.use=function(T){return C.H.use(T)},Tt.useActionState=function(T,M,Q){return C.H.useActionState(T,M,Q)},Tt.useCallback=function(T,M){return C.H.useCallback(T,M)},Tt.useContext=function(T){return C.H.useContext(T)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(T,M){return C.H.useDeferredValue(T,M)},Tt.useEffect=function(T,M){return C.H.useEffect(T,M)},Tt.useEffectEvent=function(T){return C.H.useEffectEvent(T)},Tt.useId=function(){return C.H.useId()},Tt.useImperativeHandle=function(T,M,Q){return C.H.useImperativeHandle(T,M,Q)},Tt.useInsertionEffect=function(T,M){return C.H.useInsertionEffect(T,M)},Tt.useLayoutEffect=function(T,M){return C.H.useLayoutEffect(T,M)},Tt.useMemo=function(T,M){return C.H.useMemo(T,M)},Tt.useOptimistic=function(T,M){return C.H.useOptimistic(T,M)},Tt.useReducer=function(T,M,Q){return C.H.useReducer(T,M,Q)},Tt.useRef=function(T){return C.H.useRef(T)},Tt.useState=function(T){return C.H.useState(T)},Tt.useSyncExternalStore=function(T,M,Q){return C.H.useSyncExternalStore(T,M,Q)},Tt.useTransition=function(){return C.H.useTransition()},Tt.version="19.2.3",Tt}var Q0;function Dm(){return Q0||(Q0=1,zd.exports=Fb()),zd.exports}var Mt=Dm();const Yb=Dv(Mt);var Bd={exports:{}},El={},qd={exports:{}},Hd={};var K0;function Qb(){return K0||(K0=1,(function(s){function t(F,nt){var ot=F.length;F.push(nt);t:for(;0<ot;){var Nt=ot-1>>>1,Ft=F[Nt];if(0<l(Ft,nt))F[Nt]=nt,F[ot]=Ft,ot=Nt;else break t}}function i(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var nt=F[0],ot=F.pop();if(ot!==nt){F[0]=ot;t:for(var Nt=0,Ft=F.length,T=Ft>>>1;Nt<T;){var M=2*(Nt+1)-1,Q=F[M],$=M+1,st=F[$];if(0>l(Q,ot))$<Ft&&0>l(st,Q)?(F[Nt]=st,F[$]=ot,Nt=$):(F[Nt]=Q,F[M]=ot,Nt=M);else if($<Ft&&0>l(st,ot))F[Nt]=st,F[$]=ot,Nt=$;else break t}}return nt}function l(F,nt){var ot=F.sortIndex-nt.sortIndex;return ot!==0?ot:F.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,x=null,D=3,H=!1,W=!1,et=!1,tt=!1,ut=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Pt(F){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=F)r(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function Kt(F){if(et=!1,Pt(F),!W)if(i(y)!==null)W=!0,xt||(xt=!0,j());else{var nt=i(_);nt!==null&&Xt(Kt,nt.startTime-F)}}var xt=!1,C=-1,R=5,N=-1;function V(){return tt?!0:!(s.unstable_now()-N<R)}function O(){if(tt=!1,xt){var F=s.unstable_now();N=F;var nt=!0;try{t:{W=!1,et&&(et=!1,dt(C),C=-1),H=!0;var ot=D;try{e:{for(Pt(F),x=i(y);x!==null&&!(x.expirationTime>F&&V());){var Nt=x.callback;if(typeof Nt=="function"){x.callback=null,D=x.priorityLevel;var Ft=Nt(x.expirationTime<=F);if(F=s.unstable_now(),typeof Ft=="function"){x.callback=Ft,Pt(F),nt=!0;break e}x===i(y)&&r(y),Pt(F)}else r(y);x=i(y)}if(x!==null)nt=!0;else{var T=i(_);T!==null&&Xt(Kt,T.startTime-F),nt=!1}}break t}finally{x=null,D=ot,H=!1}nt=void 0}}finally{nt?j():xt=!1}}}var j;if(typeof pt=="function")j=function(){pt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Rt=w.port2;w.port1.onmessage=O,j=function(){Rt.postMessage(null)}}else j=function(){ut(O,0)};function Xt(F,nt){C=ut(function(){F(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(F){F.callback=null},s.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(F){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var ot=D;D=nt;try{return F()}finally{D=ot}},s.unstable_requestPaint=function(){tt=!0},s.unstable_runWithPriority=function(F,nt){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ot=D;D=F;try{return nt()}finally{D=ot}},s.unstable_scheduleCallback=function(F,nt,ot){var Nt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Nt+ot:Nt):ot=Nt,F){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ot+Ft,F={id:A++,callback:nt,priorityLevel:F,startTime:ot,expirationTime:Ft,sortIndex:-1},ot>Nt?(F.sortIndex=ot,t(_,F),i(y)===null&&F===i(_)&&(et?(dt(C),C=-1):et=!0,Xt(Kt,ot-Nt))):(F.sortIndex=Ft,t(y,F),W||H||(W=!0,xt||(xt=!0,j()))),F},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(F){var nt=D;return function(){var ot=D;D=nt;try{return F.apply(this,arguments)}finally{D=ot}}}})(Hd)),Hd}var X0;function Kb(){return X0||(X0=1,qd.exports=Qb()),qd.exports}var Gd={exports:{}},Xe={};var $0;function Xb(){if($0)return Xe;$0=1;var s=Dm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Xe.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Xe.flushSync=function(y){var _=d.T,A=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=A,r.d.f()}},Xe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Xe.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Xe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,x=p(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:D,fetchPriority:H}):A==="script"&&r.d.X(y,{crossOrigin:x,integrity:D,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Xe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,x=p(A,_.crossOrigin);r.d.L(y,A,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xe.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Xe.requestFormReset=function(y){r.d.r(y)},Xe.unstable_batchedUpdates=function(y,_){return y(_)},Xe.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var Z0;function $b(){if(Z0)return Gd.exports;Z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Gd.exports=Xb(),Gd.exports}var J0;function Zb(){if(J0)return El;J0=1;var s=Kb(),t=Dm(),i=$b();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,b=h.child;b;){if(b===a){g=!0,a=h,o=f;break}if(b===o){g=!0,o=h,a=f;break}b=b.sibling}if(!g){for(b=f.child;b;){if(b===a){g=!0,a=f,o=h;break}if(b===o){g=!0,o=f,a=h;break}b=b.sibling}if(!g)throw Error(r(189))}}if(a.alternate!==o)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,D=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),Kt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ut:return"Profiler";case tt:return"StrictMode";case Kt:return"Suspense";case xt:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case pt:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:Rt(e.type)||"Memo";case R:n=e._payload,e=e._init;try{return Rt(e(n))}catch{}}return null}var Xt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Nt=[],Ft=-1;function T(e){return{current:e}}function M(e){0>Ft||(e.current=Nt[Ft],Nt[Ft]=null,Ft--)}function Q(e,n){Ft++,Nt[Ft]=e.current,e.current=n}var $=T(null),st=T(null),rt=T(null),ft=T(null);function $t(e,n){switch(Q(rt,n),Q(st,e),Q($,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?d0(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=d0(n),e=m0(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}M($),Q($,e)}function It(){M($),M(st),M(rt)}function Vi(e){e.memoizedState!==null&&Q(ft,e);var n=$.current,a=m0(n,e.type);n!==a&&(Q(st,e),Q($,a))}function Jr(e){st.current===e&&(M($),M(st)),ft.current===e&&(M(ft),pl._currentValue=ot)}var Wr,ta;function ii(e){if(Wr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ta=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+ta}var po=!1;function cr(e,n){if(!e||po)return"";po=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(G){var B=G}Reflect.construct(e,[],X)}else{try{X.call()}catch(G){B=G}e.call(X.prototype)}}else{try{throw Error()}catch(G){B=G}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(G){if(G&&B&&typeof G.stack=="string")return[G.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],b=f[1];if(g&&b){var I=g.split(`
`),z=b.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var Y=`
`+I[o].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=o&&0<=h);break}}}finally{po=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ii(a):""}function go(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return cr(e.type,!1);case 11:return cr(e.type.render,!1);case 1:return cr(e.type,!0);case 31:return ii("Activity");default:return""}}function yo(e){try{var n="",a=null;do n+=go(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,Oe=s.unstable_scheduleCallback,hs=s.unstable_cancelCallback,zh=s.unstable_shouldYield,eu=s.unstable_requestPaint,nn=s.unstable_now,hr=s.unstable_getCurrentPriorityLevel,_o=s.unstable_ImmediatePriority,vo=s.unstable_UserBlockingPriority,fs=s.unstable_NormalPriority,Bh=s.unstable_LowPriority,nu=s.unstable_IdlePriority,iu=s.log,su=s.unstable_setDisableYieldValue,qn=null,ze=null;function wn(e){if(typeof iu=="function"&&su(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(qn,e)}catch{}}var pe=Math.clz32?Math.clz32:au,ru=Math.log,ea=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/ea|0)|0}var si=256,fr=262144,be=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var b=o&134217727;return b!==0?(o=b&~f,o!==0?h=ri(o):(g&=b,g!==0?h=ri(g):a||(a=b&~e,a!==0&&(h=ri(a))))):(b=o&~f,b!==0?h=ri(b):g!==0?h=ri(g):a||(a=o&~e,a!==0&&(h=ri(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function oi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,n,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var b=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(a=g&~a;0<a;){var Y=31-pe(a),X=1<<Y;b[Y]=0,I[Y]=-1;var B=z[Y];if(B!==null)for(z[Y]=null,Y=0;Y<B.length;Y++){var G=B[Y];G!==null&&(G.lane&=-536870913)}a&=~X}o!==0&&mr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function mr(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-pe(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Eo(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-pe(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function To(e,n){var a=n&-n;return a=(a&42)!==0?1:pr(a),(a&(e.suspendedLanes|n))!==0?0:a}function pr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:U0(e.type))}function Gn(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var Fn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Fn,je="__reactProps$"+Fn,li="__reactContainer$"+Fn,na="__reactEvents$"+Fn,Gh="__reactListeners$"+Fn,uu="__reactHandles$"+Fn,cu="__reactResources$"+Fn,ui="__reactMarker$"+Fn;function ia(e){delete e[Se],delete e[je],delete e[na],delete e[Gh],delete e[uu]}function ci(e){var n=e[Se];if(n)return n;for(var a=e.parentNode;a;){if(n=a[li]||a[Se]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=T0(e);e!==null;){if(a=e[Se])return a;e=T0(e)}return n}e=a,a=e.parentNode}return null}function xn(e){if(e=e[Se]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function hi(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[ui]=!0}var bo=new Set,So={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(So[e]=n,e=0;e<n.length;e++)bo.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},xo={};function hu(e){return Te.call(xo,e)?!0:Te.call(wo,e)?!1:Ao.test(e)?xo[e]=!0:(wo[e]=!0,!1)}function sa(e,n,a){if(hu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function gn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function we(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ds(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ro(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=ds(e)?"checked":"value";e._valueTracker=Ro(e,n,""+e[n])}}function gr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=ds(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yr=/[\n"\\]/g;function an(e){return e.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,a,o,h,f,g,b){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Co(e,g,Ue(n)):a!=null?Co(e,g,Ue(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+Ue(b):e.removeAttribute("name")}function fu(e,n,a,o,h,f,g,b){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}a=a!=null?""+Ue(a):"",n=n!=null?""+Ue(n):a,b||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=b?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function Co(e,n,a){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ms(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Ue(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,a){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ue(a):""}function ps(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(r(92));if(Xt(o)){if(1<o.length)throw Error(r(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ue(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Jt(e)}function on(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||mu.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function Io(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return gs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Yn(){}var Do=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ys=null,pi=null;function _r(e){var n=xn(e);if(n&&(e=n.stateNode)){var a=e[je]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+an(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(r(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&gr(o)}break t;case"textarea":du(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ms(e,!!a.multiple,n,!1)}}}var la=!1;function _s(e,n,a){if(la)return e(n,a);la=!0;try{var o=e(n);return o}finally{if(la=!1,(ys!==null||pi!==null)&&(lc(),ys&&(n=ys,e=pi,pi=ys=null,_r(n),e)))for(n=0;n<e.length;n++)_r(e[n])}}function Qn(e,n){var a=e.stateNode;if(a===null)return null;var o=a[je]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Cn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){vr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{vr=!1}var gi=null,Oo=null,Er=null;function Mo(){if(Er)return Er;var e,n=Oo,a=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&n[a-o]===h[f-o];o++);return Er=h.slice(e,1<o?1-o:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function Kn(){return!1}function Be(e){function n(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(a=e[b],this[b]=a?a(f):f[b]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ui:Kn,this.isPropagationStopped=Kn,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),n}var Li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Be(Li),vs=x({},Li,{view:0,detail:0}),ko=Be(vs),Es,ua,_i,ca=x({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(Es=e.screenX-_i.screenX,ua=e.screenY-_i.screenY):ua=Es=0,_i=e),Es)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Vo=Be(ca),br=x({},ca,{dataTransfer:0}),gu=Be(br),yu=x({},vs,{relatedTarget:0}),Sr=Be(yu),jo=x({},Li,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Be(jo),ha=x({},Li,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=Be(ha),Eu=x({},Li,{data:0}),vi=Be(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function Ts(){return Au}var sn=x({},vs,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=Be(sn),xu=x({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pi=Be(xu),u=x({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),m=Be(u),v=x({},Li,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Be(v),L=x({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(L),it=x({},Li,{newState:0,oldState:0}),At=Be(it),ge=[9,13,27,32],Yt=Cn&&"CompositionEvent"in window,ce=null;Cn&&"documentMode"in document&&(ce=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!ce,Ei=Cn&&(!Yt||ce&&8<ce&&11>=ce),Xn=" ",$n=!1;function Ar(e,n){switch(e){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function dT(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return e=n.data,e===Xn&&$n?null:e;default:return null}}function mT(e,n){if(da)return e==="compositionend"||!Yt&&Ar(e,n)?(e=Mo(),Er=Oo=gi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ap(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!pT[e.type]:n==="textarea"}function wp(e,n,a,o){ys?pi?pi.push(o):pi=[o]:ys=o,n=pc(n,"onChange"),0<n.length&&(a=new yi("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Uo=null,Lo=null;function gT(e){o0(e,0)}function Ru(e){var n=pn(e);if(gr(n))return e}function xp(e,n){if(e==="change")return n}var Rp=!1;if(Cn){var Fh;if(Cn){var Yh="oninput"in document;if(!Yh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Yh=typeof Cp.oninput=="function"}Fh=Yh}else Fh=!1;Rp=Fh&&(!document.documentMode||9<document.documentMode)}function Np(){Uo&&(Uo.detachEvent("onpropertychange",Ip),Lo=Uo=null)}function Ip(e){if(e.propertyName==="value"&&Ru(Lo)){var n=[];wp(n,Lo,e,Rn(e)),_s(gT,n)}}function yT(e,n,a){e==="focusin"?(Np(),Uo=n,Lo=a,Uo.attachEvent("onpropertychange",Ip)):e==="focusout"&&Np()}function _T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Lo)}function vT(e,n){if(e==="click")return Ru(n)}function ET(e,n){if(e==="input"||e==="change")return Ru(n)}function TT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:TT;function Po(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Op(e,n){var a=Dp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Dp(a)}}function Mp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Mp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=mi(e.document)}return n}function Qh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var bT=Cn&&"documentMode"in document&&11>=document.documentMode,ma=null,Kh=null,zo=null,Xh=!1;function Vp(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Xh||ma==null||ma!==mi(o)||(o=ma,"selectionStart"in o&&Qh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),zo&&Po(zo,o)||(zo=o,o=pc(Kh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=ma)))}function wr(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var pa={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},$h={},jp={};Cn&&(jp=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function xr(e){if($h[e])return $h[e];if(!pa[e])return e;var n=pa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in jp)return $h[e]=n[a];return e}var Up=xr("animationend"),Lp=xr("animationiteration"),Pp=xr("animationstart"),ST=xr("transitionrun"),AT=xr("transitionstart"),wT=xr("transitioncancel"),zp=xr("transitionend"),Bp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function Zn(e,n){Bp.set(e,n),fi(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ga=0,Jh=0;function Nu(){for(var e=ga,n=Jh=ga=0;n<e;){var a=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&qp(a,h,f)}}function Iu(e,n,a,o){In[ga++]=e,In[ga++]=n,In[ga++]=a,In[ga++]=o,Jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,n,a,o){return Iu(e,n,a,o),Du(e)}function Rr(e,n){return Iu(e,null,null,n),Du(e)}function qp(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-pe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Du(e){if(50<ll)throw ll=0,ud=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function xT(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,a,o){return new xT(e,n,a,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zi(e,n){var a=e.alternate;return a===null?(a=_n(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hp(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,a,o,h,f){var g=0;if(o=e,typeof e=="function")tf(e)&&(g=1);else if(typeof e=="string")g=Db(e,a,$.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=_n(31,a,n,h),e.elementType=N,e.lanes=f,e;case et:return Cr(a.children,h,f,n);case tt:g=8,h|=24;break;case ut:return e=_n(12,a,n,h|2),e.elementType=ut,e.lanes=f,e;case Kt:return e=_n(13,a,n,h),e.elementType=Kt,e.lanes=f,e;case xt:return e=_n(19,a,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case dt:g=9;break t;case Pt:g=11;break t;case C:g=14;break t;case R:g=16,o=null;break t}g=29,a=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=_n(g,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Cr(e,n,a,o){return e=_n(7,e,o,n),e.lanes=a,e}function ef(e,n,a){return e=_n(6,e,null,n),e.lanes=a,e}function Gp(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function nf(e,n,a){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Fp=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var a=Fp.get(e);return a!==void 0?a:(n={value:e,source:n,stack:yo(n)},Fp.set(e,n),n)}return{value:e,source:n,stack:yo(n)}}var _a=[],va=0,Mu=null,Bo=0,On=[],Mn=0,bs=null,Ti=1,bi="";function Bi(e,n){_a[va++]=Bo,_a[va++]=Mu,Mu=e,Bo=n}function Yp(e,n,a){On[Mn++]=Ti,On[Mn++]=bi,On[Mn++]=bs,bs=e;var o=Ti;e=bi;var h=32-pe(o)-1;o&=~(1<<h),a+=1;var f=32-pe(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ti=1<<32-pe(n)+h|a<<h|o,bi=f+e}else Ti=1<<f|a<<h|o,bi=e}function sf(e){e.return!==null&&(Bi(e,1),Yp(e,1,0))}function rf(e){for(;e===Mu;)Mu=_a[--va],_a[va]=null,Bo=_a[--va],_a[va]=null;for(;e===bs;)bs=On[--Mn],On[Mn]=null,bi=On[--Mn],On[Mn]=null,Ti=On[--Mn],On[Mn]=null}function Qp(e,n){On[Mn++]=Ti,On[Mn++]=bi,On[Mn++]=bs,Ti=n.id,bi=n.overflow,bs=e}var qe=null,ae=null,zt=!1,Ss=null,kn=!1,af=Error(r(519));function As(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Dn(n,e)),af}function Kp(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[Se]=e,n[je]=o,a){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(a=0;a<cl.length;a++)Ot(cl[a],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),ps(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||h0(n.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Yn),n=!0):n=!1,n||As(e,!0)}function Xp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qe=qe.return}}function Ea(e){if(e!==qe)return!1;if(!zt)return Xp(e),zt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Ad(e.type,e.memoizedProps)),a=!a),a&&ae&&As(e),Xp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=E0(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ae=E0(e)}else n===27?(n=ae,Ls(e.type)?(e=Nd,Nd=null,ae=e):ae=n):ae=qe?jn(e.stateNode.nextSibling):null;return!0}function Nr(){ae=qe=null,zt=!1}function of(){var e=Ss;return e!==null&&(hn===null?hn=e:hn.push.apply(hn,e),Ss=null),e}function qo(e){Ss===null?Ss=[e]:Ss.push(e)}var lf=T(null),Ir=null,qi=null;function ws(e,n,a){Q(lf,n._currentValue),n._currentValue=a}function Hi(e){e._currentValue=lf.current,M(lf)}function uf(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function cf(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var b=f;f=h;for(var I=0;I<n.length;I++)if(b.context===n[I]){f.lanes|=a,b=f.alternate,b!==null&&(b.lanes|=a),uf(f.return,a,e),o||(g=null);break t}f=b.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),uf(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ta(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var b=h.type;yn(h.pendingProps.value,g.value)||(e!==null?e.push(b):e=[b])}}else if(h===ft.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(pl):e=[pl])}h=h.return}e!==null&&cf(n,e,a,o),n.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Ir=e,qi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return $p(Ir,e)}function Vu(e,n){return Ir===null&&Dr(e),$p(e,n)}function $p(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},qi===null){if(e===null)throw Error(r(308));qi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else qi=qi.next=n;return a}var RT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},CT=s.unstable_scheduleCallback,NT=s.unstable_NormalPriority,xe={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new RT,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&CT(NT,function(){e.controller.abort()})}var Go=null,ff=0,ba=0,Sa=null;function IT(e,n){if(Go===null){var a=Go=[];ff=0,ba=pd(),Sa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return ff++,n.then(Zp,Zp),n}function Zp(){if(--ff===0&&Go!==null){Sa!==null&&(Sa.status="fulfilled");var e=Go;Go=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function DT(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Jp=F.S;F.S=function(e,n){Vy=nn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IT(e,n),Jp!==null&&Jp(e,n)};var Or=T(null);function df(){var e=Or.current;return e!==null?e:re.pooledCache}function ju(e,n){n===null?Q(Or,Or.current):Q(Or,n.pool)}function Wp(){var e=df();return e===null?null:{parent:xe._currentValue,pool:e}}var Aa=Error(r(460)),mf=Error(r(474)),Uu=Error(r(542)),Lu={then:function(){}};function tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eg(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Yn,Yn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ig(e),e;default:if(typeof n.status=="string")n.then(Yn,Yn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ig(e),e}throw kr=n,Aa}}function Mr(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(kr=a,Aa):a}}var kr=null;function ng(){if(kr===null)throw Error(r(459));var e=kr;return kr=null,e}function ig(e){if(e===Aa||e===Uu)throw Error(r(483))}var wa=null,Fo=0;function Pu(e){var n=Fo;return Fo+=1,wa===null&&(wa=[]),eg(wa,e,n)}function Yo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===D?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sg(e){function n(U,k){if(e){var P=U.deletions;P===null?(U.deletions=[k],U.flags|=16):P.push(k)}}function a(U,k){if(!e)return null;for(;k!==null;)n(U,k),k=k.sibling;return null}function o(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=zi(U,k),U.index=0,U.sibling=null,U}function f(U,k,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<k?(U.flags|=67108866,k):P):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function b(U,k,P,K){return k===null||k.tag!==6?(k=ef(P,U.mode,K),k.return=U,k):(k=h(k,P),k.return=U,k)}function I(U,k,P,K){var mt=P.type;return mt===et?Y(U,k,P.props.children,K,P.key):k!==null&&(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&Mr(mt)===k.type)?(k=h(k,P.props),Yo(k,P),k.return=U,k):(k=Ou(P.type,P.key,P.props,null,U.mode,K),Yo(k,P),k.return=U,k)}function z(U,k,P,K){return k===null||k.tag!==4||k.stateNode.containerInfo!==P.containerInfo||k.stateNode.implementation!==P.implementation?(k=nf(P,U.mode,K),k.return=U,k):(k=h(k,P.children||[]),k.return=U,k)}function Y(U,k,P,K,mt){return k===null||k.tag!==7?(k=Cr(P,U.mode,K,mt),k.return=U,k):(k=h(k,P),k.return=U,k)}function X(U,k,P){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=ef(""+k,U.mode,P),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case H:return P=Ou(k.type,k.key,k.props,null,U.mode,P),Yo(P,k),P.return=U,P;case W:return k=nf(k,U.mode,P),k.return=U,k;case R:return k=Mr(k),X(U,k,P)}if(Xt(k)||j(k))return k=Cr(k,U.mode,P,null),k.return=U,k;if(typeof k.then=="function")return X(U,Pu(k),P);if(k.$$typeof===pt)return X(U,Vu(U,k),P);zu(U,k)}return null}function B(U,k,P,K){var mt=k!==null?k.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:b(U,k,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===mt?I(U,k,P,K):null;case W:return P.key===mt?z(U,k,P,K):null;case R:return P=Mr(P),B(U,k,P,K)}if(Xt(P)||j(P))return mt!==null?null:Y(U,k,P,K,null);if(typeof P.then=="function")return B(U,k,Pu(P),K);if(P.$$typeof===pt)return B(U,k,Vu(U,P),K);zu(U,P)}return null}function G(U,k,P,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,b(k,U,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return U=U.get(K.key===null?P:K.key)||null,I(k,U,K,mt);case W:return U=U.get(K.key===null?P:K.key)||null,z(k,U,K,mt);case R:return K=Mr(K),G(U,k,P,K,mt)}if(Xt(K)||j(K))return U=U.get(P)||null,Y(k,U,K,mt,null);if(typeof K.then=="function")return G(U,k,P,Pu(K),mt);if(K.$$typeof===pt)return G(U,k,P,Vu(k,K),mt);zu(k,K)}return null}function lt(U,k,P,K){for(var mt=null,Ht=null,ct=k,Ct=k=0,Vt=null;ct!==null&&Ct<P.length;Ct++){ct.index>Ct?(Vt=ct,ct=null):Vt=ct.sibling;var Gt=B(U,ct,P[Ct],K);if(Gt===null){ct===null&&(ct=Vt);break}e&&ct&&Gt.alternate===null&&n(U,ct),k=f(Gt,k,Ct),Ht===null?mt=Gt:Ht.sibling=Gt,Ht=Gt,ct=Vt}if(Ct===P.length)return a(U,ct),zt&&Bi(U,Ct),mt;if(ct===null){for(;Ct<P.length;Ct++)ct=X(U,P[Ct],K),ct!==null&&(k=f(ct,k,Ct),Ht===null?mt=ct:Ht.sibling=ct,Ht=ct);return zt&&Bi(U,Ct),mt}for(ct=o(ct);Ct<P.length;Ct++)Vt=G(ct,U,Ct,P[Ct],K),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?Ct:Vt.key),k=f(Vt,k,Ct),Ht===null?mt=Vt:Ht.sibling=Vt,Ht=Vt);return e&&ct.forEach(function(Hs){return n(U,Hs)}),zt&&Bi(U,Ct),mt}function yt(U,k,P,K){if(P==null)throw Error(r(151));for(var mt=null,Ht=null,ct=k,Ct=k=0,Vt=null,Gt=P.next();ct!==null&&!Gt.done;Ct++,Gt=P.next()){ct.index>Ct?(Vt=ct,ct=null):Vt=ct.sibling;var Hs=B(U,ct,Gt.value,K);if(Hs===null){ct===null&&(ct=Vt);break}e&&ct&&Hs.alternate===null&&n(U,ct),k=f(Hs,k,Ct),Ht===null?mt=Hs:Ht.sibling=Hs,Ht=Hs,ct=Vt}if(Gt.done)return a(U,ct),zt&&Bi(U,Ct),mt;if(ct===null){for(;!Gt.done;Ct++,Gt=P.next())Gt=X(U,Gt.value,K),Gt!==null&&(k=f(Gt,k,Ct),Ht===null?mt=Gt:Ht.sibling=Gt,Ht=Gt);return zt&&Bi(U,Ct),mt}for(ct=o(ct);!Gt.done;Ct++,Gt=P.next())Gt=G(ct,U,Ct,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&ct.delete(Gt.key===null?Ct:Gt.key),k=f(Gt,k,Ct),Ht===null?mt=Gt:Ht.sibling=Gt,Ht=Gt);return e&&ct.forEach(function(qb){return n(U,qb)}),zt&&Bi(U,Ct),mt}function se(U,k,P,K){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var mt=P.key;k!==null;){if(k.key===mt){if(mt=P.type,mt===et){if(k.tag===7){a(U,k.sibling),K=h(k,P.props.children),K.return=U,U=K;break t}}else if(k.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===R&&Mr(mt)===k.type){a(U,k.sibling),K=h(k,P.props),Yo(K,P),K.return=U,U=K;break t}a(U,k);break}else n(U,k);k=k.sibling}P.type===et?(K=Cr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=Ou(P.type,P.key,P.props,null,U.mode,K),Yo(K,P),K.return=U,U=K)}return g(U);case W:t:{for(mt=P.key;k!==null;){if(k.key===mt)if(k.tag===4&&k.stateNode.containerInfo===P.containerInfo&&k.stateNode.implementation===P.implementation){a(U,k.sibling),K=h(k,P.children||[]),K.return=U,U=K;break t}else{a(U,k);break}else n(U,k);k=k.sibling}K=nf(P,U.mode,K),K.return=U,U=K}return g(U);case R:return P=Mr(P),se(U,k,P,K)}if(Xt(P))return lt(U,k,P,K);if(j(P)){if(mt=j(P),typeof mt!="function")throw Error(r(150));return P=mt.call(P),yt(U,k,P,K)}if(typeof P.then=="function")return se(U,k,Pu(P),K);if(P.$$typeof===pt)return se(U,k,Vu(U,P),K);zu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,k!==null&&k.tag===6?(a(U,k.sibling),K=h(k,P),K.return=U,U=K):(a(U,k),K=ef(P,U.mode,K),K.return=U,U=K),g(U)):a(U,k)}return function(U,k,P,K){try{Fo=0;var mt=se(U,k,P,K);return wa=null,mt}catch(ct){if(ct===Aa||ct===Uu)throw ct;var Ht=_n(29,ct,null,U.mode);return Ht.lanes=K,Ht.return=U,Ht}}}var Vr=sg(!0),rg=sg(!1),xs=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Rs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Cs(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),qp(e,null,a),n}return Iu(e,o,n,a),Du(e)}function Qo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Eo(e,a)}}function yf(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var _f=!1;function Ko(){if(_f){var e=Sa;if(e!==null)throw e}}function Xo(e,n,a,o){_f=!1;var h=e.updateQueue;xs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var I=b,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==g&&(b===null?Y.firstBaseUpdate=z:b.next=z,Y.lastBaseUpdate=I))}if(f!==null){var X=h.baseState;g=0,Y=z=I=null,b=f;do{var B=b.lane&-536870913,G=B!==b.lane;if(G?(kt&B)===B:(o&B)===B){B!==0&&B===ba&&(_f=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var lt=e,yt=b;B=n;var se=a;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){X=lt.call(se,X,B);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,B=typeof lt=="function"?lt.call(se,X,B):lt,B==null)break t;X=x({},X,B);break t;case 2:xs=!0}}B=b.callback,B!==null&&(e.flags|=64,G&&(e.flags|=8192),G=h.callbacks,G===null?h.callbacks=[B]:G.push(B))}else G={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(z=Y=G,I=X):Y=Y.next=G,g|=B;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);Y===null&&(I=X),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=Y,f===null&&(h.shared.lanes=0),Ms|=g,e.lanes=g,e.memoizedState=X}}function ag(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function og(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)ag(a[e],n)}var xa=T(null),Bu=T(0);function lg(e,n){e=Ji,Q(Bu,e),Q(xa,n),Ji=e|n.baseLanes}function vf(){Q(Bu,Ji),Q(xa,xa.current)}function Ef(){Ji=Bu.current,M(xa),M(Bu)}var vn=T(null),Vn=null;function Ns(e){var n=e.alternate;Q(ye,ye.current&1),Q(vn,e),Vn===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(Vn=e)}function Tf(e){Q(ye,ye.current),Q(vn,e),Vn===null&&(Vn=e)}function ug(e){e.tag===22?(Q(ye,ye.current),Q(vn,e),Vn===null&&(Vn=e)):Is()}function Is(){Q(ye,ye.current),Q(vn,vn.current)}function En(e){M(vn),Vn===e&&(Vn=null),M(ye)}var ye=T(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Rd(a)||Cd(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Gi=0,wt=null,ne=null,Re=null,Hu=!1,Ra=!1,jr=!1,Gu=0,$o=0,Ca=null,OT=0;function de(){throw Error(r(321))}function bf(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!yn(e[a],n[a]))return!1;return!0}function Sf(e,n,a,o,h,f){return Gi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,F.H=e===null||e.memoizedState===null?Yg:Lf,jr=!1,f=a(o,h),jr=!1,Ra&&(f=hg(n,a,o,h)),cg(e),f}function cg(e){F.H=Wo;var n=ne!==null&&ne.next!==null;if(Gi=0,Re=ne=wt=null,Hu=!1,$o=0,Ca=null,n)throw Error(r(300));e===null||Ce||(e=e.dependencies,e!==null&&ku(e)&&(Ce=!0))}function hg(e,n,a,o){wt=e;var h=0;do{if(Ra&&(Ca=null),$o=0,Ra=!1,25<=h)throw Error(r(301));if(h+=1,Re=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}F.H=Qg,f=n(a,o)}while(Ra);return f}function MT(){var e=F.H,n=e.useState()[0];return n=typeof n.then=="function"?Zo(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(wt.flags|=1024),n}function Af(){var e=Gu!==0;return Gu=0,e}function wf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function xf(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}Gi=0,Re=ne=wt=null,Ra=!1,$o=Gu=0,Ca=null}function rn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?wt.memoizedState=Re=e:Re=Re.next=e,Re}function _e(){if(ne===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Re===null?wt.memoizedState:Re.next;if(n!==null)Re=n,ne=e;else{if(e===null)throw wt.alternate===null?Error(r(467)):Error(r(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Re===null?wt.memoizedState=Re=e:Re=Re.next=e}return Re}function Fu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(e){var n=$o;return $o+=1,Ca===null&&(Ca=[]),e=eg(Ca,e,n),n=wt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,F.H=n===null||n.memoizedState===null?Yg:Lf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zo(e);if(e.$$typeof===pt)return He(e)}throw Error(r(438,String(e)))}function Rf(e){var n=null,a=wt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Fu(),wt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=V;return n.index++,a}function Fi(e,n){return typeof n=="function"?n(e):n}function Qu(e){var n=_e();return Cf(n,ne,e)}function Cf(e,n,a){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var b=g=null,I=null,z=n,Y=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(kt&X)===X:(Gi&X)===X){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ba&&(Y=!0);else if((Gi&B)===B){z=z.next,B===ba&&(Y=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(b=I=X,g=f):I=I.next=X,wt.lanes|=B,Ms|=B;X=z.action,jr&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(b=I=B,g=f):I=I.next=B,wt.lanes|=X,Ms|=X;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=b,!yn(f,e.memoizedState)&&(Ce=!0,Y&&(a=Sa,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Nf(e){var n=_e(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);yn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function fg(e,n,a){var o=wt,h=_e(),f=zt;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=n();var g=!yn((ne||h).memoizedState,a);if(g&&(h.memoizedState=a,Ce=!0),h=h.queue,Of(pg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},mg.bind(null,o,h,a,n),null),re===null)throw Error(r(349));f||(Gi&127)!==0||dg(o,n,a)}return a}function dg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=wt.updateQueue,n===null?(n=Fu(),wt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function mg(e,n,a,o){n.value=a,n.getSnapshot=o,gg(n)&&yg(e)}function pg(e,n,a){return a(function(){gg(n)&&yg(e)})}function gg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!yn(e,a)}catch{return!0}}function yg(e){var n=Rr(e,2);n!==null&&fn(n,e,2)}function If(e){var n=rn();if(typeof e=="function"){var a=e;if(e=a(),jr){wn(!0);try{a()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:e},n}function _g(e,n,a,o){return e.baseState=a,Cf(e,ne,typeof o=="function"?o:Fi)}function kT(e,n,a,o,h){if($u(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};F.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,vg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function vg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=F.T,g={};F.T=g;try{var b=a(h,o),I=F.S;I!==null&&I(g,b),Eg(e,n,b)}catch(z){Df(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),F.T=f}}else try{f=a(h,o),Eg(e,n,f)}catch(z){Df(e,n,z)}}function Eg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Tg(e,n,o)},function(o){return Df(e,n,o)}):Tg(e,n,a)}function Tg(e,n,a){n.status="fulfilled",n.value=a,bg(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,vg(e,a)))}function Df(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,bg(n),n=n.next;while(n!==o)}e.action=null}function bg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sg(e,n){return n}function Ag(e,n){if(zt){var a=re.formState;if(a!==null){t:{var o=wt;if(zt){if(ae){e:{for(var h=ae,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ae=jn(h.nextSibling),o=h.data==="F!";break t}}As(o)}o=!1}o&&(n=a[0])}}return a=rn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:n},a.queue=o,a=Hg.bind(null,wt,o),o.dispatch=a,o=If(!1),f=Uf.bind(null,wt,!1,o.queue),o=rn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=kT.bind(null,wt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function wg(e){var n=_e();return xg(n,ne,e)}function xg(e,n,a){if(n=Cf(e,n,Sg)[0],e=Qu(Fi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Zo(n)}catch(g){throw g===Aa?Uu:g}else o=n;n=_e();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(wt.flags|=2048,Na(9,{destroy:void 0},VT.bind(null,h,a),null)),[o,f,e]}function VT(e,n){e.action=n}function Rg(e){var n=_e(),a=ne;if(a!==null)return xg(n,a,e);_e(),n=n.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function Na(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=Fu(),wt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function Cg(){return _e().memoizedState}function Ku(e,n,a,o){var h=rn();wt.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},a,o===void 0?null:o)}function Xu(e,n,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;ne!==null&&o!==null&&bf(o,ne.memoizedState.deps)?h.memoizedState=Na(n,f,a,o):(wt.flags|=e,h.memoizedState=Na(1|n,f,a,o))}function Ng(e,n){Ku(8390656,8,e,n)}function Of(e,n){Xu(2048,8,e,n)}function jT(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=Fu(),wt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Ig(e){var n=_e().memoizedState;return jT({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Dg(e,n){return Xu(4,2,e,n)}function Og(e,n){return Xu(4,4,e,n)}function Mg(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kg(e,n,a){a=a!=null?a.concat([e]):null,Xu(4,4,Mg.bind(null,n,e),a)}function Mf(){}function Vg(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&bf(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function jg(e,n){var a=_e();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&bf(n,o[1]))return o[0];if(o=e(),jr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o}function kf(e,n,a){return a===void 0||(Gi&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=Uy(),wt.lanes|=e,Ms|=e,a)}function Ug(e,n,a,o){return yn(a,n)?a:xa.current!==null?(e=kf(e,a,o),yn(e,n)||(Ce=!0),e):(Gi&42)===0||(Gi&1073741824)!==0&&(kt&261930)===0?(Ce=!0,e.memoizedState=a):(e=Uy(),wt.lanes|=e,Ms|=e,n)}function Lg(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=F.T,b={};F.T=b,Uf(e,!1,n,a);try{var I=h(),z=F.S;if(z!==null&&z(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=DT(I,o);Jo(e,n,Y,Sn(e))}else Jo(e,n,o,Sn(e))}catch(X){Jo(e,n,{then:function(){},status:"rejected",reason:X},Sn())}finally{nt.p=f,g!==null&&b.types!==null&&(g.types=b.types),F.T=g}}function UT(){}function Vf(e,n,a,o){if(e.tag!==5)throw Error(r(476));var h=Pg(e).queue;Lg(e,h,n,ot,a===null?UT:function(){return zg(e),a(o)})}function Pg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:ot},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zg(e){var n=Pg(e);n.next===null&&(n=e.alternate.memoizedState),Jo(e,n.next.queue,{},Sn())}function jf(){return He(pl)}function Bg(){return _e().memoizedState}function qg(){return _e().memoizedState}function LT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Sn();e=Rs(a);var o=Cs(n,e,a);o!==null&&(fn(o,n,a),Qo(o,n,a)),n={cache:hf()},e.payload=n;return}n=n.return}}function PT(e,n,a){var o=Sn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},$u(e)?Gg(n,a):(a=Wh(e,n,a,o),a!==null&&(fn(a,e,o),Fg(a,n,o)))}function Hg(e,n,a){var o=Sn();Jo(e,n,a,o)}function Jo(e,n,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if($u(e))Gg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,b=f(g,a);if(h.hasEagerState=!0,h.eagerState=b,yn(b,g))return Iu(e,n,h,0),re===null&&Nu(),!1}catch{}if(a=Wh(e,n,h,o),a!==null)return fn(a,e,o),Fg(a,n,o),!0}return!1}function Uf(e,n,a,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(r(479))}else n=Wh(e,a,o,2),n!==null&&fn(n,e,2)}function $u(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Gg(e,n){Ra=Hu=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Fg(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Eo(e,a)}}var Wo={readContext:He,use:Yu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Wo.useEffectEvent=de;var Yg={readContext:He,use:Yu,useCallback:function(e,n){return rn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Ng,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Ku(4194308,4,Mg.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Ku(4194308,4,e,n)},useInsertionEffect:function(e,n){Ku(4,2,e,n)},useMemo:function(e,n){var a=rn();n=n===void 0?null:n;var o=e();if(jr){wn(!0);try{e()}finally{wn(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=rn();if(a!==void 0){var h=a(n);if(jr){wn(!0);try{a(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=PT.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=rn();return e={current:e},n.memoizedState=e},useState:function(e){e=If(e);var n=e.queue,a=Hg.bind(null,wt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Mf,useDeferredValue:function(e,n){var a=rn();return kf(a,e,n)},useTransition:function(){var e=If(!1);return e=Lg.bind(null,wt,e.queue,!0,!1),rn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=wt,h=rn();if(zt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),re===null)throw Error(r(349));(kt&127)!==0||dg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,Ng(pg.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},mg.bind(null,o,f,a,n),null),a},useId:function(){var e=rn(),n=re.identifierPrefix;if(zt){var a=bi,o=Ti;a=(o&~(1<<32-pe(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=Gu++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=OT++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:jf,useFormState:Ag,useActionState:Ag,useOptimistic:function(e){var n=rn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Uf.bind(null,wt,!0,a),a.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return rn().memoizedState=LT.bind(null,wt)},useEffectEvent:function(e){var n=rn(),a={impl:e};return n.memoizedState=a,function(){if((Qt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},Lf={readContext:He,use:Yu,useCallback:Vg,useContext:He,useEffect:Of,useImperativeHandle:kg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:jg,useReducer:Qu,useRef:Cg,useState:function(){return Qu(Fi)},useDebugValue:Mf,useDeferredValue:function(e,n){var a=_e();return Ug(a,ne.memoizedState,e,n)},useTransition:function(){var e=Qu(Fi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:jf,useFormState:wg,useActionState:wg,useOptimistic:function(e,n){var a=_e();return _g(a,ne,e,n)},useMemoCache:Rf,useCacheRefresh:qg};Lf.useEffectEvent=Ig;var Qg={readContext:He,use:Yu,useCallback:Vg,useContext:He,useEffect:Of,useImperativeHandle:kg,useInsertionEffect:Dg,useLayoutEffect:Og,useMemo:jg,useReducer:Nf,useRef:Cg,useState:function(){return Nf(Fi)},useDebugValue:Mf,useDeferredValue:function(e,n){var a=_e();return ne===null?kf(a,e,n):Ug(a,ne.memoizedState,e,n)},useTransition:function(){var e=Nf(Fi)[0],n=_e().memoizedState;return[typeof e=="boolean"?e:Zo(e),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:jf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,n){var a=_e();return ne!==null?_g(a,ne,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:qg};Qg.useEffectEvent=Ig;function Pf(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:x({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var zf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=Sn(),h=Rs(o);h.payload=n,a!=null&&(h.callback=a),n=Cs(e,h,o),n!==null&&(fn(n,e,o),Qo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=Sn(),h=Rs(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=Cs(e,h,o),n!==null&&(fn(n,e,o),Qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Sn(),o=Rs(a);o.tag=2,n!=null&&(o.callback=n),n=Cs(e,o,a),n!==null&&(fn(n,e,a),Qo(n,e,a))}};function Kg(e,n,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Po(a,o)||!Po(h,f):!0}function Xg(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&zf.enqueueReplaceState(n,n.state,null)}function Ur(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=x({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function $g(e){Cu(e)}function Zg(e){console.error(e)}function Jg(e){Cu(e)}function Zu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wg(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,n,a){return a=Rs(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,n)},a}function ty(e){return e=Rs(e),e.tag=3,e}function ey(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Wg(n,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Wg(n,a,o),typeof h!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})})}function zT(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Ta(n,a,h,!0),a=vn.current,a!==null){switch(a.tag){case 31:case 13:return Vn===null?uc():a.alternate===null&&me===0&&(me=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Lu?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),fd(e,o,h)),!1;case 22:return a.flags|=65536,o===Lu?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),fd(e,o,h)),!1}throw Error(r(435,a.tag))}return fd(e,o,h),uc(),!1}if(zt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==af&&(e=Error(r(422),{cause:o}),qo(Dn(e,a)))):(o!==af&&(n=Error(r(423),{cause:o}),qo(Dn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,a),h=Bf(e.stateNode,o,h),yf(e,h),me!==4&&(me=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,a),ol===null?ol=[f]:ol.push(f),me!==4&&(me=2),n===null)return!0;o=Dn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Bf(a.stateNode,o,e),yf(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ks===null||!ks.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=ty(h),ey(h,e,a,o),yf(a,h),!1}a=a.return}while(a!==null);return!1}var qf=Error(r(461)),Ce=!1;function Ge(e,n,a,o){n.child=e===null?rg(n,null,a,o):Vr(n,e.child,a,o)}function ny(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var g={};for(var b in o)b!=="ref"&&(g[b]=o[b])}else g=o;return Dr(n),o=Sf(e,n,a,g,f,h),b=Af(),e!==null&&!Ce?(wf(e,n,h),Yi(e,n,h)):(zt&&b&&sf(n),n.flags|=1,Ge(e,n,o,h),n.child)}function iy(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,sy(e,n,f,o,h)):(e=Ou(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!$f(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Po,a(g,o)&&e.ref===n.ref)return Yi(e,n,h)}return n.flags|=1,e=zi(f,o),e.ref=n.ref,e.return=n,n.child=e}function sy(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Po(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,$f(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Yi(e,n,h)}return Hf(e,n,a,o,h)}function ry(e,n,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(e,n,f,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(n,f!==null?f.cachePool:null),f!==null?lg(n,f):vf(),ug(n);else return o=n.lanes=536870912,ay(e,n,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(ju(n,f.cachePool),lg(n,f),Is(),n.memoizedState=null):(e!==null&&ju(n,null),vf(),Is());return Ge(e,n,h,a),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(e,n,a,o,h){var f=df();return f=f===null?null:{parent:xe._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},e!==null&&ju(n,null),vf(),ug(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function oy(e,n,a){return Vr(n,e.child,null,a),e=Ju(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function BT(e,n,a){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,tl(null,e);if(Tf(n),(e=ae)?(e=v0(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Gp(e),a.return=n,n.child=a,qe=n,ae=null)):e=null,e===null)throw As(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=oy(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ce||Ta(e,n,a,!1),h=(a&e.childLanes)!==0,Ce||h){if(o=re,o!==null&&(g=To(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,Rr(e,g),fn(o,e,g),qf;uc(),n=oy(e,n,a)}else e=f.treeContext,ae=jn(g.nextSibling),qe=n,zt=!0,Ss=null,kn=!1,e!==null&&Qp(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=zi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Hf(e,n,a,o,h){return Dr(n),a=Sf(e,n,a,o,void 0,h),o=Af(),e!==null&&!Ce?(wf(e,n,h),Yi(e,n,h)):(zt&&o&&sf(n),n.flags|=1,Ge(e,n,a,h),n.child)}function ly(e,n,a,o,h,f){return Dr(n),n.updateQueue=null,a=hg(n,o,a,h),cg(e),o=Af(),e!==null&&!Ce?(wf(e,n,f),Yi(e,n,f)):(zt&&o&&sf(n),n.flags|=1,Ge(e,n,a,f),n.child)}function uy(e,n,a,o,h){if(Dr(n),n.stateNode===null){var f=ya,g=a.contextType;typeof g=="object"&&g!==null&&(f=He(g)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},pf(n),g=a.contextType,f.context=typeof g=="object"&&g!==null?He(g):ya,f.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Pf(n,a,g,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Ko(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var b=n.memoizedProps,I=Ur(a,b);f.props=I;var z=f.context,Y=a.contextType;g=ya,typeof Y=="object"&&Y!==null&&(g=He(Y));var X=a.getDerivedStateFromProps;Y=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,Y||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b||z!==g)&&Xg(n,f,o,g),xs=!1;var B=n.memoizedState;f.state=B,Xo(n,o,f,h),Ko(),z=n.memoizedState,b||B!==z||xs?(typeof X=="function"&&(Pf(n,a,X,o),z=n.memoizedState),(I=xs||Kg(n,a,I,o,B,z,g))?(Y||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(e,n),g=n.memoizedProps,Y=Ur(a,g),f.props=Y,X=n.pendingProps,B=f.context,z=a.contextType,I=ya,typeof z=="object"&&z!==null&&(I=He(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==I)&&Xg(n,f,o,I),xs=!1,B=n.memoizedState,f.state=B,Xo(n,o,f,h),Ko();var G=n.memoizedState;g!==X||B!==G||xs||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof b=="function"&&(Pf(n,a,b,o),G=n.memoizedState),(Y=xs||Kg(n,a,Y,o,B,G,I)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,G,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,G,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=G),f.props=o,f.state=G,f.context=I,o=Y):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Vr(n,e.child,null,h),n.child=Vr(n,null,a,h)):Ge(e,n,a,h),n.memoizedState=f.state,e=n.child):e=Yi(e,n,h),e}function cy(e,n,a,o){return Nr(),n.flags|=256,Ge(e,n,a,o),n.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ff(e){return{baseLanes:e,cachePool:Wp()}}function Yf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=bn),e}function hy(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?Ns(n):Is(),(e=ae)?(e=v0(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:bs!==null?{id:Ti,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},a=Gp(e),a.return=n,n.child=a,qe=n,ae=null)):e=null,e===null)throw As(n);return Cd(e)?n.lanes=32:n.lanes=536870912,null}var b=o.children;return o=o.fallback,h?(Is(),h=n.mode,b=tc({mode:"hidden",children:b},h),o=Cr(o,h,a,null),b.return=n,o.return=n,b.sibling=o,n.child=b,o=n.child,o.memoizedState=Ff(a),o.childLanes=Yf(e,g,a),n.memoizedState=Gf,tl(null,o)):(Ns(n),Qf(n,b))}var I=e.memoizedState;if(I!==null&&(b=I.dehydrated,b!==null)){if(f)n.flags&256?(Ns(n),n.flags&=-257,n=Kf(e,n,a)):n.memoizedState!==null?(Is(),n.child=e.child,n.flags|=128,n=null):(Is(),b=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),b=Cr(b,h,a,null),b.flags|=2,o.return=n,b.return=n,o.sibling=b,n.child=o,Vr(n,e.child,null,a),o=n.child,o.memoizedState=Ff(a),o.childLanes=Yf(e,g,a),n.memoizedState=Gf,n=tl(null,o));else if(Ns(n),Cd(b)){if(g=b.nextSibling&&b.nextSibling.dataset,g)var z=g.dgst;g=z,o=Error(r(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=Kf(e,n,a)}else if(Ce||Ta(e,n,a,!1),g=(a&e.childLanes)!==0,Ce||g){if(g=re,g!==null&&(o=To(g,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Rr(e,o),fn(g,e,o),qf;Rd(b)||uc(),n=Kf(e,n,a)}else Rd(b)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ae=jn(b.nextSibling),qe=n,zt=!0,Ss=null,kn=!1,e!==null&&Qp(n,e),n=Qf(n,o.children),n.flags|=4096);return n}return h?(Is(),b=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=zi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?b=zi(z,b):(b=Cr(b,h,a,null),b.flags|=2),b.return=n,o.return=n,o.sibling=b,n.child=o,tl(null,o),o=n.child,b=e.child.memoizedState,b===null?b=Ff(a):(h=b.cachePool,h!==null?(I=xe._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Wp(),b={baseLanes:b.baseLanes|a,cachePool:h}),o.memoizedState=b,o.childLanes=Yf(e,g,a),n.memoizedState=Gf,tl(e.child,o)):(Ns(n),a=e.child,e=a.sibling,a=zi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=a,n.memoizedState=null,a)}function Qf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Kf(e,n,a){return Vr(n,e.child,null,a),e=Qf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fy(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),uf(e.return,n,a)}function Xf(e,n,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function dy(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ye.current,b=(g&2)!==0;if(b?(g=g&1|2,n.flags|=128):g&=1,Q(ye,g),Ge(e,n,o,a),o=zt?Bo:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,a,n);else if(e.tag===19)fy(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&qu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Xf(n,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Xf(n,!0,a,null,f,o);break;case"together":Xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Yi(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),Ms|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Ta(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=zi(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=zi(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function $f(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function qT(e,n,a){switch(n.tag){case 3:$t(n,n.stateNode.containerInfo),ws(n,xe,e.memoizedState.cache),Nr();break;case 27:case 5:Vi(n);break;case 4:$t(n,n.stateNode.containerInfo);break;case 10:ws(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ns(n),n.flags|=128,null):(a&n.child.childLanes)!==0?hy(e,n,a):(Ns(n),e=Yi(e,n,a),e!==null?e.sibling:null);Ns(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Ta(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return dy(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Q(ye,ye.current),o)break;return null;case 22:return n.lanes=0,ry(e,n,a,n.pendingProps);case 24:ws(n,xe,e.memoizedState.cache)}return Yi(e,n,a)}function my(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!$f(e,a)&&(n.flags&128)===0)return Ce=!1,qT(e,n,a);Ce=(e.flags&131072)!==0}else Ce=!1,zt&&(n.flags&1048576)!==0&&Yp(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Mr(n.elementType),n.type=e,typeof e=="function")tf(e)?(o=Ur(e,o),n.tag=1,n=uy(null,n,e,o,a)):(n.tag=0,n=Hf(null,n,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===Pt){n.tag=11,n=ny(null,n,e,o,a);break t}else if(h===C){n.tag=14,n=iy(null,n,e,o,a);break t}}throw n=Rt(e)||e,Error(r(306,n,""))}}return n;case 0:return Hf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=Ur(o,n.pendingProps),uy(e,n,o,h,a);case 3:t:{if($t(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(e,n),Xo(n,o,null,a);var g=n.memoizedState;if(o=g.cache,ws(n,xe,o),o!==f.cache&&cf(n,[xe],a,!0),Ko(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(e,n,o,a);break t}else if(o!==h){h=Dn(Error(r(424)),n),qo(h),n=cy(e,n,o,a);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ae=jn(e.firstChild),qe=n,zt=!0,Ss=null,kn=!0,a=rg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Nr(),o===h){n=Yi(e,n,a);break t}Ge(e,n,o,a)}n=n.child}return n;case 26:return Wu(e,n),e===null?(a=w0(n.type,null,n.pendingProps,null))?n.memoizedState=a:zt||(a=n.type,e=n.pendingProps,o=gc(rt.current).createElement(a),o[Se]=n,o[je]=e,Fe(o,a,e),Ae(o),n.stateNode=o):n.memoizedState=w0(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vi(n),e===null&&zt&&(o=n.stateNode=b0(n.type,n.pendingProps,rt.current),qe=n,kn=!0,h=ae,Ls(n.type)?(Nd=h,ae=jn(o.firstChild)):ae=h),Ge(e,n,n.pendingProps.children,a),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=ae)&&(o=_b(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,qe=n,ae=jn(o.firstChild),kn=!1,h=!0):h=!1),h||As(n)),Vi(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Ad(h,f)?o=null:g!==null&&Ad(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Sf(e,n,MT,null,null,a),pl._currentValue=h),Wu(e,n),Ge(e,n,o,a),n.child;case 6:return e===null&&zt&&((e=a=ae)&&(a=vb(a,n.pendingProps,kn),a!==null?(n.stateNode=a,qe=n,ae=null,e=!0):e=!1),e||As(n)),null;case 13:return hy(e,n,a);case 4:return $t(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Vr(n,null,o,a):Ge(e,n,o,a),n.child;case 11:return ny(e,n,n.type,n.pendingProps,a);case 7:return Ge(e,n,n.pendingProps,a),n.child;case 8:return Ge(e,n,n.pendingProps.children,a),n.child;case 12:return Ge(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ws(n,n.type,o.value),Ge(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dr(n),h=He(h),o=o(h),n.flags|=1,Ge(e,n,o,a),n.child;case 14:return iy(e,n,n.type,n.pendingProps,a);case 15:return sy(e,n,n.type,n.pendingProps,a);case 19:return dy(e,n,a);case 31:return BT(e,n,a);case 22:return ry(e,n,a,n.pendingProps);case 24:return Dr(n),o=He(xe),e===null?(h=df(),h===null&&(h=re,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},pf(n),ws(n,xe,h)):((e.lanes&a)!==0&&(gf(e,n),Xo(n,null,null,a),Ko()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ws(n,xe,o)):(o=f.cache,ws(n,xe,o),o!==h.cache&&cf(n,[xe],a,!0))),Ge(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Qi(e){e.flags|=4}function Zf(e,n,a,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw kr=Lu,mf}else e.flags&=-16777217}function py(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!I0(n))if(By())e.flags|=8192;else throw kr=Lu,mf}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ou():536870912,e.lanes|=n,Ma|=n)}function el(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function oe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function HT(e,n,a){var o=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(n),null;case 1:return oe(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Hi(xe),It(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),oe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Qi(n),f!==null?(oe(n),py(n,f)):(oe(n),Zf(n,h,null,o,a))):f?f!==e.memoizedState?(Qi(n),oe(n),py(n,f)):(oe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Qi(n),oe(n),Zf(n,h,e,o,a)),null;case 27:if(Jr(n),a=rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return oe(n),null}e=$.current,Ea(n)?Kp(n):(e=b0(h,o,a),n.stateNode=e,Qi(n))}return oe(n),null;case 5:if(Jr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return oe(n),null}if(f=$.current,Ea(n))Kp(n);else{var g=gc(rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Se]=n,f[je]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Qi(n)}}return oe(n),Zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=rt.current,Ea(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||h0(e.nodeValue,a)),e||As(n,!0)}else e=gc(e).createTextNode(o),e[Se]=n,n.stateNode=e}return oe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),a!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Se]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),e=!1}else a=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(r(558))}return oe(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Se]=n}else Nr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;oe(n),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),ec(n,n.updateQueue),oe(n),null);case 4:return It(),e===null&&vd(n.stateNode.containerInfo),oe(n),null;case 10:return Hi(n.type),oe(n),null;case 19:if(M(ye),o=n.memoizedState,o===null)return oe(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Hp(a,e),a=a.sibling;return Q(ye,ye.current&1|2),zt&&Bi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&nn()>ac&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return oe(n),null}else 2*nn()-o.renderingStartTime>ac&&a!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=nn(),e.sibling=null,a=ye.current,Q(ye,h?a&1|2:a&1),zt&&Bi(n,o.treeForkCount),e):(oe(n),null);case 22:case 23:return En(n),Ef(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(oe(n),n.subtreeFlags&6&&(n.flags|=8192)):oe(n),a=n.updateQueue,a!==null&&ec(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&M(Or),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Hi(xe),oe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function GT(e,n){switch(rf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hi(xe),It(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Jr(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(r(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Nr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return M(ye),null;case 4:return It(),null;case 10:return Hi(n.type),null;case 22:case 23:return En(n),Ef(),e!==null&&M(Or),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Hi(xe),null;case 25:return null;default:return null}}function gy(e,n){switch(rf(n),n.tag){case 3:Hi(xe),It();break;case 26:case 27:case 5:Jr(n);break;case 4:It();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:M(ye);break;case 10:Hi(n.type);break;case 22:case 23:En(n),Ef(),e!==null&&M(Or);break;case 24:Hi(xe)}}function nl(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(b){te(n,n.return,b)}}function Ds(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,b=g.destroy;if(b!==void 0){g.destroy=void 0,h=n;var I=a,z=b;try{z()}catch(Y){te(h,I,Y)}}}o=o.next}while(o!==f)}}catch(Y){te(n,n.return,Y)}}function yy(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{og(n,a)}catch(o){te(e,e.return,o)}}}function _y(e,n,a){a.props=Ur(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){te(e,n,o)}}function il(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){te(e,n,h)}}function Si(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){te(e,n,h)}else a.current=null}function vy(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){te(e,e.return,h)}}function Jf(e,n,a){try{var o=e.stateNode;fb(o,e.type,a,n),o[je]=n}catch(h){te(e,e.return,h)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Yn));else if(o!==4&&(o===27&&Ls(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(td(e,n,a),e=e.sibling;e!==null;)td(e,n,a),e=e.sibling}function nc(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&Ls(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(nc(e,n,a),e=e.sibling;e!==null;)nc(e,n,a),e=e.sibling}function Ty(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,a),n[Se]=e,n[je]=a}catch(f){te(e,e.return,f)}}var Ki=!1,Ne=!1,ed=!1,by=typeof WeakSet=="function"?WeakSet:Set,Le=null;function FT(e,n){if(e=e.containerInfo,bd=Sc,e=kp(e),Qh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,b=-1,I=-1,z=0,Y=0,X=e,B=null;e:for(;;){for(var G;X!==a||h!==0&&X.nodeType!==3||(b=g+h),X!==f||o!==0&&X.nodeType!==3||(I=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(G=X.firstChild)!==null;)B=X,X=G;for(;;){if(X===e)break e;if(B===a&&++z===h&&(b=g),B===f&&++Y===o&&(I=g),(G=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=G}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:e,selectionRange:a},Sc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var lt=Ur(a.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){te(a,a.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)xd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function Sy(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:$i(e,a),o&4&&nl(5,a);break;case 1:if($i(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(g){te(a,a.return,g)}else{var h=Ur(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(a,a.return,g)}}o&64&&yy(a),o&512&&il(a,a.return);break;case 3:if($i(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{og(e,n)}catch(g){te(a,a.return,g)}}break;case 27:n===null&&o&4&&Ty(a);case 26:case 5:$i(e,a),n===null&&o&4&&vy(a),o&512&&il(a,a.return);break;case 12:$i(e,a);break;case 31:$i(e,a),o&4&&xy(e,a);break;case 13:$i(e,a),o&4&&Ry(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=tb.bind(null,a),Eb(e,a))));break;case 22:if(o=a.memoizedState!==null||Ki,!o){n=n!==null&&n.memoizedState!==null||Ne,h=Ki;var f=Ne;Ki=o,(Ne=n)&&!f?Zi(e,a,(a.subtreeFlags&8772)!==0):$i(e,a),Ki=h,Ne=f}break;case 30:break;default:$i(e,a)}}function Ay(e){var n=e.alternate;n!==null&&(e.alternate=null,Ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var he=null,ln=!1;function Xi(e,n,a){for(a=a.child;a!==null;)wy(e,n,a),a=a.sibling}function wy(e,n,a){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ne||Si(a,n),Xi(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ne||Si(a,n);var o=he,h=ln;Ls(a.type)&&(he=a.stateNode,ln=!1),Xi(e,n,a),fl(a.stateNode),he=o,ln=h;break;case 5:Ne||Si(a,n);case 6:if(o=he,h=ln,he=null,Xi(e,n,a),he=o,ln=h,he!==null)if(ln)try{(he.nodeType===9?he.body:he.nodeName==="HTML"?he.ownerDocument.body:he).removeChild(a.stateNode)}catch(f){te(a,n,f)}else try{he.removeChild(a.stateNode)}catch(f){te(a,n,f)}break;case 18:he!==null&&(ln?(e=he,y0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ba(e)):y0(he,a.stateNode));break;case 4:o=he,h=ln,he=a.stateNode.containerInfo,ln=!0,Xi(e,n,a),he=o,ln=h;break;case 0:case 11:case 14:case 15:Ds(2,a,n),Ne||Ds(4,a,n),Xi(e,n,a);break;case 1:Ne||(Si(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&_y(a,n,o)),Xi(e,n,a);break;case 21:Xi(e,n,a);break;case 22:Ne=(o=Ne)||a.memoizedState!==null,Xi(e,n,a),Ne=o;break;default:Xi(e,n,a)}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(a){te(n,n.return,a)}}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(a){te(n,n.return,a)}}function YT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new by),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new by),n;default:throw Error(r(435,e.tag))}}function ic(e,n){var a=YT(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var h=eb.bind(null,e,o);o.then(h,h)}})}function un(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=n,b=g;t:for(;b!==null;){switch(b.tag){case 27:if(Ls(b.type)){he=b.stateNode,ln=!1;break t}break;case 5:he=b.stateNode,ln=!1;break t;case 3:case 4:he=b.stateNode.containerInfo,ln=!0;break t}b=b.return}if(he===null)throw Error(r(160));wy(f,g,h),he=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,e),n=n.sibling}var Jn=null;function Cy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(n,e),cn(e),o&4&&(Ds(3,e,e.return),nl(3,e),Ds(5,e,e.return));break;case 1:un(n,e),cn(e),o&512&&(Ne||a===null||Si(a,a.return)),o&64&&Ki&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Jn;if(un(n,e),cn(e),o&512&&(Ne||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,a),f[Se]=e,Ae(f),o=f;break t;case"link":var g=C0("link","href",h).get(o+(a.href||""));if(g){for(var b=0;b<g.length;b++)if(f=g[b],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(b,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;case"meta":if(g=C0("meta","content",h).get(o+(a.content||""))){for(b=0;b<g.length;b++)if(f=g[b],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(b,1);break e}}f=h.createElement(o),Fe(f,o,a),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Se]=e,Ae(f),o=f}e.stateNode=o}else N0(h,e.type,e.stateNode);else e.stateNode=R0(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?N0(h,e.type,e.stateNode):R0(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(n,e),cn(e),o&512&&(Ne||a===null||Si(a,a.return)),a!==null&&o&4&&Jf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(n,e),cn(e),o&512&&(Ne||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{on(h,"")}catch(lt){te(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(un(n,e),cn(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(lt){te(e,e.return,lt)}}break;case 3:if(vc=null,h=Jn,Jn=yc(n.containerInfo),un(n,e),Jn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(lt){te(e,e.return,lt)}ed&&(ed=!1,Ny(e));break;case 4:o=Jn,Jn=yc(e.stateNode.containerInfo),un(n,e),cn(e),Jn=o;break;case 12:un(n,e),cn(e);break;case 31:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:un(n,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(rc=nn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,z=Ki,Y=Ne;if(Ki=z||h,Ne=Y||I,un(n,e),Ne=Y,Ki=z,cn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||I||Ki||Ne||Lr(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){I=a=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{b=I.stateNode;var X=I.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(lt){te(I,I.return,lt)}}}else if(n.tag===6){if(a===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){te(I,I.return,lt)}}}else if(n.tag===18){if(a===null){I=n;try{var G=I.stateNode;h?_0(G,!0):_0(I.stateNode,!1)}catch(lt){te(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ic(e,a))));break;case 19:un(n,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:un(n,e),cn(e)}}function cn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(Ey(o)){a=o;break}o=o.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,f=Wf(e);nc(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(on(g,""),a.flags&=-33);var b=Wf(e);nc(e,b,g);break;case 3:case 4:var I=a.stateNode.containerInfo,z=Wf(e);td(e,z,I);break;default:throw Error(r(161))}}catch(Y){te(e,e.return,Y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function $i(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(e,n.alternate,n),n=n.sibling}function Lr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ds(4,n,n.return),Lr(n);break;case 1:Si(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&_y(n,n.return,a),Lr(n);break;case 27:fl(n.stateNode);case 26:case 5:Si(n,n.return),Lr(n);break;case 22:n.memoizedState===null&&Lr(n);break;case 30:Lr(n);break;default:Lr(n)}e=e.sibling}}function Zi(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Zi(h,f,a),nl(4,f);break;case 1:if(Zi(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var b=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)ag(I[h],b)}catch(z){te(o,o.return,z)}}a&&g&64&&yy(f),il(f,f.return);break;case 27:Ty(f);case 26:case 5:Zi(h,f,a),a&&o===null&&g&4&&vy(f),il(f,f.return);break;case 12:Zi(h,f,a);break;case 31:Zi(h,f,a),a&&g&4&&xy(h,f);break;case 13:Zi(h,f,a),a&&g&4&&Ry(h,f);break;case 22:f.memoizedState===null&&Zi(h,f,a),il(f,f.return);break;case 30:break;default:Zi(h,f,a)}n=n.sibling}}function nd(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ho(a))}function id(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function Wn(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(e,n,a,o),n=n.sibling}function Iy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,a,o),h&2048&&nl(9,n);break;case 1:Wn(e,n,a,o);break;case 3:Wn(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){Wn(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,b=f.onPostCommit;typeof b=="function"&&b(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){te(n,n.return,I)}}else Wn(e,n,a,o);break;case 31:Wn(e,n,a,o);break;case 13:Wn(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,a,o):sl(e,n):f._visibility&2?Wn(e,n,a,o):(f._visibility|=2,Ia(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(g,n);break;case 24:Wn(e,n,a,o),h&2048&&id(n.alternate,n);break;default:Wn(e,n,a,o)}}function Ia(e,n,a,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,b=a,I=o,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ia(f,g,b,I,h),nl(8,g);break;case 23:break;case 22:var Y=g.stateNode;g.memoizedState!==null?Y._visibility&2?Ia(f,g,b,I,h):sl(f,g):(Y._visibility|=2,Ia(f,g,b,I,h)),h&&z&2048&&nd(g.alternate,g);break;case 24:Ia(f,g,b,I,h),h&&z&2048&&id(g.alternate,g);break;default:Ia(f,g,b,I,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:sl(a,o),h&2048&&nd(o.alternate,o);break;case 24:sl(a,o),h&2048&&id(o.alternate,o);break;default:sl(a,o)}n=n.sibling}}var rl=8192;function Da(e,n,a){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)Dy(e,n,a),e=e.sibling}function Dy(e,n,a){switch(e.tag){case 26:Da(e,n,a),e.flags&rl&&e.memoizedState!==null&&Ob(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,a);break;case 3:case 4:var o=Jn;Jn=yc(e.stateNode.containerInfo),Da(e,n,a),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Da(e,n,a),rl=o):Da(e,n,a));break;default:Da(e,n,a)}}function Oy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,ky(o,e)}Oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)My(e),e=e.sibling}function My(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&Ds(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):al(e);break;default:al(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Le=o,ky(o,e)}Oy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ds(8,n,n.return),sc(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function ky(e,n){for(;Le!==null;){var a=Le;switch(a.tag){case 0:case 11:case 15:Ds(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Le=o;else t:for(a=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(Ay(o),o===a){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var QT={getCacheForType:function(e){var n=He(xe),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return He(xe).controller.signal}},KT=typeof WeakMap=="function"?WeakMap:Map,Qt=0,re=null,Dt=null,kt=0,Wt=0,Tn=null,Os=!1,Oa=!1,sd=!1,Ji=0,me=0,Ms=0,Pr=0,rd=0,bn=0,Ma=0,ol=null,hn=null,ad=!1,rc=0,Vy=0,ac=1/0,oc=null,ks=null,Me=0,Vs=null,ka=null,Wi=0,od=0,ld=null,jy=null,ll=0,ud=null;function Sn(){return(Qt&2)!==0&&kt!==0?kt&-kt:F.T!==null?pd():lu()}function Uy(){if(bn===0)if((kt&536870912)===0||zt){var e=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function fn(e,n,a){(e===re&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Va(e,0),js(e,kt,bn,!1)),dr(e,a),((Qt&2)===0||e!==re)&&(e===re&&((Qt&2)===0&&(Pr|=a),me===4&&js(e,kt,bn,!1)),Ai(e))}function Ly(e,n,a){if((Qt&6)!==0)throw Error(r(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=o?ZT(e,n):hd(e,n,!0),f=o;do{if(h===0){Oa&&!o&&js(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!XT(a)){h=hd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var b=e;h=ol;var I=b.current.memoizedState.isDehydrated;if(I&&(Va(b,g).flags|=256),g=hd(b,g,!1),g!==2){if(sd&&!I){b.errorRecoveryDisabledLanes|=f,Pr|=f,h=4;break t}f=hn,hn=h,f!==null&&(hn===null?hn=f:hn.push.apply(hn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),js(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:js(o,n,bn,!Os);break t;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=rc+300-nn(),10<h)){if(js(o,n,bn,!Os),ai(o,0,!0)!==0)break t;Wi=n,o.timeoutHandle=p0(Py.bind(null,o,a,hn,oc,ad,n,bn,Pr,Ma,Os,f,"Throttled",-0,0),h);break t}Py(o,a,hn,oc,ad,n,bn,Pr,Ma,Os,f,null,-0,0)}}break}while(!0);Ai(e)}function Py(e,n,a,o,h,f,g,b,I,z,Y,X,B,G){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},Dy(n,f,X);var lt=(f&62914560)===f?rc-nn():(f&4194048)===f?Vy-nn():0;if(lt=Mb(X,lt),lt!==null){Wi=f,e.cancelPendingCommit=lt(Qy.bind(null,e,n,f,a,o,h,g,b,I,Y,X,null,B,G)),js(e,f,g,!z);return}}Qy(e,n,f,a,o,h,g,b,I)}function XT(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function js(e,n,a,o){n&=~rd,n&=~Pr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-pe(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&mr(e,a,n)}function lc(){return(Qt&6)===0?(ul(0),!1):!0}function cd(){if(Dt!==null){if(Wt===0)var e=Dt.return;else e=Dt,qi=Ir=null,xf(e),wa=null,Fo=0,e=Dt;for(;e!==null;)gy(e.alternate,e),e=e.return;Dt=null}}function Va(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,pb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Wi=0,cd(),re=e,Dt=a=zi(e.current,null),kt=n,Wt=0,Tn=null,Os=!1,Oa=Hn(e,n),sd=!1,Ma=bn=rd=Pr=Ms=me=0,hn=ol=null,ad=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-pe(o),f=1<<h;n|=e[h],o&=~f}return Ji=n,Nu(),a}function zy(e,n){wt=null,F.H=Wo,n===Aa||n===Uu?(n=ng(),Wt=3):n===mf?(n=ng(),Wt=4):Wt=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Dt===null&&(me=1,Zu(e,Dn(n,e.current)))}function By(){var e=vn.current;return e===null?!0:(kt&4194048)===kt?Vn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Vn:!1}function qy(){var e=F.H;return F.H=Wo,e===null?Wo:e}function Hy(){var e=F.A;return F.A=QT,e}function uc(){me=4,Os||(kt&4194048)!==kt&&vn.current!==null||(Oa=!0),(Ms&134217727)===0&&(Pr&134217727)===0||re===null||js(re,kt,bn,!1)}function hd(e,n,a){var o=Qt;Qt|=2;var h=qy(),f=Hy();(re!==e||kt!==n)&&(oc=null,Va(e,n)),n=!1;var g=me;t:do try{if(Wt!==0&&Dt!==null){var b=Dt,I=Tn;switch(Wt){case 8:cd(),g=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var z=Wt;if(Wt=0,Tn=null,ja(e,b,I,z),a&&Oa){g=0;break t}break;default:z=Wt,Wt=0,Tn=null,ja(e,b,I,z)}}$T(),g=me;break}catch(Y){zy(e,Y)}while(!0);return n&&e.shellSuspendCounter++,qi=Ir=null,Qt=o,F.H=h,F.A=f,Dt===null&&(re=null,kt=0,Nu()),g}function $T(){for(;Dt!==null;)Gy(Dt)}function ZT(e,n){var a=Qt;Qt|=2;var o=qy(),h=Hy();re!==e||kt!==n?(oc=null,ac=nn()+500,Va(e,n)):Oa=Hn(e,n);t:do try{if(Wt!==0&&Dt!==null){n=Dt;var f=Tn;e:switch(Wt){case 1:Wt=0,Tn=null,ja(e,n,f,1);break;case 2:case 9:if(tg(f)){Wt=0,Tn=null,Fy(n);break}n=function(){Wt!==2&&Wt!==9||re!==e||(Wt=7),Ai(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:tg(f)?(Wt=0,Tn=null,Fy(n)):(Wt=0,Tn=null,ja(e,n,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var b=Dt;if(g?I0(g):b.stateNode.complete){Wt=0,Tn=null;var I=b.sibling;if(I!==null)Dt=I;else{var z=b.return;z!==null?(Dt=z,cc(z)):Dt=null}break e}}Wt=0,Tn=null,ja(e,n,f,5);break;case 6:Wt=0,Tn=null,ja(e,n,f,6);break;case 8:cd(),me=6;break t;default:throw Error(r(462))}}JT();break}catch(Y){zy(e,Y)}while(!0);return qi=Ir=null,F.H=o,F.A=h,Qt=a,Dt!==null?0:(re=null,kt=0,Nu(),me)}function JT(){for(;Dt!==null&&!zh();)Gy(Dt)}function Gy(e){var n=my(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,n===null?cc(e):Dt=n}function Fy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=ly(a,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=ly(a,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:xf(n);default:gy(a,n),n=Dt=Hp(n,Ji),n=my(a,n,Ji)}e.memoizedProps=e.pendingProps,n===null?cc(e):Dt=n}function ja(e,n,a,o){qi=Ir=null,xf(n),wa=null,Fo=0;var h=n.return;try{if(zT(e,h,n,a,kt)){me=1,Zu(e,Dn(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;me=1,Zu(e,Dn(a,e.current)),Dt=null;return}n.flags&32768?(zt||o===1?e=!0:Oa||(kt&536870912)!==0?e=!1:(Os=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Yy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){Yy(n,Os);return}e=n.return;var a=HT(n.alternate,n,Ji);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=e}while(n!==null);me===0&&(me=5)}function Yy(e,n){do{var a=GT(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);me=6,Dt=null}function Qy(e,n,a,o,h,f,g,b,I){e.cancelPendingCommit=null;do hc();while(Me!==0);if((Qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Jh,Hh(e,a,f,g,b,I),e===re&&(Dt=re=null,kt=0),ka=n,Vs=e,Wi=a,od=f,ld=h,jy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nb(fs,function(){return Jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=F.T,F.T=null,h=nt.p,nt.p=2,g=Qt,Qt|=4;try{FT(e,n,a)}finally{Qt=g,nt.p=h,F.T=o}}Me=1,Ky(),Xy(),$y()}}function Ky(){if(Me===1){Me=0;var e=Vs,n=ka,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{Cy(n,e);var f=Sd,g=kp(e.containerInfo),b=f.focusedElem,I=f.selectionRange;if(g!==b&&b&&b.ownerDocument&&Mp(b.ownerDocument.documentElement,b)){if(I!==null&&Qh(b)){var z=I.start,Y=I.end;if(Y===void 0&&(Y=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(Y,b.value.length);else{var X=b.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var G=B.getSelection(),lt=b.textContent.length,yt=Math.min(I.start,lt),se=I.end===void 0?yt:Math.min(I.end,lt);!G.extend&&yt>se&&(g=se,se=yt,yt=g);var U=Op(b,yt),k=Op(b,se);if(U&&k&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var P=X.createRange();P.setStart(U.node,U.offset),G.removeAllRanges(),yt>se?(G.addRange(P),G.extend(k.node,k.offset)):(P.setEnd(k.node,k.offset),G.addRange(P))}}}}for(X=[],G=b;G=G.parentNode;)G.nodeType===1&&X.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<X.length;b++){var K=X[b];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}Sc=!!bd,Sd=bd=null}finally{Qt=h,nt.p=o,F.T=a}}e.current=n,Me=2}}function Xy(){if(Me===2){Me=0;var e=Vs,n=ka,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=F.T,F.T=null;var o=nt.p;nt.p=2;var h=Qt;Qt|=4;try{Sy(e,n.alternate,n)}finally{Qt=h,nt.p=o,F.T=a}}Me=3}}function $y(){if(Me===4||Me===3){Me=0,eu();var e=Vs,n=ka,a=Wi,o=jy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,ka=Vs=null,Zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(ks=null),ji(a),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=F.T,h=nt.p,nt.p=2,F.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var b=o[g];f(b.value,{componentStack:b.stack})}}finally{F.T=n,nt.p=h}}(Wi&3)!==0&&hc(),Ai(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ud?ll++:(ll=0,ud=e):ll=0,ul(0)}}function Zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function hc(){return Ky(),Xy(),$y(),Jy()}function Jy(){if(Me!==5)return!1;var e=Vs,n=od;od=0;var a=ji(Wi),o=F.T,h=nt.p;try{nt.p=32>a?32:a,F.T=null,a=ld,ld=null;var f=Vs,g=Wi;if(Me=0,ka=Vs=null,Wi=0,(Qt&6)!==0)throw Error(r(331));var b=Qt;if(Qt|=4,My(f.current),Iy(f,f.current,g,a),Qt=b,ul(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{nt.p=h,F.T=o,Zy(e,n)}}function Wy(e,n,a){n=Dn(a,n),n=Bf(e.stateNode,n,2),e=Cs(e,n,2),e!==null&&(dr(e,2),Ai(e))}function te(e,n,a){if(e.tag===3)Wy(e,e,a);else for(;n!==null;){if(n.tag===3){Wy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ks===null||!ks.has(o))){e=Dn(a,e),a=ty(2),o=Cs(n,a,2),o!==null&&(ey(a,o,n,e),dr(o,2),Ai(o));break}}n=n.return}}function fd(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new KT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(sd=!0,h.add(a),e=WT.bind(null,e,n,a),n.then(e,e))}function WT(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(kt&a)===a&&(me===4||me===3&&(kt&62914560)===kt&&300>nn()-rc?(Qt&2)===0&&Va(e,0):rd|=a,Ma===kt&&(Ma=0)),Ai(e)}function t0(e,n){n===0&&(n=ou()),e=Rr(e,n),e!==null&&(dr(e,n),Ai(e))}function tb(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),t0(e,a)}function eb(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),t0(e,a)}function nb(e,n){return Oe(e,n)}var fc=null,Ua=null,dd=!1,dc=!1,md=!1,Us=0;function Ai(e){e!==Ua&&e.next===null&&(Ua===null?fc=Ua=e:Ua=Ua.next=e),dc=!0,dd||(dd=!0,sb())}function ul(e,n){if(!md&&dc){md=!0;do for(var a=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,b=o.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(g&~b),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,s0(o,f))}else f=kt,f=ai(o,o===re?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,s0(o,f));o=o.next}while(a);md=!1}}function ib(){e0()}function e0(){dc=dd=!1;var e=0;Us!==0&&mb()&&(e=Us);for(var n=nn(),a=null,o=fc;o!==null;){var h=o.next,f=n0(o,n);f===0?(o.next=null,a===null?fc=h:a.next=h,h===null&&(Ua=a)):(a=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}Me!==0&&Me!==5||ul(e),Us!==0&&(Us=0)}function n0(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-pe(f),b=1<<g,I=h[g];I===-1?((b&a)===0||(b&o)!==0)&&(h[g]=qh(b,n)):I<=n&&(e.expiredLanes|=b),f&=~b}if(n=re,a=kt,a=ai(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hs(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&hs(o),ji(a)){case 2:case 8:a=vo;break;case 32:a=fs;break;case 268435456:a=nu;break;default:a=fs}return o=i0.bind(null,e),a=Oe(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&hs(o),e.callbackPriority=2,e.callbackNode=null,2}function i0(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(hc()&&e.callbackNode!==a)return null;var o=kt;return o=ai(e,e===re?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ly(e,o,n),n0(e,nn()),e.callbackNode!=null&&e.callbackNode===a?i0.bind(null,e):null)}function s0(e,n){if(hc())return null;Ly(e,n,!0)}function sb(){gb(function(){(Qt&6)!==0?Oe(_o,ib):e0()})}function pd(){if(Us===0){var e=ba;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Us=e}return Us}function r0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function a0(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function rb(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=r0((h[je]||null).action),g=o.submitter;g&&(n=(n=g[je]||null)?r0(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var b=new yi("action","action",null,o,h);e.push({event:b,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var I=g?a0(h,g):new FormData(h);Vf(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(b.preventDefault(),I=g?a0(h,g):new FormData(h),Vf(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var gd=0;gd<Zh.length;gd++){var yd=Zh[gd],ab=yd.toLowerCase(),ob=yd[0].toUpperCase()+yd.slice(1);Zn(ab,"on"+ob)}Zn(Up,"onAnimationEnd"),Zn(Lp,"onAnimationIteration"),Zn(Pp,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(ST,"onTransitionRun"),Zn(AT,"onTransitionStart"),Zn(wT,"onTransitionCancel"),Zn(zp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function o0(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var b=o[g],I=b.instance,z=b.currentTarget;if(b=b.listener,I!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=z;try{f(h)}catch(Y){Cu(Y)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(b=o[g],I=b.instance,z=b.currentTarget,b=b.listener,I!==f&&h.isPropagationStopped())break t;f=b,h.currentTarget=z;try{f(h)}catch(Y){Cu(Y)}h.currentTarget=null,f=I}}}}function Ot(e,n){var a=n[na];a===void 0&&(a=n[na]=new Set);var o=e+"__bubble";a.has(o)||(l0(n,e,2,!1),a.add(o))}function _d(e,n,a){var o=0;n&&(o|=4),l0(a,e,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[mc]){e[mc]=!0,bo.forEach(function(a){a!=="selectionchange"&&(lb.has(a)||_d(a,!1,e),_d(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,_d("selectionchange",!1,n))}}function l0(e,n,a,o){switch(U0(n)){case 2:var h=jb;break;case 8:h=Ub;break;default:h=kd}a=h.bind(null,n,a,e),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function Ed(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var b=o.stateNode.containerInfo;if(b===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;b!==null;){if(g=ci(b),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}b=b.parentNode}}o=o.return}_s(function(){var z=f,Y=Rn(a),X=[];t:{var B=Bp.get(e);if(B!==void 0){var G=yi,lt=e;switch(e){case"keypress":if(Tr(a)===0)break t;case"keydown":case"keyup":G=wu;break;case"focusin":lt="focus",G=Sr;break;case"focusout":lt="blur",G=Sr;break;case"beforeblur":case"afterblur":G=Sr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=m;break;case Up:case Lp:case Pp:G=_u;break;case zp:G=S;break;case"scroll":case"scrollend":G=ko;break;case"wheel":G=q;break;case"copy":case"cut":case"paste":G=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Pi;break;case"toggle":case"beforetoggle":G=At}var yt=(n&4)!==0,se=!yt&&(e==="scroll"||e==="scrollend"),U=yt?B!==null?B+"Capture":null:B;yt=[];for(var k=z,P;k!==null;){var K=k;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=Qn(k,U),K!=null&&yt.push(hl(k,K,P))),se)break;k=k.return}0<yt.length&&(B=new G(B,lt,null,a,Y),X.push({event:B,listeners:yt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",G=e==="mouseout"||e==="pointerout",B&&a!==Do&&(lt=a.relatedTarget||a.fromElement)&&(ci(lt)||lt[li]))break t;if((G||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,G?(lt=a.relatedTarget||a.toElement,G=z,lt=lt?ci(lt):null,lt!==null&&(se=c(lt),yt=lt.tag,lt!==se||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(G=null,lt=z),G!==lt)){if(yt=Vo,K="onMouseLeave",U="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Pi,K="onPointerLeave",U="onPointerEnter",k="pointer"),se=G==null?B:pn(G),P=lt==null?B:pn(lt),B=new yt(K,k+"leave",G,a,Y),B.target=se,B.relatedTarget=P,K=null,ci(Y)===z&&(yt=new yt(U,k+"enter",lt,a,Y),yt.target=P,yt.relatedTarget=se,K=yt),se=K,G&&lt)e:{for(yt=ub,U=G,k=lt,P=0,K=U;K;K=yt(K))P++;K=0;for(var mt=k;mt;mt=yt(mt))K++;for(;0<P-K;)U=yt(U),P--;for(;0<K-P;)k=yt(k),K--;for(;P--;){if(U===k||k!==null&&U===k.alternate){yt=U;break e}U=yt(U),k=yt(k)}yt=null}else yt=null;G!==null&&u0(X,B,G,yt,!1),lt!==null&&se!==null&&u0(X,se,lt,yt,!0)}}t:{if(B=z?pn(z):window,G=B.nodeName&&B.nodeName.toLowerCase(),G==="select"||G==="input"&&B.type==="file")var Ht=xp;else if(Ap(B))if(Rp)Ht=ET;else{Ht=_T;var ct=yT}else G=B.nodeName,!G||G.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&aa(z.elementType)&&(Ht=xp):Ht=vT;if(Ht&&(Ht=Ht(e,z))){wp(X,Ht,a,Y);break t}ct&&ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Co(B,"number",B.value)}switch(ct=z?pn(z):window,e){case"focusin":(Ap(ct)||ct.contentEditable==="true")&&(ma=ct,Kh=z,zo=null);break;case"focusout":zo=Kh=ma=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,Vp(X,a,Y);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":Vp(X,a,Y)}var Ct;if(Yt)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else da?Ar(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(Ei&&a.locale!=="ko"&&(da||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&da&&(Ct=Mo()):(gi=Y,Oo="value"in gi?gi.value:gi.textContent,da=!0)),ct=pc(z,Vt),0<ct.length&&(Vt=new vi(Vt,e,null,a,Y),X.push({event:Vt,listeners:ct}),Ct?Vt.data=Ct:(Ct=fa(a),Ct!==null&&(Vt.data=Ct)))),(Ct=Nn?dT(e,a):mT(e,a))&&(Vt=pc(z,"onBeforeInput"),0<Vt.length&&(ct=new vi("onBeforeInput","beforeinput",null,a,Y),X.push({event:ct,listeners:Vt}),ct.data=Ct)),rb(X,e,z,a,Y)}o0(X,n)})}function hl(e,n,a){return{instance:e,listener:n,currentTarget:a}}function pc(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,a),h!=null&&o.unshift(hl(e,h,f)),h=Qn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u0(e,n,a,o,h){for(var f=n._reactName,g=[];a!==null&&a!==o;){var b=a,I=b.alternate,z=b.stateNode;if(b=b.tag,I!==null&&I===o)break;b!==5&&b!==26&&b!==27||z===null||(I=z,h?(z=Qn(a,f),z!=null&&g.unshift(hl(a,z,I))):h||(z=Qn(a,f),z!=null&&g.push(hl(a,z,I)))),a=a.return}g.length!==0&&e.push({event:n,listeners:g})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function c0(e){return(typeof e=="string"?e:""+e).replace(cb,`
`).replace(hb,"")}function h0(e,n){return n=c0(n),c0(e)===n}function ie(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||on(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&on(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,a,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=oa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=oa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":we(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":we(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":we(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":we(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":we(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":we(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":we(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":we(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":we(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=pu.get(a)||a,sa(e,a,o))}}function Td(e,n,a,o,h,f){switch(a){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof o=="string"?on(e,o):(typeof o=="number"||typeof o=="bigint")&&on(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[je]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):sa(e,a,o)}}}function Fe(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(e,n,f,g,a,null)}}h&&ie(e,n,"srcSet",a.srcSet,a,null),o&&ie(e,n,"src",a.src,a,null);return;case"input":Ot("invalid",e);var b=f=g=h=null,I=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var Y=a[o];if(Y!=null)switch(o){case"name":h=Y;break;case"type":g=Y;break;case"checked":I=Y;break;case"defaultChecked":z=Y;break;case"value":f=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,n));break;default:ie(e,n,o,Y,a,null)}}fu(e,f,b,I,z,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":f=b;break;case"defaultValue":g=b;break;case"multiple":o=b;default:ie(e,n,h,b,a,null)}n=f,a=g,e.multiple=!!o,n!=null?ms(e,!!o,n,!1):a!=null&&ms(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(b=a[g],b!=null))switch(g){case"value":o=b;break;case"defaultValue":h=b;break;case"children":f=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:ie(e,n,g,b,a,null)}ps(e,o,h,f);return;case"option":for(I in a)a.hasOwnProperty(I)&&(o=a[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ie(e,n,I,o,a,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Ot(cl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:ie(e,n,z,o,a,null)}return;default:if(aa(n)){for(Y in a)a.hasOwnProperty(Y)&&(o=a[Y],o!==void 0&&Td(e,n,Y,o,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(o=a[b],o!=null&&ie(e,n,b,o,a,null))}function fb(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,b=null,I=null,z=null,Y=null;for(G in a){var X=a[G];if(a.hasOwnProperty(G)&&X!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=X;default:o.hasOwnProperty(G)||ie(e,n,G,null,o,X)}}for(var B in o){var G=o[B];if(X=a[B],o.hasOwnProperty(B)&&(G!=null||X!=null))switch(B){case"type":f=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":Y=G;break;case"value":g=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:G!==X&&ie(e,n,B,G,o,X)}}ra(e,g,b,I,z,Y,f,h);return;case"select":G=g=b=B=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":G=I;default:o.hasOwnProperty(f)||ie(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=a[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":b=f;break;case"multiple":g=f;default:f!==I&&ie(e,n,h,f,o,I)}n=b,a=g,o=G,B!=null?ms(e,!!a,B,!1):!!o!=!!a&&(n!=null?ms(e,!!a,n,!0):ms(e,!!a,a?[]:"",!1));return;case"textarea":G=B=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!o.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ie(e,n,b,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&ie(e,n,g,h,o,f)}du(e,B,G);return;case"option":for(var lt in a)B=a[lt],a.hasOwnProperty(lt)&&B!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:ie(e,n,lt,null,o,B));for(I in o)B=o[I],G=a[I],o.hasOwnProperty(I)&&B!==G&&(B!=null||G!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ie(e,n,I,B,o,G));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in a)B=a[yt],a.hasOwnProperty(yt)&&B!=null&&!o.hasOwnProperty(yt)&&ie(e,n,yt,null,o,B);for(z in o)if(B=o[z],G=a[z],o.hasOwnProperty(z)&&B!==G&&(B!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:ie(e,n,z,B,o,G)}return;default:if(aa(n)){for(var se in a)B=a[se],a.hasOwnProperty(se)&&B!==void 0&&!o.hasOwnProperty(se)&&Td(e,n,se,void 0,o,B);for(Y in o)B=o[Y],G=a[Y],!o.hasOwnProperty(Y)||B===G||B===void 0&&G===void 0||Td(e,n,Y,B,o,G);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&ie(e,n,U,null,o,B);for(X in o)B=o[X],G=a[X],!o.hasOwnProperty(X)||B===G||B==null&&G==null||ie(e,n,X,B,o,G)}function f0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,b=h.duration;if(f&&b&&f0(g)){for(g=0,b=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],z=I.startTime;if(z>b)break;var Y=I.transferSize,X=I.initiatorType;Y&&f0(X)&&(I=I.responseEnd,g+=Y*(I<b?1:(b-z)/(I-z)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bd=null,Sd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function d0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m0(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ad(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function mb(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var p0=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,g0=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof g0<"u"?function(e){return g0.resolve(null).then(e).catch(yb)}:p0;function yb(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function y0(e,n){var a=n,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")fl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,fl(a);for(var f=a.firstChild;f;){var g=f.nextSibling,b=f.nodeName;f[ui]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&fl(e.ownerDocument.body);a=h}while(a);Ba(n)}function _0(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function xd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xd(a),ia(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function _b(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=jn(e.nextSibling),e===null)break}return null}function vb(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jn(e.nextSibling),e===null))return null;return e}function v0(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=jn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Eb(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function jn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Nd=null;function E0(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return jn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function T0(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function b0(e,n,a){switch(n=gc(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Un=new Map,S0=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ts=nt.d;nt.d={f:Tb,r:bb,D:Sb,C:Ab,L:wb,m:xb,X:Cb,S:Rb,M:Nb};function Tb(){var e=ts.f(),n=lc();return e||n}function bb(e){var n=xn(e);n!==null&&n.tag===5&&n.type==="form"?zg(n):ts.r(e)}var La=typeof document>"u"?null:document;function A0(e,n,a){var o=La;if(o&&typeof n=="string"&&n){var h=an(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),S0.has(h)||(S0.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function Sb(e){ts.D(e),A0("dns-prefetch",e,null)}function Ab(e,n){ts.C(e,n),A0("preconnect",e,n)}function wb(e,n,a){ts.L(e,n,a);var o=La;if(o&&e&&n){var h='link[rel="preload"][as="'+an(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+an(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+an(a.imageSizes)+'"]')):h+='[href="'+an(e)+'"]';var f=h;switch(n){case"style":f=Pa(e);break;case"script":f=za(e)}Un.has(f)||(e=x({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function xb(e,n){ts.m(e,n);var a=La;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+an(o)+'"][href="'+an(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Un.has(f)&&(e=x({rel:"modulepreload",href:e},n),Un.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ml(f)))return}o=a.createElement("link"),Fe(o,"link",e),Ae(o),a.head.appendChild(o)}}}function Rb(e,n,a){ts.S(e,n,a);var o=La;if(o&&e){var h=hi(o).hoistableStyles,f=Pa(e);n=n||"default";var g=h.get(f);if(!g){var b={loading:0,preload:null};if(g=o.querySelector(dl(f)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Un.get(f))&&Id(e,a);var I=g=o.createElement("link");Ae(I),Fe(I,"link",e),I._p=new Promise(function(z,Y){I.onload=z,I.onerror=Y}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:b},h.set(f,g)}}}function Cb(e,n){ts.X(e,n);var a=La;if(a&&e){var o=hi(a).hoistableScripts,h=za(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=x({src:e,async:!0},n),(n=Un.get(h))&&Dd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Nb(e,n){ts.M(e,n);var a=La;if(a&&e){var o=hi(a).hoistableScripts,h=za(e),f=o.get(h);f||(f=a.querySelector(ml(h)),f||(e=x({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&Dd(e,n),f=a.createElement("script"),Ae(f),Fe(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w0(e,n,a,o){var h=(h=rt.current)?yc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Pa(a.href),a=hi(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Pa(a.href);var f=hi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(e,a),f||Ib(h,e,a,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(a),a=hi(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Pa(e){return'href="'+an(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function x0(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function Ib(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",a),Ae(n),e.head.appendChild(n))}function za(e){return'[src="'+an(e)+'"]'}function ml(e){return"script[async]"+e}function R0(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+an(a.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Fe(o,"style",h),_c(o,a.precedence,e),n.instance=o;case"stylesheet":h=Pa(a.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=x0(a),(h=Un.get(h))&&Id(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var g=f;return g._p=new Promise(function(b,I){g.onload=b,g.onerror=I}),Fe(f,"link",o),n.state.loading|=4,_c(f,a.precedence,e),n.instance=f;case"script":return f=za(a.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ae(h),h):(o=a,(h=Un.get(f))&&(o=x({},a),Dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,a.precedence,e));return n.instance}function _c(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var b=o[g];if(b.dataset.precedence===n)f=b;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function C0(e,n,a){if(vc===null){var o=new Map,h=vc=new Map;h.set(a,o)}else h=vc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[ui]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var b=o.get(g);b?b.push(f):o.set(g,[f])}}return o}function N0(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Db(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ob(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Pa(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=f,Ae(f);return}f=n.ownerDocument||n,o=x0(o),(h=Un.get(h))&&Id(o,h),f=f.createElement("link"),Ae(f);var g=f;g._p=new Promise(function(b,I){g.onload=b,g.onerror=I}),Fe(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Ec.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Od=0;function Mb(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Od===0&&(Od=62500*db());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Od?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(kb,e),Tc=null,Ec.call(e))}function kb(e,n){if(!(n.state.loading&4)){var a=Tc.get(e);if(a)var o=a.get(null);else{a=new Map,Tc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var pl={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function Vb(e,n,a,o,h,f,g,b,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function D0(e,n,a,o,h,f,g,b,I,z,Y,X){return e=new Vb(e,n,a,g,I,z,Y,X,b),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=hf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},pf(f),e}function O0(e){return e?(e=ya,e):ya}function M0(e,n,a,o,h,f){h=O0(h),o.context===null?o.context=h:o.pendingContext=h,o=Rs(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Cs(e,o,n),a!==null&&(fn(a,e,n),Qo(a,e,n))}function k0(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Md(e,n){k0(e,n),(e=e.alternate)&&k0(e,n)}function V0(e){if(e.tag===13||e.tag===31){var n=Rr(e,67108864);n!==null&&fn(n,e,67108864),Md(e,67108864)}}function j0(e){if(e.tag===13||e.tag===31){var n=Sn();n=pr(n);var a=Rr(e,n);a!==null&&fn(a,e,n),Md(e,n)}}var Sc=!0;function jb(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=2,kd(e,n,a,o)}finally{nt.p=f,F.T=h}}function Ub(e,n,a,o){var h=F.T;F.T=null;var f=nt.p;try{nt.p=8,kd(e,n,a,o)}finally{nt.p=f,F.T=h}}function kd(e,n,a,o){if(Sc){var h=Vd(o);if(h===null)Ed(e,n,o,Ac,a),L0(e,o);else if(Pb(h,e,n,a,o))o.stopPropagation();else if(L0(e,o),n&4&&-1<Lb.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ri(f.pendingLanes);if(g!==0){var b=f;for(b.pendingLanes|=2,b.entangledLanes|=2;g;){var I=1<<31-pe(g);b.entanglements[1]|=I,g&=~I}Ai(f),(Qt&6)===0&&(ac=nn()+500,ul(0))}}break;case 31:case 13:b=Rr(f,2),b!==null&&fn(b,f,2),lc(),Md(f,2)}if(f=Vd(o),f===null&&Ed(e,n,o,Ac,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(e,n,o,null,a)}}function Vd(e){return e=Rn(e),jd(e)}var Ac=null;function jd(e){if(Ac=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=p(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function U0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case _o:return 2;case vo:return 8;case fs:case Bh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Ud=!1,Ps=null,zs=null,Bs=null,gl=new Map,yl=new Map,qs=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function L0(e,n){switch(e){case"focusin":case"focusout":Ps=null;break;case"dragenter":case"dragleave":zs=null;break;case"mouseover":case"mouseout":Bs=null;break;case"pointerover":case"pointerout":gl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=xn(n),n!==null&&V0(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Pb(e,n,a,o,h){switch(n){case"focusin":return Ps=_l(Ps,e,n,a,o,h),!0;case"dragenter":return zs=_l(zs,e,n,a,o,h),!0;case"mouseover":return Bs=_l(Bs,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return gl.set(f,_l(gl.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,a,o,h)),!0}return!1}function P0(e){var n=ci(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Gn(e.priority,function(){j0(a)});return}}else if(n===31){if(n=p(a),n!==null){e.blockedOn=n,Gn(e.priority,function(){j0(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Vd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Do=o,a.target.dispatchEvent(o),Do=null}else return n=xn(a),n!==null&&V0(n),e.blockedOn=a,!1;n.shift()}return!0}function z0(e,n,a){wc(e)&&a.delete(n)}function zb(){Ud=!1,Ps!==null&&wc(Ps)&&(Ps=null),zs!==null&&wc(zs)&&(zs=null),Bs!==null&&wc(Bs)&&(Bs=null),gl.forEach(z0),yl.forEach(z0)}function xc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ud||(Ud=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zb)))}var Rc=null;function B0(e){Rc!==e&&(Rc=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(jd(o||a)===null)continue;break}var f=xn(a);f!==null&&(e.splice(n,3),n-=3,Vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ba(e){function n(I){return xc(I,e)}Ps!==null&&xc(Ps,e),zs!==null&&xc(zs,e),Bs!==null&&xc(Bs,e),gl.forEach(n),yl.forEach(n);for(var a=0;a<qs.length;a++){var o=qs[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qs.length&&(a=qs[0],a.blockedOn===null);)P0(a),a.blockedOn===null&&qs.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[je]||null;if(typeof f=="function")g||B0(a);else if(g){var b=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)b=g.formAction;else if(jd(h)!==null)continue}else b=g.action;typeof b=="function"?a[o+1]=b:(a.splice(o,3),o-=3),B0(a)}}}function q0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Ld(e){this._internalRoot=e}Cc.prototype.render=Ld.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,o=Sn();M0(a,o,e,n,null,null)},Cc.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;M0(e.current,2,null,e,null,null),lc(),n[li]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var a=0;a<qs.length&&n!==0&&n<qs[a].priority;a++);qs.splice(a,0,e),a===0&&P0(e)}};var H0=t.version;if(H0!=="19.2.3")throw Error(r(527,H0,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Bb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{qn=Nc.inject(Bb),ze=Nc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(r(299));var a=!1,o="",h=$g,f=Zg,g=Jg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=D0(e,1,!1,null,null,a,o,null,h,f,g,q0),e[li]=n.current,vd(e),new Ld(n)},El.hydrateRoot=function(e,n,a){if(!l(e))throw Error(r(299));var o=!1,h="",f=$g,g=Zg,b=Jg,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),n=D0(e,1,!0,n,a??null,o,h,I,f,g,b,q0),n.context=O0(null),a=n.current,o=Sn(),o=pr(o),h=Rs(o),h.callback=null,Cs(a,h,o),a=o,n.current.lanes=a,dr(n,a),Ai(n),e[li]=n.current,vd(e),new Cc(n)},El.version="19.2.3",El}var W0;function Jb(){if(W0)return Bd.exports;W0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Bd.exports=Zb(),Bd.exports}var Wb=Jb();const tS=Dv(Wb),eS=()=>{};var t_={};const Ov=function(s){const t=[];let i=0;for(let r=0;r<s.length;r++){let l=s.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},nS=function(s){const t=[];let i=0,r=0;for(;i<s.length;){const l=s[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},Mv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,x=(c&3)<<4|p>>4;let D=(p&15)<<2|_>>6,H=_&63;y||(H=64,d||(D=64)),r.push(i[A],i[x],i[D],i[H])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Ov(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):nS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const x=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||x==null)throw new iS;const D=c<<2|p>>4;if(r.push(D),_!==64){const H=p<<4&240|_>>2;if(r.push(H),x!==64){const W=_<<6&192|x;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class iS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sS=function(s){const t=Ov(s);return Mv.encodeByteArray(t,!0)},Zc=function(s){return sS(s).replace(/\./g,"")},kv=function(s){try{return Mv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aS=()=>rS().__FIREBASE_DEFAULTS__,oS=()=>{if(typeof process>"u"||typeof t_>"u")return;const s=t_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},lS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&kv(s[1]);return t&&JSON.parse(t)},gh=()=>{try{return eS()||aS()||oS()||lS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Vv=s=>gh()?.emulatorHosts?.[s],uS=s=>{const t=Vv(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},jv=()=>gh()?.config,Uv=s=>gh()?.[`_${s}`];class cS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function oo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Lv(s){return(await fetch(s,{credentials:"include"})).ok}function hS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Zc(JSON.stringify(i)),Zc(JSON.stringify(d)),""].join(".")}const wl={};function fS(){const s={prod:[],emulator:[]};for(const t of Object.keys(wl))wl[t]?s.emulator.push(t):s.prod.push(t);return s}function dS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let e_=!1;function Pv(s,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||wl[s]===t||wl[s]||e_)return;wl[s]=t;function i(D){return`__firebase__banner__${D}`}const r="__firebase__banner",c=fS().prod.length>0;function d(){const D=document.getElementById(r);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,H){D.setAttribute("width","24"),D.setAttribute("id",H),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{e_=!0,d()},D}function A(D,H){D.setAttribute("id",H),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function x(){const D=dS(r),H=i("text"),W=document.getElementById(H)||document.createElement("span"),et=i("learnmore"),tt=document.getElementById(et)||document.createElement("a"),ut=i("preprendIcon"),dt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const pt=D.element;p(pt),A(tt,et);const Pt=_();y(dt,ut),pt.append(dt,W,tt,Pt),document.body.appendChild(pt)}c?(W.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function pS(){const s=gh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function _S(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vS(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ES(){return!pS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TS(){try{return typeof indexedDB=="object"}catch{return!1}}function bS(){return new Promise((s,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const SS="FirebaseError";class cs extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=SS,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?AS(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new cs(l,p,r)}}function AS(s,t){return s.replace(wS,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const wS=/\{\$([^}]+)}/g;function xS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Gr(s,t){if(s===t)return!0;const i=Object.keys(s),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=s[l],d=t[l];if(n_(c)&&n_(d)){if(!Gr(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function n_(s){return s!==null&&typeof s=="object"}function Gl(s){const t=[];for(const[i,r]of Object.entries(s))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function RS(s,t){const i=new CS(s,t);return i.subscribe.bind(i)}class CS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");NS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Fd),l.error===void 0&&(l.error=Fd),l.complete===void 0&&(l.complete=Fd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NS(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Fd(){}function en(s){return s&&s._delegate?s._delegate:s}class Fr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zr="[DEFAULT]";class IS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new cS;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OS(t))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zr){return this.instances.has(t)}getOptions(t=zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:DS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=zr){return this.component?this.component.multipleInstances?t:zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DS(s){return s===zr?void 0:s}function OS(s){return s.instantiationMode==="EAGER"}class MS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new IS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var jt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(jt||(jt={}));const kS={debug:jt.DEBUG,verbose:jt.VERBOSE,info:jt.INFO,warn:jt.WARN,error:jt.ERROR,silent:jt.SILENT},VS=jt.INFO,jS={[jt.DEBUG]:"log",[jt.VERBOSE]:"log",[jt.INFO]:"info",[jt.WARN]:"warn",[jt.ERROR]:"error"},US=(s,t,...i)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),l=jS[t];if(l)console[l](`[${r}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=VS,this._logHandler=US,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in jt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,jt.DEBUG,...t),this._logHandler(this,jt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,jt.VERBOSE,...t),this._logHandler(this,jt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,jt.INFO,...t),this._logHandler(this,jt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,jt.WARN,...t),this._logHandler(this,jt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,jt.ERROR,...t),this._logHandler(this,jt.ERROR,...t)}}const LS=(s,t)=>t.some(i=>s instanceof i);let i_,s_;function PS(){return i_||(i_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zS(){return s_||(s_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zv=new WeakMap,sm=new WeakMap,Bv=new WeakMap,Yd=new WeakMap,Mm=new WeakMap;function BS(s){const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i($s(s.result)),l()},d=()=>{r(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&zv.set(i,s)}).catch(()=>{}),Mm.set(t,s),t}function qS(s){if(sm.has(s))return;const t=new Promise((i,r)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});sm.set(s,t)}let rm={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return sm.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Bv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return $s(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function HS(s){rm=s(rm)}function GS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=s.call(Qd(this),t,...i);return Bv.set(r,t.sort?t.sort():[t]),$s(r)}:zS().includes(s)?function(...t){return s.apply(Qd(this),t),$s(zv.get(this))}:function(...t){return $s(s.apply(Qd(this),t))}}function FS(s){return typeof s=="function"?GS(s):(s instanceof IDBTransaction&&qS(s),LS(s,PS())?new Proxy(s,rm):s)}function $s(s){if(s instanceof IDBRequest)return BS(s);if(Yd.has(s))return Yd.get(s);const t=FS(s);return t!==s&&(Yd.set(s,t),Mm.set(t,s)),t}const Qd=s=>Mm.get(s);function YS(s,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=$s(d);return r&&d.addEventListener("upgradeneeded",y=>{r($s(d.result),y.oldVersion,y.newVersion,$s(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const QS=["get","getKey","getAll","getAllKeys","count"],KS=["put","add","delete","clear"],Kd=new Map;function r_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Kd.get(t))return Kd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=KS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||QS.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Kd.set(t,c),c}HS(s=>({...s,get:(t,i,r)=>r_(t,i)||s.get(t,i,r),has:(t,i)=>!!r_(t,i)||s.has(t,i)}));class XS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($S(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function $S(s){return s.getComponent()?.type==="VERSION"}const am="@firebase/app",a_="0.14.6";const ss=new Om("@firebase/app"),ZS="@firebase/app-compat",JS="@firebase/analytics-compat",WS="@firebase/analytics",tA="@firebase/app-check-compat",eA="@firebase/app-check",nA="@firebase/auth",iA="@firebase/auth-compat",sA="@firebase/database",rA="@firebase/data-connect",aA="@firebase/database-compat",oA="@firebase/functions",lA="@firebase/functions-compat",uA="@firebase/installations",cA="@firebase/installations-compat",hA="@firebase/messaging",fA="@firebase/messaging-compat",dA="@firebase/performance",mA="@firebase/performance-compat",pA="@firebase/remote-config",gA="@firebase/remote-config-compat",yA="@firebase/storage",_A="@firebase/storage-compat",vA="@firebase/firestore",EA="@firebase/ai",TA="@firebase/firestore-compat",bA="firebase",SA="12.6.0";const om="[DEFAULT]",AA={[am]:"fire-core",[ZS]:"fire-core-compat",[WS]:"fire-analytics",[JS]:"fire-analytics-compat",[eA]:"fire-app-check",[tA]:"fire-app-check-compat",[nA]:"fire-auth",[iA]:"fire-auth-compat",[sA]:"fire-rtdb",[rA]:"fire-data-connect",[aA]:"fire-rtdb-compat",[oA]:"fire-fn",[lA]:"fire-fn-compat",[uA]:"fire-iid",[cA]:"fire-iid-compat",[hA]:"fire-fcm",[fA]:"fire-fcm-compat",[dA]:"fire-perf",[mA]:"fire-perf-compat",[pA]:"fire-rc",[gA]:"fire-rc-compat",[yA]:"fire-gcs",[_A]:"fire-gcs-compat",[vA]:"fire-fst",[TA]:"fire-fst-compat",[EA]:"fire-vertex","fire-js":"fire-js",[bA]:"fire-js-all"};const Jc=new Map,wA=new Map,lm=new Map;function o_(s,t){try{s.container.addComponent(t)}catch(i){ss.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function to(s){const t=s.name;if(lm.has(t))return ss.debug(`There were multiple attempts to register component ${t}.`),!1;lm.set(t,s);for(const i of Jc.values())o_(i,s);for(const i of wA.values())o_(i,s);return!0}function km(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Pn(s){return s==null?!1:s.settings!==void 0}const xA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new Hl("app","Firebase",xA);class RA{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const lo=SA;function qv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const r={name:om,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(i||(i=jv()),!i)throw Zs.create("no-options");const c=Jc.get(l);if(c){if(Gr(i,c.options)&&Gr(r,c.config))return c;throw Zs.create("duplicate-app",{appName:l})}const d=new MS(l);for(const y of lm.values())d.addComponent(y);const p=new RA(i,r,d);return Jc.set(l,p),p}function Hv(s=om){const t=Jc.get(s);if(!t&&s===om&&jv())return qv();if(!t)throw Zs.create("no-app",{appName:s});return t}function Js(s,t,i){let r=AA[s]??s;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}to(new Fr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const CA="firebase-heartbeat-database",NA=1,Ml="firebase-heartbeat-store";let Xd=null;function Gv(){return Xd||(Xd=YS(CA,NA,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ml)}catch(i){console.warn(i)}}}}).catch(s=>{throw Zs.create("idb-open",{originalErrorMessage:s.message})})),Xd}async function IA(s){try{const i=(await Gv()).transaction(Ml),r=await i.objectStore(Ml).get(Fv(s));return await i.done,r}catch(t){if(t instanceof cs)ss.warn(t.message);else{const i=Zs.create("idb-get",{originalErrorMessage:t?.message});ss.warn(i.message)}}}async function l_(s,t){try{const r=(await Gv()).transaction(Ml,"readwrite");await r.objectStore(Ml).put(t,Fv(s)),await r.done}catch(i){if(i instanceof cs)ss.warn(i.message);else{const r=Zs.create("idb-set",{originalErrorMessage:i?.message});ss.warn(r.message)}}}function Fv(s){return`${s.name}!${s.options.appId}`}const DA=1024,OA=30;class MA{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new VA(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=u_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>OA){const l=jA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ss.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=u_(),{heartbeatsToSend:i,unsentEntries:r}=kA(this._heartbeatsCache.heartbeats),l=Zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ss.warn(t),""}}}function u_(){return new Date().toISOString().substring(0,10)}function kA(s,t=DA){const i=[];let r=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),c_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),c_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class VA{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TS()?bS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return l_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function c_(s){return Zc(JSON.stringify({version:2,heartbeats:s})).length}function jA(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let r=1;r<s.length;r++)s[r].date<i&&(i=s[r].date,t=r);return t}function UA(s){to(new Fr("platform-logger",t=>new XS(t),"PRIVATE")),to(new Fr("heartbeat",t=>new MA(t),"PRIVATE")),Js(am,a_,s),Js(am,a_,"esm2020"),Js("fire-js","")}UA("");var LA="firebase",PA="12.7.0";Js(LA,PA,"app");function Yv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zA=Yv,Qv=new Hl("auth","Firebase",Yv());const Wc=new Om("@firebase/auth");function BA(s,...t){Wc.logLevel<=jt.WARN&&Wc.warn(`Auth (${lo}): ${s}`,...t)}function Lc(s,...t){Wc.logLevel<=jt.ERROR&&Wc.error(`Auth (${lo}): ${s}`,...t)}function rs(s,...t){throw Vm(s,...t)}function Ri(s,...t){return Vm(s,...t)}function Kv(s,t,i){const r={...zA(),[t]:i};return new Hl("auth","Firebase",r).create(t,{appName:s.name})}function is(s){return Kv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vm(s,...t){if(typeof s!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(i,...r)}return Qv.create(s,...t)}function vt(s,t,...i){if(!s)throw Vm(t,...i)}function es(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Lc(t),new Error(t)}function as(s,t){s||es(t)}function um(){return typeof self<"u"&&self.location?.href||""}function qA(){return h_()==="http:"||h_()==="https:"}function h_(){return typeof self<"u"&&self.location?.protocol||null}function HA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qA()||yS()||"connection"in navigator)?navigator.onLine:!0}function GA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fl{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=mS()||_S()}get(){return HA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jm(s,t){as(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class Xv{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const FA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const YA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],QA=new Fl(3e4,6e4);function Yl(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function uo(s,t,i,r,l={}){return $v(s,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Gl({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return gS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&oo(s.emulatorConfig.host)&&(_.credentials="include"),Xv.fetch()(await Zv(s,s.config.apiHost,i,p),_)})}async function $v(s,t,i){s._canInitEmulator=!1;const r={...FA,...t};try{const l=new KA(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Ic(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Ic(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Ic(s,"user-disabled",d);const A=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Kv(s,A,_);rs(s,A)}}catch(l){if(l instanceof cs)throw l;rs(s,"network-request-failed",{message:String(l)})}}async function Um(s,t,i,r,l={}){const c=await uo(s,t,i,r,l);return"mfaPendingCredential"in c&&rs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Zv(s,t,i,r){const l=`${t}${i}?${r}`,c=s,d=c.config.emulator?jm(s.config,l):`${s.config.apiScheme}://${l}`;return YA.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class KA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ri(this.auth,"network-request-failed")),QA.get())})}}function Ic(s,t,i){const r={appName:s.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ri(s,t,r);return l.customData._tokenResponse=i,l}async function XA(s,t){return uo(s,"POST","/v1/accounts:delete",t)}async function th(s,t){return uo(s,"POST","/v1/accounts:lookup",t)}function xl(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $A(s,t=!1){const i=en(s),r=await i.getIdToken(t),l=Lm(r);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:xl($d(l.auth_time)),issuedAtTime:xl($d(l.iat)),expirationTime:xl($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(s){return Number(s)*1e3}function Lm(s){const[t,i,r]=s.split(".");if(t===void 0||i===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const l=kv(i);return l?JSON.parse(l):(Lc("Failed to decode base64 JWT payload"),null)}catch(l){return Lc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function f_(s){const t=Lm(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(s,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof cs&&ZA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function ZA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class JA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class cm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(s){const t=s.auth,i=await s.getIdToken(),r=await kl(s,th(t,{idToken:i}));vt(r?.users.length,t,"internal-error");const l=r.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?Jv(l.providerUserInfo):[],d=t2(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function WA(s){const t=en(s);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function t2(s,t){return[...s.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function Jv(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function e2(s,t){const i=await $v(s,{},async()=>{const r=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await Zv(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:r};return s.emulatorConfig&&oo(s.emulatorConfig.host)&&(y.credentials="include"),Xv.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function n2(s,t){return uo(s,"POST","/v2/accounts:revokeToken",Yl(s,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):f_(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=f_(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await e2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Xa;return r&&(vt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return es("not implemented")}}function Gs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new JA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $A(this,t)}reload(){return WA(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(is(this.auth));const t=await this.getIdToken();return await kl(this,XA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:x,emailVerified:D,isAnonymous:H,providerData:W,stsTokenManager:et}=i;vt(x&&et,t,"internal-error");const tt=Xa.fromJSON(this.name,et);vt(typeof x=="string",t,"internal-error"),Gs(r,t.name),Gs(l,t.name),vt(typeof D=="boolean",t,"internal-error"),vt(typeof H=="boolean",t,"internal-error"),Gs(c,t.name),Gs(d,t.name),Gs(p,t.name),Gs(y,t.name),Gs(_,t.name),Gs(A,t.name);const ut=new ti({uid:x,auth:t,email:l,emailVerified:D,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:_,lastLoginAt:A});return W&&Array.isArray(W)&&(ut.providerData=W.map(dt=>({...dt}))),y&&(ut._redirectEventId=y),ut}static async _fromIdTokenResponse(t,i,r=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await eh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?Jv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Xa;p.updateFromIdToken(r);const y=new ti({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const d_=new Map;function ns(s){as(s instanceof Function,"Expected a class definition");let t=d_.get(s);return t?(as(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,d_.set(s,t),t)}class Wv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Wv.type="NONE";const m_=Wv;function Pc(s,t,i){return`firebase:${s}:${t}:${i}`}class $a{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Pc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Pc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await th(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new $a(ns(m_),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ns(m_);const d=Pc(r,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let x;if(typeof A=="string"){const D=await th(t,{idToken:A}).catch(()=>{});if(!D)break;x=await ti._fromGetAccountInfoResponse(t,D,A)}else x=ti._fromJSON(t,A);_!==c&&(p=x),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $a(c,t,r):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new $a(c,t,r))}}function p_(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(iE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(tE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(rE(t))return"Blackberry";if(aE(t))return"Webos";if(eE(t))return"Safari";if((t.includes("chrome/")||nE(t))&&!t.includes("edge/"))return"Chrome";if(sE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(i);if(r?.length===2)return r[1]}return"Other"}function tE(s=tn()){return/firefox\//i.test(s)}function eE(s=tn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function nE(s=tn()){return/crios\//i.test(s)}function iE(s=tn()){return/iemobile/i.test(s)}function sE(s=tn()){return/android/i.test(s)}function rE(s=tn()){return/blackberry/i.test(s)}function aE(s=tn()){return/webos/i.test(s)}function Pm(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function i2(s=tn()){return Pm(s)&&!!window.navigator?.standalone}function s2(){return vS()&&document.documentMode===10}function oE(s=tn()){return Pm(s)||sE(s)||aE(s)||rE(s)||/windows phone/i.test(s)||iE(s)}function lE(s,t=[]){let i;switch(s){case"Browser":i=p_(tn());break;case"Worker":i=`${p_(tn())}-${s}`;break;default:i=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${r}`}class r2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function a2(s,t={}){return uo(s,"GET","/v2/passwordPolicy",Yl(s,t))}const o2=6;class l2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??o2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class u2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g_(this),this.idTokenSubscription=new g_(this),this.beforeStateQueue=new r2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ns(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await th(this,{idToken:t}),r=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Pn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=GA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Pn(this.app))return Promise.reject(is(this));const i=t?en(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Pn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ns(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await a2(this),i=new l2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await n2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ns(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[ns(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=lE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BA(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ql(s){return en(s)}class g_{constructor(t){this.auth=t,this.observer=null,this.addObserver=RS(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function c2(s){zm=s}function h2(s){return zm.loadJS(s)}function f2(){return zm.gapiScript}function d2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function m2(s,t){const i=km(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Gr(c,t??{}))return l;rs(l,"already-initialized")}return i.initialize({options:t})}function p2(s,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ns);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t?.popupRedirectResolver)}function g2(s,t,i){const r=Ql(s);vt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=uE(t),{host:d,port:p}=y2(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){vt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),vt(Gr(_,r.config.emulator)&&Gr(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,oo(d)?(Lv(`${c}//${d}${y}`),Pv("Auth",!0)):_2()}function uE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function y2(s){const t=uE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:y_(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:y_(d)}}}function y_(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function _2(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class cE{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return es("not implemented")}_getIdTokenResponse(t){return es("not implemented")}_linkToIdToken(t,i){return es("not implemented")}_getReauthenticationResolver(t){return es("not implemented")}}async function Za(s,t){return Um(s,"POST","/v1/accounts:signInWithIdp",Yl(s,t))}const v2="http://localhost";class Yr extends cE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Yr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Yr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Za(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:v2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class hE{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends hE{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Fs extends Kl{constructor(){super("facebook.com")}static credential(t){return Yr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fs.PROVIDER_ID="facebook.com";class Ys extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Yr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Ys.credential(i,r)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Qs extends Kl{constructor(){super("github.com")}static credential(t){return Yr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Qs.credential(t.oauthAccessToken)}catch{return null}}}Qs.GITHUB_SIGN_IN_METHOD="github.com";Qs.PROVIDER_ID="github.com";class Ks extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Yr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Ks.credential(i,r)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";async function E2(s,t){return Um(s,"POST","/v1/accounts:signUp",Yl(s,t))}class os{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await ti._fromIdTokenResponse(t,r,l),d=__(r);return new os({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=__(r);return new os({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function __(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function T2(s){if(Pn(s.app))return Promise.reject(is(s));const t=Ql(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new os({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await E2(t,{returnSecureToken:!0}),r=await os._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class nh extends cs{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new nh(t,i,r,l)}}function fE(s,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,t,r):c})}async function b2(s,t,i=!1){const r=await kl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return os._forOperation(s,"link",r)}async function S2(s,t,i=!1){const{auth:r}=s;if(Pn(r.app))return Promise.reject(is(r));const l="reauthenticate";try{const c=await kl(s,fE(r,l,t,s),i);vt(c.idToken,r,"internal-error");const d=Lm(c.idToken);vt(d,r,"internal-error");const{sub:p}=d;return vt(s.uid===p,r,"user-mismatch"),os._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&rs(r,"user-mismatch"),c}}async function A2(s,t,i=!1){if(Pn(s.app))return Promise.reject(is(s));const r="signIn",l=await fE(s,r,t),c=await os._fromIdTokenResponse(s,r,l);return i||await s._updateCurrentUser(c.user),c}async function w2(s,t){return Um(s,"POST","/v1/accounts:signInWithCustomToken",Yl(s,t))}async function x2(s,t){if(Pn(s.app))return Promise.reject(is(s));const i=Ql(s),r=await w2(i,{token:t,returnSecureToken:!0}),l=await os._fromIdTokenResponse(i,"signIn",r);return await i._updateCurrentUser(l.user),l}function R2(s,t,i,r){return en(s).onIdTokenChanged(t,i,r)}function C2(s,t,i){return en(s).beforeAuthStateChanged(t,i)}function N2(s,t,i,r){return en(s).onAuthStateChanged(t,i,r)}const ih="__sak";class dE{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const I2=1e3,D2=10;class mE extends dE{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=oE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);s2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,D2):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}mE.type="LOCAL";const O2=mE;class pE extends dE{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}pE.type="SESSION";const gE=pE;function M2(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new yh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await M2(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];function Bm(s="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return s+i}class k2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Bm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(x){const D=x;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ci(){return window}function V2(s){Ci().location.href=s}function yE(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function j2(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U2(){return navigator?.serviceWorker?.controller||null}function L2(){return yE()?self:null}const _E="firebaseLocalStorageDb",P2=1,sh="firebaseLocalStorage",vE="fbase_key";class Xl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function _h(s,t){return s.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function z2(){const s=indexedDB.deleteDatabase(_E);return new Xl(s).toPromise()}function hm(){const s=indexedDB.open(_E,P2);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(sh,{keyPath:vE})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(sh)?t(r):(r.close(),await z2(),t(await hm()))})})}async function v_(s,t,i){const r=_h(s,!0).put({[vE]:t,value:i});return new Xl(r).toPromise()}async function B2(s,t){const i=_h(s,!1).get(t),r=await new Xl(i).toPromise();return r===void 0?null:r.value}function E_(s,t){const i=_h(s,!0).delete(t);return new Xl(i).toPromise()}const q2=800,H2=3;class EE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>H2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(L2()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await j2(),!this.activeServiceWorker)return;this.sender=new k2(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||U2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hm();return await v_(t,ih,"1"),await E_(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>v_(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>B2(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>E_(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=_h(l,!1).getAll();return new Xl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EE.type="LOCAL";const G2=EE;new Fl(3e4,6e4);function F2(s,t){return t?ns(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class qm extends cE{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function Y2(s){return A2(s.auth,new qm(s),s.bypassAuthState)}function Q2(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),S2(i,new qm(s),s.bypassAuthState)}async function K2(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),b2(i,new qm(s),s.bypassAuthState)}class TE{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Y2;case"linkViaPopup":case"linkViaRedirect":return K2;case"reauthViaPopup":case"reauthViaRedirect":return Q2;default:rs(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const X2=new Fl(2e3,1e4);class Ya extends TE{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=Bm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,X2.get())};t()}}Ya.currentPopupAction=null;const $2="pendingRedirect",zc=new Map;class Z2 extends TE{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=zc.get(this.auth._key());if(!t){try{const r=await J2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}zc.set(this.auth._key(),t)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J2(s,t){const i=ew(t),r=tw(s);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function W2(s,t){zc.set(s._key(),t)}function tw(s){return ns(s._redirectPersistence)}function ew(s){return Pc($2,s.config.apiKey,s.name)}async function nw(s,t,i=!1){if(Pn(s.app))return Promise.reject(is(s));const r=Ql(s),l=F2(r,t),d=await new Z2(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const iw=600*1e3;class sw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!rw(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!bE(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ri(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=iw&&this.cachedEventUids.clear(),this.cachedEventUids.has(T_(t))}saveEventToCache(t){this.cachedEventUids.add(T_(t)),this.lastProcessedEventTime=Date.now()}}function T_(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function bE({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function rw(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bE(s);default:return!1}}async function aw(s,t={}){return uo(s,"GET","/v1/projects",t)}const ow=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lw=/^https?/;async function uw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await aw(s);for(const i of t)try{if(cw(i))return}catch{}rs(s,"unauthorized-domain")}function cw(s){const t=um(),{protocol:i,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&r===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!lw.test(i))return!1;if(ow.test(s))return r===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const hw=new Fl(3e4,6e4);function b_(){const s=Ci().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function fw(s){return new Promise((t,i)=>{function r(){b_(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{b_(),i(Ri(s,"network-request-failed"))},timeout:hw.get()})}if(Ci().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ci().gapi?.load)r();else{const l=d2("iframefcb");return Ci()[l]=()=>{gapi.load?r():i(Ri(s,"network-request-failed"))},h2(`${f2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Bc=null,t})}let Bc=null;function dw(s){return Bc=Bc||fw(s),Bc}const mw=new Fl(5e3,15e3),pw="__/auth/iframe",gw="emulator/auth/iframe",yw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_w=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vw(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?jm(t,gw):`https://${s.config.authDomain}/${pw}`,r={apiKey:t.apiKey,appName:s.name,v:lo},l=_w.get(s.config.apiHost);l&&(r.eid=l);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Gl(r).slice(1)}`}async function Ew(s){const t=await dw(s),i=Ci().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:vw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yw,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ri(s,"network-request-failed"),p=Ci().setTimeout(()=>{c(d)},mw.get());function y(){Ci().clearTimeout(p),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const Tw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bw=500,Sw=600,Aw="_blank",ww="http://localhost";class S_{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xw(s,t,i,r=bw,l=Sw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const y={...Tw,width:r.toString(),height:l.toString(),top:c,left:d},_=tn().toLowerCase();i&&(p=nE(_)?Aw:i),tE(_)&&(t=t||ww,y.scrollbars="yes");const A=Object.entries(y).reduce((D,[H,W])=>`${D}${H}=${W},`,"");if(i2(_)&&p!=="_self")return Rw(t||"",p),new S_(null);const x=window.open(t||"",p,A);vt(x,s,"popup-blocked");try{x.focus()}catch{}return new S_(x)}function Rw(s,t){const i=document.createElement("a");i.href=s,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const Cw="__/auth/handler",Nw="emulator/auth/handler",Iw=encodeURIComponent("fac");async function A_(s,t,i,r,l,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:r,v:lo,eventId:l};if(t instanceof hE){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",xS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,x]of Object.entries({}))d[A]=x}if(t instanceof Kl){const A=t.getScopes().filter(x=>x!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${Iw}=${encodeURIComponent(y)}`:"";return`${Dw(s)}?${Gl(p).slice(1)}${_}`}function Dw({config:s}){return s.emulator?jm(s,Nw):`https://${s.authDomain}/${Cw}`}const Zd="webStorageSupport";class Ow{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gE,this._completeRedirectFn=nw,this._overrideRedirectResult=W2}async _openPopup(t,i,r,l){as(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await A_(t,i,r,um(),l);return xw(t,c,Bm())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await A_(t,i,r,um(),l);return V2(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(as(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await Ew(t),r=new sw(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Zd,{type:Zd},l=>{const c=l?.[0]?.[Zd];c!==void 0&&i(!!c),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=uw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return oE()||eE()||Pm()}}const Mw=Ow;var w_="@firebase/auth",x_="1.12.0";class kw{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vw(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jw(s){to(new Fr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lE(s)},_=new u2(r,l,c,y);return p2(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),to(new Fr("auth-internal",t=>{const i=Ql(t.getProvider("auth").getImmediate());return(r=>new kw(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Js(w_,x_,Vw(s)),Js(w_,x_,"esm2020")}const Uw=300,Lw=Uv("authIdTokenMaxAge")||Uw;let R_=null;const Pw=s=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>Lw)return;const l=i?.token;R_!==l&&(R_=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function zw(s=Hv()){const t=km(s,"auth");if(t.isInitialized())return t.getImmediate();const i=m2(s,{popupRedirectResolver:Mw,persistence:[G2,O2,gE]}),r=Uv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Pw(c.toString());C2(i,d,()=>d(i.currentUser)),R2(i,p=>d(p))}}const l=Vv("auth");return l&&g2(i,`http://${l}`),i}function Bw(){return document.getElementsByTagName("head")?.[0]??document}c2({loadJS(s){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=l=>{const c=Ri("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",Bw().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jw("Browser");var C_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ws,SE;(function(){var s;function t(C,R){function N(){}N.prototype=R.prototype,C.F=R.prototype,C.prototype=new N,C.prototype.constructor=C,C.D=function(V,O,j){for(var w=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)w[Rt-2]=arguments[Rt];return R.prototype[O].apply(V,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,R,N){N||(N=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(O=0;O<16;++O)V[O]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=C.g[0],N=C.g[1],O=C.g[2];let j=C.g[3],w;w=R+(j^N&(O^j))+V[0]+3614090360&4294967295,R=N+(w<<7&4294967295|w>>>25),w=j+(O^R&(N^O))+V[1]+3905402710&4294967295,j=R+(w<<12&4294967295|w>>>20),w=O+(N^j&(R^N))+V[2]+606105819&4294967295,O=j+(w<<17&4294967295|w>>>15),w=N+(R^O&(j^R))+V[3]+3250441966&4294967295,N=O+(w<<22&4294967295|w>>>10),w=R+(j^N&(O^j))+V[4]+4118548399&4294967295,R=N+(w<<7&4294967295|w>>>25),w=j+(O^R&(N^O))+V[5]+1200080426&4294967295,j=R+(w<<12&4294967295|w>>>20),w=O+(N^j&(R^N))+V[6]+2821735955&4294967295,O=j+(w<<17&4294967295|w>>>15),w=N+(R^O&(j^R))+V[7]+4249261313&4294967295,N=O+(w<<22&4294967295|w>>>10),w=R+(j^N&(O^j))+V[8]+1770035416&4294967295,R=N+(w<<7&4294967295|w>>>25),w=j+(O^R&(N^O))+V[9]+2336552879&4294967295,j=R+(w<<12&4294967295|w>>>20),w=O+(N^j&(R^N))+V[10]+4294925233&4294967295,O=j+(w<<17&4294967295|w>>>15),w=N+(R^O&(j^R))+V[11]+2304563134&4294967295,N=O+(w<<22&4294967295|w>>>10),w=R+(j^N&(O^j))+V[12]+1804603682&4294967295,R=N+(w<<7&4294967295|w>>>25),w=j+(O^R&(N^O))+V[13]+4254626195&4294967295,j=R+(w<<12&4294967295|w>>>20),w=O+(N^j&(R^N))+V[14]+2792965006&4294967295,O=j+(w<<17&4294967295|w>>>15),w=N+(R^O&(j^R))+V[15]+1236535329&4294967295,N=O+(w<<22&4294967295|w>>>10),w=R+(O^j&(N^O))+V[1]+4129170786&4294967295,R=N+(w<<5&4294967295|w>>>27),w=j+(N^O&(R^N))+V[6]+3225465664&4294967295,j=R+(w<<9&4294967295|w>>>23),w=O+(R^N&(j^R))+V[11]+643717713&4294967295,O=j+(w<<14&4294967295|w>>>18),w=N+(j^R&(O^j))+V[0]+3921069994&4294967295,N=O+(w<<20&4294967295|w>>>12),w=R+(O^j&(N^O))+V[5]+3593408605&4294967295,R=N+(w<<5&4294967295|w>>>27),w=j+(N^O&(R^N))+V[10]+38016083&4294967295,j=R+(w<<9&4294967295|w>>>23),w=O+(R^N&(j^R))+V[15]+3634488961&4294967295,O=j+(w<<14&4294967295|w>>>18),w=N+(j^R&(O^j))+V[4]+3889429448&4294967295,N=O+(w<<20&4294967295|w>>>12),w=R+(O^j&(N^O))+V[9]+568446438&4294967295,R=N+(w<<5&4294967295|w>>>27),w=j+(N^O&(R^N))+V[14]+3275163606&4294967295,j=R+(w<<9&4294967295|w>>>23),w=O+(R^N&(j^R))+V[3]+4107603335&4294967295,O=j+(w<<14&4294967295|w>>>18),w=N+(j^R&(O^j))+V[8]+1163531501&4294967295,N=O+(w<<20&4294967295|w>>>12),w=R+(O^j&(N^O))+V[13]+2850285829&4294967295,R=N+(w<<5&4294967295|w>>>27),w=j+(N^O&(R^N))+V[2]+4243563512&4294967295,j=R+(w<<9&4294967295|w>>>23),w=O+(R^N&(j^R))+V[7]+1735328473&4294967295,O=j+(w<<14&4294967295|w>>>18),w=N+(j^R&(O^j))+V[12]+2368359562&4294967295,N=O+(w<<20&4294967295|w>>>12),w=R+(N^O^j)+V[5]+4294588738&4294967295,R=N+(w<<4&4294967295|w>>>28),w=j+(R^N^O)+V[8]+2272392833&4294967295,j=R+(w<<11&4294967295|w>>>21),w=O+(j^R^N)+V[11]+1839030562&4294967295,O=j+(w<<16&4294967295|w>>>16),w=N+(O^j^R)+V[14]+4259657740&4294967295,N=O+(w<<23&4294967295|w>>>9),w=R+(N^O^j)+V[1]+2763975236&4294967295,R=N+(w<<4&4294967295|w>>>28),w=j+(R^N^O)+V[4]+1272893353&4294967295,j=R+(w<<11&4294967295|w>>>21),w=O+(j^R^N)+V[7]+4139469664&4294967295,O=j+(w<<16&4294967295|w>>>16),w=N+(O^j^R)+V[10]+3200236656&4294967295,N=O+(w<<23&4294967295|w>>>9),w=R+(N^O^j)+V[13]+681279174&4294967295,R=N+(w<<4&4294967295|w>>>28),w=j+(R^N^O)+V[0]+3936430074&4294967295,j=R+(w<<11&4294967295|w>>>21),w=O+(j^R^N)+V[3]+3572445317&4294967295,O=j+(w<<16&4294967295|w>>>16),w=N+(O^j^R)+V[6]+76029189&4294967295,N=O+(w<<23&4294967295|w>>>9),w=R+(N^O^j)+V[9]+3654602809&4294967295,R=N+(w<<4&4294967295|w>>>28),w=j+(R^N^O)+V[12]+3873151461&4294967295,j=R+(w<<11&4294967295|w>>>21),w=O+(j^R^N)+V[15]+530742520&4294967295,O=j+(w<<16&4294967295|w>>>16),w=N+(O^j^R)+V[2]+3299628645&4294967295,N=O+(w<<23&4294967295|w>>>9),w=R+(O^(N|~j))+V[0]+4096336452&4294967295,R=N+(w<<6&4294967295|w>>>26),w=j+(N^(R|~O))+V[7]+1126891415&4294967295,j=R+(w<<10&4294967295|w>>>22),w=O+(R^(j|~N))+V[14]+2878612391&4294967295,O=j+(w<<15&4294967295|w>>>17),w=N+(j^(O|~R))+V[5]+4237533241&4294967295,N=O+(w<<21&4294967295|w>>>11),w=R+(O^(N|~j))+V[12]+1700485571&4294967295,R=N+(w<<6&4294967295|w>>>26),w=j+(N^(R|~O))+V[3]+2399980690&4294967295,j=R+(w<<10&4294967295|w>>>22),w=O+(R^(j|~N))+V[10]+4293915773&4294967295,O=j+(w<<15&4294967295|w>>>17),w=N+(j^(O|~R))+V[1]+2240044497&4294967295,N=O+(w<<21&4294967295|w>>>11),w=R+(O^(N|~j))+V[8]+1873313359&4294967295,R=N+(w<<6&4294967295|w>>>26),w=j+(N^(R|~O))+V[15]+4264355552&4294967295,j=R+(w<<10&4294967295|w>>>22),w=O+(R^(j|~N))+V[6]+2734768916&4294967295,O=j+(w<<15&4294967295|w>>>17),w=N+(j^(O|~R))+V[13]+1309151649&4294967295,N=O+(w<<21&4294967295|w>>>11),w=R+(O^(N|~j))+V[4]+4149444226&4294967295,R=N+(w<<6&4294967295|w>>>26),w=j+(N^(R|~O))+V[11]+3174756917&4294967295,j=R+(w<<10&4294967295|w>>>22),w=O+(R^(j|~N))+V[2]+718787259&4294967295,O=j+(w<<15&4294967295|w>>>17),w=N+(j^(O|~R))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,R){R===void 0&&(R=C.length);const N=R-this.blockSize,V=this.C;let O=this.h,j=0;for(;j<R;){if(O==0)for(;j<=N;)l(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<R;)if(V[O++]=C.charCodeAt(j++),O==this.blockSize){l(this,V),O=0;break}}else for(;j<R;)if(V[O++]=C[j++],O==this.blockSize){l(this,V),O=0;break}}this.h=O,this.o+=R},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var N=C.length-8;N<C.length;++N)C[N]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)C[R++]=this.g[N]>>>V&255;return C};function c(C,R){var N=p;return Object.prototype.hasOwnProperty.call(N,C)?N[C]:N[C]=R(C)}function d(C,R){this.h=R;const N=[];let V=!0;for(let O=C.length-1;O>=0;O--){const j=C[O]|0;V&&j==R||(N[O]=j,V=!1)}this.g=N}var p={};function y(C){return-128<=C&&C<128?c(C,function(R){return new d([R|0],R<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return x;if(C<0)return tt(_(-C));const R=[];let N=1;for(let V=0;C>=N;V++)R[V]=C/N|0,N*=4294967296;return new d(R,0)}function A(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return tt(A(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=_(Math.pow(R,8));let V=x;for(let j=0;j<C.length;j+=8){var O=Math.min(8,C.length-j);const w=parseInt(C.substring(j,j+O),R);O<8?(O=_(Math.pow(R,O)),V=V.j(O).add(_(w))):(V=V.j(N),V=V.add(_(w)))}return V}var x=y(0),D=y(1),H=y(16777216);s=d.prototype,s.m=function(){if(et(this))return-tt(this).m();let C=0,R=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);C+=(V>=0?V:4294967296+V)*R,R*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(et(this))return"-"+tt(this).toString(C);const R=_(Math.pow(C,6));var N=this;let V="";for(;;){const O=Pt(N,R).g;N=ut(N,O.j(R));let j=((N.g.length>0?N.g[0]:N.h)>>>0).toString(C);if(N=O,W(N))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function et(C){return C.h==-1}s.l=function(C){return C=ut(this,C),et(C)?-1:W(C)?0:1};function tt(C){const R=C.g.length,N=[];for(let V=0;V<R;V++)N[V]=~C.g[V];return new d(N,~C.h).add(D)}s.abs=function(){return et(this)?tt(this):this},s.add=function(C){const R=Math.max(this.g.length,C.g.length),N=[];let V=0;for(let O=0;O<=R;O++){let j=V+(this.i(O)&65535)+(C.i(O)&65535),w=(j>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=w>>>16,j&=65535,w&=65535,N[O]=w<<16|j}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ut(C,R){return C.add(tt(R))}s.j=function(C){if(W(this)||W(C))return x;if(et(this))return et(C)?tt(this).j(tt(C)):tt(tt(this).j(C));if(et(C))return tt(this.j(tt(C)));if(this.l(H)<0&&C.l(H)<0)return _(this.m()*C.m());const R=this.g.length+C.g.length,N=[];for(var V=0;V<2*R;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const j=this.i(V)>>>16,w=this.i(V)&65535,Rt=C.i(O)>>>16,Xt=C.i(O)&65535;N[2*V+2*O]+=w*Xt,dt(N,2*V+2*O),N[2*V+2*O+1]+=j*Xt,dt(N,2*V+2*O+1),N[2*V+2*O+1]+=w*Rt,dt(N,2*V+2*O+1),N[2*V+2*O+2]+=j*Rt,dt(N,2*V+2*O+2)}for(C=0;C<R;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=R;C<2*R;C++)N[C]=0;return new d(N,0)};function dt(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function pt(C,R){this.g=C,this.h=R}function Pt(C,R){if(W(R))throw Error("division by zero");if(W(C))return new pt(x,x);if(et(C))return R=Pt(tt(C),R),new pt(tt(R.g),tt(R.h));if(et(R))return R=Pt(C,tt(R)),new pt(tt(R.g),R.h);if(C.g.length>30){if(et(C)||et(R))throw Error("slowDivide_ only works with positive integers.");for(var N=D,V=R;V.l(C)<=0;)N=Kt(N),V=Kt(V);var O=xt(N,1),j=xt(V,1);for(V=xt(V,2),N=xt(N,2);!W(V);){var w=j.add(V);w.l(C)<=0&&(O=O.add(N),j=w),V=xt(V,1),N=xt(N,1)}return R=ut(C,O.j(R)),new pt(O,R)}for(O=x;C.l(R)>=0;){for(N=Math.max(1,Math.floor(C.m()/R.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(N),w=j.j(R);et(w)||w.l(C)>0;)N-=V,j=_(N),w=j.j(R);W(j)&&(j=D),O=O.add(j),C=ut(C,w)}return new pt(O,C)}s.B=function(C){return Pt(this,C).h},s.and=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)&C.i(V);return new d(N,this.h&C.h)},s.or=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)|C.i(V);return new d(N,this.h|C.h)},s.xor=function(C){const R=Math.max(this.g.length,C.g.length),N=[];for(let V=0;V<R;V++)N[V]=this.i(V)^C.i(V);return new d(N,this.h^C.h)};function Kt(C){const R=C.g.length+1,N=[];for(let V=0;V<R;V++)N[V]=C.i(V)<<1|C.i(V-1)>>>31;return new d(N,C.h)}function xt(C,R){const N=R>>5;R%=32;const V=C.g.length-N,O=[];for(let j=0;j<V;j++)O[j]=R>0?C.i(j+N)>>>R|C.i(j+N+1)<<32-R:C.i(j+N);return new d(O,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,SE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ws=d}).apply(typeof C_<"u"?C_:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AE,Tl,wE,qc,fm,xE,RE,CE;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var L=u[S];if(!(L in v))break t;v=v[L]}u=u[u.length-1],S=v[u],m=m(S),m!=S&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(S,L,q){for(var it=Array(arguments.length-2),At=2;At<arguments.length;At++)it[At-2]=arguments[At];return m.prototype[L].apply(S,it)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=u[S];return v}return[]}function W(u,m){for(let S=1;S<arguments.length;S++){const L=arguments[S];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=L[it]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const S=pt.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var pt=new et(()=>new Pt,u=>u.reset());class Pt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Kt,xt=!1,C=new dt,R=()=>{const u=Promise.resolve(void 0);Kt=()=>{u.then(N)}};function N(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){tt(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Rt(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Rt,O),Rt.prototype.init=function(u,m){const v=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Rt.Z.h.call(this)},Rt.prototype.h=function(){Rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Xt="closure_listenable_"+(Math.random()*1e6|0),F=0;function nt(u,m,v,S,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=L,this.key=++F,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,v){for(const S in u)m.call(v,u[S],S,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Q(u,m){let v,S;for(let L=1;L<arguments.length;L++){S=arguments[L];for(v in S)u[v]=S[v];for(let q=0;q<M.length;q++)v=M[q],Object.prototype.hasOwnProperty.call(S,v)&&(u[v]=S[v])}}function $(u){this.src=u,this.g={},this.h=0}$.prototype.add=function(u,m,v,S,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=rt(u,m,S,L);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!S,L),m.fa=v,u.push(m)),m};function st(u,m){const v=m.type;if(v in u.g){var S=u.g[v],L=Array.prototype.indexOf.call(S,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(S,L,1),q&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function rt(u,m,v,S){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==S)return L}return-1}var ft="closure_lm_"+(Math.random()*1e6|0),$t={};function It(u,m,v,S,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)It(u,m[q],v,S,L);return null}return v=yo(v),u&&u[Xt]?u.J(m,v,p(S)?!!S.capture:!1,L):Vi(u,m,v,!1,S,L)}function Vi(u,m,v,S,L,q){if(!m)throw Error("Invalid event type");const it=p(L)?!!L.capture:!!L;let At=cr(u);if(At||(u[ft]=At=new $(u)),v=At.add(m,v,S,it,q),v.proxy)return v;if(S=Jr(),v.proxy=S,S.src=u,S.listener=v,u.addEventListener)j||(L=it),L===void 0&&(L=!1),u.addEventListener(m.toString(),S,L);else if(u.attachEvent)u.attachEvent(ii(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jr(){function u(v){return m.call(u.src,u.listener,v)}const m=po;return u}function Wr(u,m,v,S,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Wr(u,m[q],v,S,L);else S=p(S)?!!S.capture:!!S,v=yo(v),u&&u[Xt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=rt(m,v,S,L),v>-1&&(ot(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=cr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=rt(m,v,S,L)),(v=u>-1?m[u]:null)&&ta(v))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Xt])st(m.i,u);else{var v=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(v,S,u.capture):m.detachEvent?m.detachEvent(ii(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=cr(m))?(st(v,u),v.h==0&&(v.src=null,m[ft]=null)):ot(u)}}}function ii(u){return u in $t?$t[u]:$t[u]="on"+u}function po(u,m){if(u.da)u=!0;else{m=new Rt(m,this);const v=u.listener,S=u.ha||u.src;u.fa&&ta(u),u=v.call(S,m)}return u}function cr(u){return u=u[ft],u instanceof $?u:null}var go="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(u){return typeof u=="function"?u:(u[go]||(u[go]=function(m){return u.handleEvent(m)}),u[go])}function Te(){V.call(this),this.i=new $(this),this.M=this,this.G=null}x(Te,V),Te.prototype[Xt]=!0,Te.prototype.removeEventListener=function(u,m,v,S){Wr(this,u,m,v,S)};function Oe(u,m){var v,S=u.G;if(S)for(v=[];S;S=S.G)v.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var L=m;m=new O(S,u),Q(m,L)}L=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],L=hs(q,S,!0,m)&&L;if(q=m.g=u,L=hs(q,S,!0,m)&&L,L=hs(q,S,!1,m)&&L,v)for(it=0;it<v.length;it++)q=m.g=v[it],L=hs(q,S,!1,m)&&L}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let S=0;S<v.length;S++)ot(v[S]);delete u.g[m],u.h--}}this.G=null},Te.prototype.J=function(u,m,v,S){return this.i.add(String(u),m,!1,v,S)},Te.prototype.K=function(u,m,v,S){return this.i.add(String(u),m,!0,v,S)};function hs(u,m,v,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const At=it.listener,ge=it.ha||it.src;it.fa&&st(u.i,it),L=At.call(ge,S)!==!1&&L}}return L&&!S.defaultPrevented}function zh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function eu(u){u.g=zh(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class nn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){V.call(this),this.h=u,this.g={}}x(hr,V);var _o=[];function vo(u){Nt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),vo(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fs=d.JSON.stringify,Bh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){O.call(this,"d")}x(ze,O);function wn(){O.call(this,"c")}x(wn,O);var pe={},ru=null;function ea(){return ru=ru||new Te}pe.Ia="serverreachability";function au(u){O.call(this,pe.Ia,u)}x(au,O);function si(u){const m=ea();Oe(m,new au(m))}pe.STAT_EVENT="statevent";function fr(u,m){O.call(this,pe.STAT_EVENT,u),this.stat=m}x(fr,O);function be(u){const m=ea();Oe(m,new fr(m,u))}pe.Ja="timingevent";function ri(u,m){O.call(this,pe.Ja,u),this.size=m}x(ri,O);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function qh(u,m,v,S,L,q){u.info(function(){if(u.g)if(q){var it="",At=q.split("&");for(let Yt=0;Yt<At.length;Yt++){var ge=At[Yt].split("=");if(ge.length>1){const ce=ge[0];ge=ge[1];const Nn=ce.split("_");it=Nn.length>=2&&Nn[1]=="type"?it+(ce+"="+ge+"&"):it+(ce+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+S+") [attempt "+L+"]: "+m+`
`+v+`
`+it})}function ou(u,m,v,S,L,q,it){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+it})}function oi(u,m,v,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(u,v)+(S?" "+S:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Hh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var L=S[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<S.length;it++)S[it]=""}}}}return fs(q)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function pr(){}x(pr,iu),pr.prototype.g=function(){return new XMLHttpRequest},To=new pr;function ji(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Gn(u,m,v,S){this.j=u,this.i=m,this.l=v,this.S=S||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Se={},je={};function li(u,m,v){u.M=1,u.A=gr(we(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),ui(u),u.B=we(u.A);var v=u.B,S=u.S;Array.isArray(S)||(S=[String(S)]),aa(v.i,"t",S),u.C=0,v=u.j.L,u.h=new Fn,u.g=Su(u.j,v?m:null,!u.u),u.P>0&&(u.O=new nn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,S=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(_o[0]=L.toString()),L=_o);for(let q=0;q<L.length;q++){const it=It(v,L[q],S||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?T(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}Gn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Gn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Kn(this.g),ge=this.g.ya(),Yt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||At!=4||ge==7||(ge==8||Yt<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Gh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,L=this.g;if((S=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(S)){var q=S;break e}}q=null}if(u=q)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,be(12),pn(this),xn(this);break t}}if(this.R){u=!0;let ce;for(;!this.K&&this.C<v.length;)if(ce=cu(this,v),ce==je){At==4&&(this.m=4,be(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(ce==Se){this.m=4,be(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,ce,null),hi(this,ce);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,be(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(it),it.P=!0,be(11))}}else oi(this.i,this.l,v,null),hi(this,v);At==4&&pn(this),this.o&&!this.K&&(At==4?vu(this.j,this):(this.o=!1,ui(this)))}else Li(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),pn(this),xn(this)}}}catch{}};function Gh(u){if(!uu(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const S=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),xn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<S;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==S-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,S=m.indexOf(`
`,v);return S==-1?je:(v=Number(m.substring(v,S)),isNaN(v)?Se:(S+=1,S+v>m.length?je:(m=m.slice(S,S+v),u.C=S+v,m)))}Gn.prototype.cancel=function(){this.K=!0,pn(this)};function ui(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(_(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Gn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(si(),be(17)),pn(this),this.m=2,xn(this)):ia(this,this.T-u)};function xn(u){u.j.I==0||u.K||vu(u.j,u)}function pn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var L=S;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),Es(v);else break t;Sr(v),be(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(_(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&ha(v),!w(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Yt=L[m];const ce=Yt[0];if(!(ce<=v.K))if(v.K=ce,Yt=Yt[1],v.I==2)if(Yt[0]=="c"){v.M=Yt[1],v.ba=Yt[2];const Nn=Yt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ei=Yt[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Xn=Yt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(S=1.5*Xn,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const $n=u.g;if($n){const Ar=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ar){var q=S.h;q.g||Ar.indexOf("spdy")==-1&&Ar.indexOf("quic")==-1&&Ar.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ao(q,q.h),q.h=null))}if(S.G){const fa=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(S.wa=fa,Jt(S.J,S.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var it=u;if(S.na=bu(S,S.L?S.ba:null,S.W),it.L){wo(S.h,it);var At=it,ge=S.O;ge&&(At.H=ge),At.D&&(ci(At),ui(At)),S.g=it}else yu(S);v.i.length>0&&_i(v)}else Yt[0]!="stop"&&Yt[0]!="close"||vi(v,7);else v.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?vi(v,7):ko(v):Yt[0]!="noop"&&v.l&&v.l.qa(Yt),v.A=0)}}si(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function bo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}bo.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const S=u[v].indexOf("=");let L,q=null;S>=0?(L=u[v].substring(0,S),q=u[v].substring(S+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,ds(this,u.u),this.h=u.h,Ro(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),ds(this,m[4]),this.h=mi(m[5]||"",!0),Ro(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new ps(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,ra,!0),"@"),u.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yr(v,v.charAt(0)=="/"?Co:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yr(v,du)),u.join("")},gn.prototype.resolve=function(u){const m=we(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var S=u.h;if(v)ds(m,u.u);else if(v=!!u.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var L=m.h.lastIndexOf("/");L!=-1&&(S=m.h.slice(0,L+1)+S)}if(L=S,L==".."||L==".")S="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){S=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let it=0;it<L.length;){const At=L[it++];At=="."?S&&it==L.length&&q.push(""):At==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),S&&it==L.length&&q.push("")):(q.push(At),S=!0)}S=q.join("/")}else S=L}return v?m.h=S:v=u.i.toString()!=="",v?Ro(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function we(u){return new gn(u)}function Ue(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ds(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ro(u,m,v){m instanceof ps?(u.i=m,oa(u.i,u.l)):(v||(m=yr(m,ms)),u.i=new ps(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function gr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,an),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,fu=/[#\?:]/g,Co=/[#\?]/g,ms=/[#\?@]/g,du=/#/g;function ps(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function on(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ps.prototype,s.add=function(u,m){on(this),this.i=null,u=gs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){on(u),m=gs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return on(u),m=gs(u,m),u.g.has(m)}s.forEach=function(u,m){on(this),this.g.forEach(function(v,S){v.forEach(function(L){u.call(m,L,S,this)},this)},this)};function Io(u,m){on(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(gs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return on(this),this.i=null,u=gs(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(gs(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const L=ji(v);v=Io(this,v);for(let q=0;q<v.length;q++){let it=L;v[q]!==""&&(it+="="+ji(v[q])),u.push(it)}}return this.i=u.join("&")};function pu(u){const m=new ps;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function gs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(on(u),u.i=null,u.g.forEach(function(v,S){const L=S.toLowerCase();S!=L&&(mu(this,S),aa(this,L,v))},u)),u.j=m}function Yn(u,m){const v=new Hn;if(d.Image){const S=new Image;S.onload=A(Rn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=A(Rn,v,"TestLoadImage: error",!1,m,S),S.onabort=A(Rn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=A(Rn,v,"TestLoadImage: timeout",!1,m,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function Do(u,m){const v=new Hn,S=new AbortController,L=setTimeout(()=>{S.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(L),q.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,S,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),S(v)}catch{}}function ys(){this.g=new nu}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}x(pi,iu),pi.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){Te.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(_r,Te),s=_r.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_s(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?_s(this):Qn(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,_s(this))},s.Na=function(u){this.g&&(this.response=u,_s(this))},s.ga=function(){this.g&&_s(this)};function _s(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return Nt(u,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function vr(u,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Cn(v),typeof u=="string"?v!=null&&ji(v):Jt(u,m,v))}function ee(u){Te.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ee,Te);var gi=/^https?$/i,Oo=["POST","PUT"];s=ee.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Er(this,q);return}if(u=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var L in S)v.set(L,S[L]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())v.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Oo,m,void 0)>=0)||S||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Er(this,q)}};function Er(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),Ui(u)}function Mo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),Ui(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),ee.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},s.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=q===0){let it=String(u.D).match(hu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),S=!gi.test(it?it.toLowerCase():"")}v=S}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Mo(u)}}finally{Ui(u)}}}}function Ui(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Li(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(w(u[S]))continue;var v=lu(u[S]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Ft(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function vs(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new bo(u&&u.concurrentRequestLimit),this.Ba=new ys,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=vs.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,S){be(0),this.W=u,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=bu(this,null,this.W),_i(this)};function ko(u){if(ua(u),u.I==3){var m=u.V++,v=we(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),br(u,v),m=new Gn(u,u.j,m),m.M=2,m.A=gr(we(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Su(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}Tu(u)}function Es(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function ua(u){Es(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;Kt||R(),xt||(Kt(),xt=!0),C.add(m,u),u.D=0}}function ca(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Gn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=T(q),Q(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=we(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),br(this,v),q&&(this.R?m="headers="+ji(Cn(q))+"&"+m:this.u&&vr(v,this.u,q)),Ao(this.h,L),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),L.U=!0,li(L,v,null)):li(L,v,m),this.I=2}}else this.I==3&&(u?Vo(this,u):this.i.length==0||So(this.h)||Vo(this))};function Vo(u,m){var v;m?v=m.l:v=u.V++;const S=we(u.J);Jt(S,"SID",u.M),Jt(S,"RID",v),Jt(S,"AID",u.K),br(u,S),u.u&&u.o&&vr(S,u.u,u.o),v=new Gn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),li(v,S,m)}function br(u,m){u.H&&Nt(u.H,function(v,S){Jt(m,S,v)}),u.l&&Nt({},function(v,S){Jt(m,S,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const S=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const ge=["count="+v];At==-1?v>0?(At=L[0].g,ge.push("ofs="+At)):At=0:ge.push("ofs="+At);let Yt=!0;for(let ce=0;ce<v;ce++){var q=L[ce].g;const Nn=L[ce].map;if(q-=At,q<0)At=Math.max(0,L[ce].g-100),Yt=!1;else try{q="req"+q+"_"||"";try{var it=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ei,Xn]of it){let $n=Xn;p(Xn)&&($n=fs(Xn)),ge.push(q+Ei+"="+encodeURIComponent($n))}}catch(Ei){throw ge.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{S&&S(Nn)}}if(Yt){it=ge.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Kt||R(),xt||(Kt(),xt=!0),C.add(m,u),u.A=0}}function Sr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Es(this),_u(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new Gn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=we(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),br(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=gr(we(m)),v.u=null,v.R=!0,na(v,u)}s.Va=function(){this.C!=null&&(this.C=null,Es(this),Sr(this),be(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){ha(u),jo(u),u.g=null;var S=2}else if(di(u.h,m))v=m.G,wo(u.h,m),S=1;else return;if(u.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;S=ea(),Oe(S,new ri(S,v)),_i(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(S==1&&ca(u,m)||S==2&&Sr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),S=u.Ua;const L=!S;S=new gn(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(S,"https"),gr(S),L?Yn(S.toString(),v):Do(S.toString(),v)}else be(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ua(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var S=v instanceof gn?we(v):new gn(v);if(S.g!="")m&&(S.g=m+"."+S.g),ds(S,S.u);else{var L=d.location;S=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new gn(null);S&&Ue(q,S),m&&(q.g=m),L&&ds(q,L),v&&(q.h=v),S=q}return v=u.G,m=u.wa,v&&m&&Jt(S,v,m),Jt(S,"VER",u.ka),br(u,S),S}function Su(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new pi({ab:v})):new ee(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}s=Au.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ts(){}Ts.prototype.g=function(u,m){return new sn(u,m)};function sn(u,m){Te.call(this),this.g=new vs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Pi(this)}x(sn,Te),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){ko(this.g)},sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=fs(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&_i(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,ko(this.g),delete this.g,sn.Z.N.call(this)};function wu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(wu,ze);function xu(){wn.call(this),this.status=1}x(xu,wn);function Pi(u){this.g=u}x(Pi,Au),Pi.prototype.ra=function(){Oe(this.g,"a")},Pi.prototype.qa=function(u){Oe(this.g,new wu(u))},Pi.prototype.pa=function(u){Oe(this.g,new xu)},Pi.prototype.oa=function(){Oe(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,CE=function(){return new Ts},RE=function(){return ea()},xE=pe,fm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,qc=mr,Eo.COMPLETE="complete",wE=Eo,su.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Tl=su,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,AE=ee}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const N_="@firebase/firestore",I_="4.9.3";let Ze=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let co="12.7.0";const Qr=new Om("@firebase/firestore");function qa(){return Qr.logLevel}function at(s,...t){if(Qr.logLevel<=jt.DEBUG){const i=t.map(Hm);Qr.debug(`Firestore (${co}): ${s}`,...i)}}function ls(s,...t){if(Qr.logLevel<=jt.ERROR){const i=t.map(Hm);Qr.error(`Firestore (${co}): ${s}`,...i)}}function eo(s,...t){if(Qr.logLevel<=jt.WARN){const i=t.map(Hm);Qr.warn(`Firestore (${co}): ${s}`,...i)}}function Hm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function _t(s,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,NE(s,r,i)}function NE(s,t,i){let r=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ls(r),new Error(r)}function Zt(s,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,s||NE(t,l,r)}function St(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends cs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class IE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class Hw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Gw{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new tr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new tr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Zt(typeof r.accessToken=="string",31837,{l:r}),new IE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class Fw{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yw{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new Fw(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class D_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qw{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Pn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const r=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new D_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new D_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Kw(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<s;r++)i[r]=Math.floor(256*Math.random());return i}class Gm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=Kw(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Ut(s,t){return s<t?-1:s>t?1:0}function dm(s,t){const i=Math.min(s.length,t.length);for(let r=0;r<i;r++){const l=s.charAt(r),c=t.charAt(r);if(l!==c)return Jd(l)===Jd(c)?Ut(l,c):Jd(l)?1:-1}return Ut(s.length,t.length)}const Xw=55296,$w=57343;function Jd(s){const t=s.charCodeAt(0);return t>=Xw&&t<=$w}function no(s,t,i){return s.length===t.length&&s.every(((r,l)=>i(r,t[l])))}const O_="__name__";class xi{constructor(t,i,r){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&_t(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=xi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ut(t.length,i.length)}static compareSegments(t,i){const r=xi.isNumericId(t),l=xi.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?xi.extractNumericId(t).compare(xi.extractNumericId(i)):dm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ws.fromString(t.substring(4,t.length-2))}}class le extends xi{construct(t,i,r){return new le(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const Zw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends xi{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return Zw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===O_}static keyField(){return new Qe([O_])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class gt{constructor(t){this.path=t}static fromPath(t){return new gt(le.fromString(t))}static fromName(t){return new gt(le.fromString(t).popFirst(5))}static empty(){return new gt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new gt(new le(t.slice()))}}function DE(s,t,i){if(!i)throw new ht(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function Jw(s,t,i,r){if(t===!0&&r===!0)throw new ht(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function M_(s){if(!gt.isDocumentKey(s))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function k_(s){if(gt.isDocumentKey(s))throw new ht(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function OE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Fm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":_t(12329,{type:typeof s})}function ei(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fm(s);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function De(s,t){const i={typeString:s};return t&&(i.value=t),i}function $l(s,t){if(!OE(s))throw new ht(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){i=`JSON missing required field: '${r}'`;break}const d=s[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ht(J.INVALID_ARGUMENT,i);return!0}const V_=-62135596800,j_=1e6;class ue{static now(){return ue.fromMillis(Date.now())}static fromDate(t){return ue.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*j_);return new ue(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<V_)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/j_}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ue._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if($l(t,ue._jsonSchema))return new ue(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-V_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ue._jsonSchemaVersion="firestore/timestamp/1.0",ue._jsonSchema={type:De("string",ue._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ue(0,0))}static max(){return new Et(new ue(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Vl=-1;function Ww(s,t){const i=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(r===1e9?new ue(i+1,0):new ue(i,r));return new nr(l,gt.empty(),t)}function tx(s){return new nr(s.readTime,s.key,Vl)}class nr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new nr(Et.min(),gt.empty(),Vl)}static max(){return new nr(Et.max(),gt.empty(),Vl)}}function ex(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=gt.comparator(s.documentKey,t.documentKey),i!==0?i:Ut(s.largestBatchId,t.largestBatchId))}const nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ix{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==nx)throw s;at("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,r)=>{i(t)}))}static reject(t){return new Z(((i,r)=>{r(t)}))}static waitFor(t){return new Z(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Z.resolve(!1);for(const r of t)i=i.next((l=>l?Z.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new Z(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new Z(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function sx(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(s){return s.name==="IndexedDbTransactionError"}class vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;const Ym=-1;function Eh(s){return s==null}function rh(s){return s===0&&1/s==-1/0}function rx(s){return typeof s=="number"&&Number.isInteger(s)&&!rh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const ME="";function ax(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=U_(t)),t=ox(s.get(i),t);return U_(t)}function ox(s,t){let i=t;const r=s.length;for(let l=0;l<r;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case ME:i+="";break;default:i+=c}}return i}function U_(s){return s+ME+""}function L_(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function lr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function kE(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||Ye.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ye.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ye.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ye{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ye.RED,this.left=l??Ye.EMPTY,this.right=c??Ye.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ye(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ye.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ye.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ye.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ye.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ye.EMPTY=null,Ye.RED=!0,Ye.BLACK=!1;Ye.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ye(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(t){return new P_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class P_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new An([])}unionWith(t){let i=new Ve(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class VE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new VE("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const lx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(s){if(Zt(!!s,39018),typeof s=="string"){let t=0;const i=lx.exec(s);if(Zt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ve(s.seconds),nanos:ve(s.nanos)}}function ve(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function sr(s){return typeof s=="string"?Ke.fromBase64String(s):Ke.fromUint8Array(s)}const jE="server_timestamp",UE="__type__",LE="__previous_value__",PE="__local_write_time__";function Qm(s){return(s?.mapValue?.fields||{})[UE]?.stringValue===jE}function Th(s){const t=s.mapValue.fields[LE];return Qm(t)?Th(t):t}function jl(s){const t=ir(s.mapValue.fields[PE].timestampValue);return new ue(t.seconds,t.nanos)}class ux{constructor(t,i,r,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const ah="(default)";class Ul{constructor(t,i){this.projectId=t,this.database=i||ah}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===ah}isEqual(t){return t instanceof Ul&&t.projectId===this.projectId&&t.database===this.database}}const zE="__type__",cx="__max__",Mc={mapValue:{}},BE="__vector__",oh="value";function rr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Qm(s)?4:fx(s)?9007199254740991:hx(s)?10:11:_t(28295,{value:s})}function Mi(s,t){if(s===t)return!0;const i=rr(s);if(i!==rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return jl(s).isEqual(jl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ir(l.timestampValue),p=ir(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return sr(l.bytesValue).isEqual(sr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ve(l.geoPointValue.latitude)===ve(c.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ve(l.integerValue)===ve(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ve(l.doubleValue),p=ve(c.doubleValue);return d===p?rh(d)===rh(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return no(s.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(L_(d)!==L_(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Mi(d[y],p[y])))return!1;return!0})(s,t);default:return _t(52216,{left:s})}}function Ll(s,t){return(s.values||[]).find((i=>Mi(i,t)))!==void 0}function io(s,t){if(s===t)return 0;const i=rr(s),r=rr(t);if(i!==r)return Ut(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ut(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ve(c.integerValue||c.doubleValue),y=ve(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return z_(s.timestampValue,t.timestampValue);case 4:return z_(jl(s),jl(t));case 5:return dm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=sr(c),y=sr(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Ut(p[_],y[_]);if(A!==0)return A}return Ut(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ut(ve(c.latitude),ve(d.latitude));return p!==0?p:Ut(ve(c.longitude),ve(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return B_(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[oh]?.arrayValue,A=y[oh]?.arrayValue,x=Ut(_?.values?.length||0,A?.values?.length||0);return x!==0?x:B_(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let x=0;x<y.length&&x<A.length;++x){const D=dm(y[x],A[x]);if(D!==0)return D;const H=io(p[y[x]],_[A[x]]);if(H!==0)return H}return Ut(y.length,A.length)})(s.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function z_(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Ut(s,t);const i=ir(s),r=ir(t),l=Ut(i.seconds,r.seconds);return l!==0?l:Ut(i.nanos,r.nanos)}function B_(s,t){const i=s.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=io(i[l],r[l]);if(c)return c}return Ut(i.length,r.length)}function so(s){return mm(s)}function mm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const r=ir(i);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return sr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return gt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=mm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${mm(i.fields[d])}`;return l+"}"})(s.mapValue):_t(61005,{value:s})}function Hc(s){switch(rr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(s);return t?16+Hc(t):16;case 5:return 2*s.stringValue.length;case 6:return sr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Hc(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let l=0;return lr(r.fields,((c,d)=>{l+=c.length+Hc(d)})),l})(s.mapValue);default:throw _t(13486,{value:s})}}function pm(s){return!!s&&"integerValue"in s}function Km(s){return!!s&&"arrayValue"in s}function q_(s){return!!s&&"nullValue"in s}function H_(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function hx(s){return(s?.mapValue?.fields||{})[zE]?.stringValue===BE}function Rl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return lr(s.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Rl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Rl(s.arrayValue.values[i]);return t}return{...s}}function fx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===cx}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Rl(i)}setAll(t){let i=Qe.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=Rl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Gc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){lr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new mn(Rl(this.value))}}function qE(s){const t=[];return lr(s.fields,((i,r)=>{const l=new Qe([i]);if(Gc(r)){const c=qE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}class Je{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,Et.min(),Et.min(),Et.min(),mn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,Et.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,Et.min(),Et.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Et.min(),Et.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class lh{constructor(t,i){this.position=t,this.inclusive=i}}function G_(s,t,i){let r=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?r=gt.comparator(gt.fromName(d.referenceValue),i.key):r=io(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function F_(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Mi(s.position[i],t.position[i]))return!1;return!0}class uh{constructor(t,i="asc"){this.field=t,this.dir=i}}function dx(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class HE{}class ke extends HE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new px(t,i,r):i==="array-contains"?new _x(t,r):i==="in"?new vx(t,r):i==="not-in"?new Ex(t,r):i==="array-contains-any"?new Tx(t,r):new ke(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new gx(t,r):new yx(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ki extends HE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ki(t,i)}matches(t){return GE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function GE(s){return s.op==="and"}function FE(s){return mx(s)&&GE(s)}function mx(s){for(const t of s.filters)if(t instanceof ki)return!1;return!0}function gm(s){if(s instanceof ke)return s.field.canonicalString()+s.op.toString()+so(s.value);if(FE(s))return s.filters.map((t=>gm(t))).join(",");{const t=s.filters.map((i=>gm(i))).join(",");return`${s.op}(${t})`}}function YE(s,t){return s instanceof ke?(function(r,l){return l instanceof ke&&r.op===l.op&&r.field.isEqual(l.field)&&Mi(r.value,l.value)})(s,t):s instanceof ki?(function(r,l){return l instanceof ki&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&YE(d,l.filters[p])),!0):!1})(s,t):void _t(19439)}function QE(s){return s instanceof ke?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(s):s instanceof ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(QE).join(" ,")+"}"})(s):"Filter"}class px extends ke{constructor(t,i,r){super(t,i,r),this.key=gt.fromName(r.referenceValue)}matches(t){const i=gt.comparator(t.key,this.key);return this.matchesComparison(i)}}class gx extends ke{constructor(t,i){super(t,"in",i),this.keys=KE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class yx extends ke{constructor(t,i){super(t,"not-in",i),this.keys=KE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function KE(s,t){return(t.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class _x extends ke{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Km(i)&&Ll(i.arrayValue,this.value)}}class vx extends ke{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ll(this.value.arrayValue,i)}}class Ex extends ke{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ll(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ll(this.value.arrayValue,i)}}class Tx extends ke{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Ll(this.value.arrayValue,r)))}}class bx{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Y_(s,t=null,i=[],r=[],l=null,c=null,d=null){return new bx(s,t,i,r,l,c,d)}function Xm(s){const t=St(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>gm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>so(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>so(r))).join(",")),t.Te=i}return t.Te}function $m(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!dx(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!YE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!F_(s.startAt,t.startAt)&&F_(s.endAt,t.endAt)}function ym(s){return gt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class bh{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sx(s,t,i,r,l,c,d,p){return new bh(s,t,i,r,l,c,d,p)}function Sh(s){return new bh(s)}function Q_(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Ax(s){return s.collectionGroup!==null}function Cl(s){const t=St(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new uh(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new uh(Qe.keyField(),r))}return t.Ie}function Ni(s){const t=St(s);return t.Ee||(t.Ee=wx(t,Cl(s))),t.Ee}function wx(s,t){if(s.limitType==="F")return Y_(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new uh(l.field,c)}));const i=s.endAt?new lh(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new lh(s.startAt.position,s.startAt.inclusive):null;return Y_(s.path,s.collectionGroup,t,s.filters,s.limit,i,r)}}function _m(s,t,i){return new bh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function Ah(s,t){return $m(Ni(s),Ni(t))&&s.limitType===t.limitType}function XE(s){return`${Xm(Ni(s))}|lt:${s.limitType}`}function Ha(s){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>QE(l))).join(", ")}]`),Eh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${r})`})(Ni(s))}; limitType=${s.limitType})`}function wh(s,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):gt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,t)&&(function(r,l){for(const c of Cl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,y){const _=G_(d,p,y);return d.inclusive?_<=0:_<0})(r.startAt,Cl(r),l)||r.endAt&&!(function(d,p,y){const _=G_(d,p,y);return d.inclusive?_>=0:_>0})(r.endAt,Cl(r),l))})(s,t)}function xx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function $E(s){return(t,i)=>{let r=!1;for(const l of Cl(s)){const c=Rx(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Rx(s,t,i){const r=s.field.isKeyField()?gt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?io(y,_):_t(42886)})(s.field,t,i);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return _t(19790,{direction:s.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){lr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return kE(this.inner)}size(){return this.innerSize}}const Cx=new fe(gt.comparator);function us(){return Cx}const ZE=new fe(gt.comparator);function bl(...s){let t=ZE;for(const i of s)t=t.insert(i.key,i);return t}function JE(s){let t=ZE;return s.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function qr(){return Nl()}function WE(){return Nl()}function Nl(){return new $r((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Nx=new fe(gt.comparator),Ix=new Ve(gt.comparator);function Lt(...s){let t=Ix;for(const i of s)t=t.add(i);return t}const Dx=new Ve(Ut);function Ox(){return Dx}function Zm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function t1(s){return{integerValue:""+s}}function Mx(s,t){return rx(t)?t1(t):Zm(s,t)}class xh{constructor(){this._=void 0}}function kx(s,t,i){return s instanceof Pl?(function(l,c){const d={fields:{[UE]:{stringValue:jE},[PE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Qm(c)&&(c=Th(c)),c&&(d.fields[LE]=c),{mapValue:d}})(i,t):s instanceof zl?n1(s,t):s instanceof Bl?i1(s,t):(function(l,c){const d=e1(l,c),p=K_(d)+K_(l.Ae);return pm(d)&&pm(l.Ae)?t1(p):Zm(l.serializer,p)})(s,t)}function Vx(s,t,i){return s instanceof zl?n1(s,t):s instanceof Bl?i1(s,t):i}function e1(s,t){return s instanceof ch?(function(r){return pm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Pl extends xh{}class zl extends xh{constructor(t){super(),this.elements=t}}function n1(s,t){const i=s1(t);for(const r of s.elements)i.some((l=>Mi(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Bl extends xh{constructor(t){super(),this.elements=t}}function i1(s,t){let i=s1(t);for(const r of s.elements)i=i.filter((l=>!Mi(l,r)));return{arrayValue:{values:i}}}class ch extends xh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function K_(s){return ve(s.integerValue||s.doubleValue)}function s1(s){return Km(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class jx{constructor(t,i){this.field=t,this.transform=i}}function Ux(s,t){return s.field.isEqual(t.field)&&(function(r,l){return r instanceof zl&&l instanceof zl||r instanceof Bl&&l instanceof Bl?no(r.elements,l.elements,Mi):r instanceof ch&&l instanceof ch?Mi(r.Ae,l.Ae):r instanceof Pl&&l instanceof Pl})(s.transform,t.transform)}class Lx{constructor(t,i){this.version=t,this.transformResults=i}}class ni{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Fc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Rh{}function r1(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new o1(s.key,ni.none()):new Zl(s.key,s.data,ni.none());{const i=s.data,r=mn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ur(s.key,r,new An(l.toArray()),ni.none())}}function Px(s,t,i){s instanceof Zl?(function(l,c,d){const p=l.value.clone(),y=$_(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof ur?(function(l,c,d){if(!Fc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=$_(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(a1(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Il(s,t,i,r){return s instanceof Zl?(function(c,d,p,y){if(!Fc(c.precondition,d))return p;const _=c.value.clone(),A=Z_(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,r):s instanceof ur?(function(c,d,p,y){if(!Fc(c.precondition,d))return p;const _=Z_(c.fieldTransforms,y,d),A=d.data;return A.setAll(a1(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,t,i,r):(function(c,d,p){return Fc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function zx(s,t){let i=null;for(const r of s.fieldTransforms){const l=t.data.field(r.field),c=e1(r.transform,l||null);c!=null&&(i===null&&(i=mn.empty()),i.set(r.field,c))}return i||null}function X_(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&no(r,l,((c,d)=>Ux(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class Zl extends Rh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ur extends Rh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function a1(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=s.data.field(i);t.set(i,r)}})),t}function $_(s,t,i){const r=new Map;Zt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,Vx(d,p,i[l]))}return r}function Z_(s,t,i){const r=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);r.set(l.field,kx(c,d,t))}return r}class o1 extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bx extends Rh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qx{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Px(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Il(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=WE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=r1(d,p);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,r)=>X_(i,r)))&&no(this.baseMutations,t.baseMutations,((i,r)=>X_(i,r)))}}class Jm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Zt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Nx})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Jm(t,i,r,l)}}class Hx{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Gx{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,Bt;function Fx(s){switch(s){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:s})}}function l1(s){if(s===void 0)return ls("GRPC error has no .code"),J.UNKNOWN;switch(s){case Ie.OK:return J.OK;case Ie.CANCELLED:return J.CANCELLED;case Ie.UNKNOWN:return J.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return J.INTERNAL;case Ie.UNAVAILABLE:return J.UNAVAILABLE;case Ie.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ie.NOT_FOUND:return J.NOT_FOUND;case Ie.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ie.ABORTED:return J.ABORTED;case Ie.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ie.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:s})}}(Bt=Ie||(Ie={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function Yx(){return new TextEncoder}const Qx=new Ws([4294967295,4294967295],0);function J_(s){const t=Yx().encode(s),i=new SE;return i.update(t),new Uint8Array(i.digest())}function W_(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ws([i,r],0),new Ws([l,c],0)]}class Wm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(r<0)throw new Sl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ws.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Ws.fromNumber(r)));return l.compare(Qx)===1&&(l=new Ws([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=J_(t),[r,l]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Wm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=J_(t),[r,l]=W_(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Jl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new Ch(Et.min(),l,new fe(Ut),us(),Lt())}}class Jl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Jl(r,i,Lt(),Lt(),Lt())}}class Yc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class u1{constructor(t,i){this.targetId=t,this.Ce=i}}class c1{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class tv{constructor(){this.ve=0,this.Fe=ev(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),i=Lt(),r=Lt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:_t(38017,{changeType:c})}})),new Jl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=ev()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kx{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.Je=kc(),this.He=kc(),this.Ye=new fe(Ut)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(ym(c))if(r===0){const d=new gt(c.path);this.et(i,d,Je.newNoDocument(d,Et.min()))}else Zt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=sr(r).toUint8Array()}catch(y){if(y instanceof VE)return eo("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Wm(d,l,c)}catch(y){return eo(y instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&ym(p.target)){const y=new gt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Lt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ch(t,i,this.Ye,this.je,r);return this.je=us(),this.Je=kc(),this.He=kc(),this.Ye=new fe(Ut),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new tv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Ut),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Ut),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new tv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function kc(){return new fe(gt.comparator)}function ev(){return new fe(gt.comparator)}const Xx={asc:"ASCENDING",desc:"DESCENDING"},$x={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Zx={and:"AND",or:"OR"};class Jx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function vm(s,t){return s.useProto3Json||Eh(t)?t:{value:t}}function hh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function h1(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function Wx(s,t){return hh(s,t.toTimestamp())}function Ii(s){return Zt(!!s,49232),Et.fromTimestamp((function(i){const r=ir(i);return new ue(r.seconds,r.nanos)})(s))}function tp(s,t){return Em(s,t).canonicalString()}function Em(s,t){const i=(function(l){return new le(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function f1(s){const t=le.fromString(s);return Zt(y1(t),10190,{key:t.toString()}),t}function Tm(s,t){return tp(s.databaseId,t.path)}function Wd(s,t){const i=f1(t);if(i.get(1)!==s.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new gt(m1(i))}function d1(s,t){return tp(s.databaseId,t)}function tR(s){const t=f1(s);return t.length===4?le.emptyPath():m1(t)}function bm(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function m1(s){return Zt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function nv(s,t,i){return{name:Tm(s,t),fields:i.value.mapValue.fields}}function eR(s,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:_t(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Zt(A===void 0||typeof A=="string",58123),Ke.fromBase64String(A||"")):(Zt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Ke.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:l1(_.code);return new ht(A,_.message||"")})(d);i=new c1(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Wd(s,r.document.name),c=Ii(r.document.updateTime),d=r.document.createTime?Ii(r.document.createTime):Et.min(),p=new mn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,c,d,p),_=r.targetIds||[],A=r.removedTargetIds||[];i=new Yc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Wd(s,r.document),c=r.readTime?Ii(r.readTime):Et.min(),d=Je.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Yc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Wd(s,r.document),c=r.removedTargetIds||[];i=new Yc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new Gx(l,c),p=r.targetId;i=new u1(p,d)}}return i}function nR(s,t){let i;if(t instanceof Zl)i={update:nv(s,t.key,t.value)};else if(t instanceof o1)i={delete:Tm(s,t.key)};else if(t instanceof ur)i={update:nv(s,t.key,t.data),updateMask:hR(t.fieldMask)};else{if(!(t instanceof Bx))return _t(16599,{Vt:t.type});i={verify:Tm(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Pl)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof zl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ch)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Wx(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(s,t.precondition)),i}function iR(s,t){return s&&s.length>0?(Zt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?Ii(l.updateTime):Ii(c);return d.isEqual(Et.min())&&(d=Ii(c)),new Lx(d,l.transformResults||[])})(i,t)))):[]}function sR(s,t){return{documents:[d1(s,t.path)]}}function rR(s,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=d1(s,l);const c=(function(_){if(_.length!==0)return g1(ki.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(D){return{field:Ga(D.field),direction:lR(D.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=vm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function aR(s){let t=tR(s.parent);const i=s.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Zt(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(x){const D=p1(x);return D instanceof ki&&FE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((D=>(function(W){return new uh(Fa(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let D;return D=typeof x=="object"?x.value:x,Eh(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(x){const D=!!x.before,H=x.values||[];return new lh(H,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const D=!x.before,H=x.values||[];return new lh(H,D)})(i.endAt)),Sx(t,l,d,c,p,"F",y,_)}function oR(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function p1(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Fa(i.unaryFilter.field);return ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Fa(i.unaryFilter.field);return ke.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Fa(i.unaryFilter.field);return ke.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Fa(i.unaryFilter.field);return ke.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(s):s.fieldFilter!==void 0?(function(i){return ke.create(Fa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ki.create(i.compositeFilter.filters.map((r=>p1(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(s):_t(30097,{filter:s})}function lR(s){return Xx[s]}function uR(s){return $x[s]}function cR(s){return Zx[s]}function Ga(s){return{fieldPath:s.canonicalString()}}function Fa(s){return Qe.fromServerFormat(s.fieldPath)}function g1(s){return s instanceof ke?(function(i){if(i.op==="=="){if(H_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(q_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(H_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(q_(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:uR(i.op),value:i.value}}})(s):s instanceof ki?(function(i){const r=i.getFilters().map((l=>g1(l)));return r.length===1?r[0]:{compositeFilter:{op:cR(i.op),filters:r}}})(s):_t(54877,{filter:s})}function hR(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function y1(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Xs{constructor(t,i,r,l,c=Et.min(),d=Et.min(),p=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class fR{constructor(t){this.yt=t}}function dR(s){const t=aR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?_m(t,t.limit,"L"):t}class mR{constructor(){this.Cn=new pR}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(nr.min())}updateCollectionGroup(t,i,r){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class pR{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ve(le.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ve(le.comparator)).toArray()}}const iv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_1=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(_1,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}const sv="LruGarbageCollector",gR=1048576;function rv([s,t],[i,r]){const l=Ut(s,i);return l===0?Ut(t,r):l}class yR{constructor(t){this.Ir=t,this.buffer=new Ve(rv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();rv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class _R{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(sv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?at(sv,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class vR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(vh.ce);const r=new yR(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(iv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(t,l)))).next((x=>(r=x,p=Date.now(),this.removeTargets(t,r,i)))).next((x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((x=>(_=Date.now(),qa()<=jt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:x}))))}}function ER(s,t){return new vR(s,t)}class TR{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?Z.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class bR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class SR{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Il(r.mutation,l,An.empty(),ue.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Lt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Lt()){const l=qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=bl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=qr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Lt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=us();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((y,_)=>{const A=r.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof ur)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Il(A.mutation,_,A.mutation.getFieldMask(),ue.now())):d.set(_.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new bR(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Nl();let l=new fe(((d,p)=>d-p)),c=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=r.get(y)||An.empty();A=p.applyToLocalView(_,A),r.set(y,A);const x=(l.get(p.batchId)||Lt()).add(y);l=l.insert(p.batchId,x)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,x=WE();A.forEach((D=>{if(!c.has(D)){const H=r1(i.get(D),r.get(D));H!==null&&x.set(D,H),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,x))}return Z.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return gt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Ax(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):Z.resolve(qr());let p=Vl,y=c;return d.next((_=>Z.forEach(_,((A,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((D=>{y=y.insert(A,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Lt()))).next((A=>({batchId:p,changes:JE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new gt(i)).next((r=>{let l=bl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=bl();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(x,D){return new bh(D,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((A=>{A.forEach(((x,D)=>{d=d.insert(x,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Je.newInvalidDocument(A)))}));let p=bl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Il(A.mutation,_,An.empty(),ue.now()),wh(i,_)&&(p=p.insert(y,_))})),p}))}}class AR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ii(l.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:dR(l.bundledQuery),readTime:Ii(l.readTime)}})(i)),Z.resolve()}}class wR{constructor(){this.overlays=new fe(gt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const r=qr();return Z.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),Z.resolve()}getOverlaysForCollection(t,i,r){const l=qr(),c=i.length+1,d=new gt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return Z.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new fe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let A=c.get(_.largestBatchId);A===null&&(A=qr(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=qr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return Z.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Hx(i,r));let c=this.qr.get(i);c===void 0&&(c=Lt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class xR{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class ep{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new gt(new le([])),r=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new gt(new le([])),r=new Pe(i,t),l=new Pe(i,t+1);let c=Lt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return gt.comparator(t.key,i.key)||Ut(t.Yr,i.Yr)}static Kr(t,i){return Ut(t.Yr,i.Yr)||gt.comparator(t.key,i.key)}}class RR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new qx(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Ym:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ve(Ut);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),Z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;gt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new gt(c),0);let p=new Ve(Ut);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Z.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Zr.firstAfterOrEqual(r);return Z.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class CR{constructor(t){this.ri=t,this.docs=(function(){return new fe(gt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return Z.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=us();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),Z.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=us();const d=i.path,p=new gt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ex(tx(A),r)<=0||(l.has(A.key)||wh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,r,l){_t(9500)}ii(t,i){return Z.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new NR(this)}getSize(t){return Z.resolve(this.size)}}class NR extends TR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class IR{constructor(t){this.persistence=t,this.si=new $r((i=>Xm(i)),$m),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new ep,this.targetCount=0,this.ai=ro.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),Z.waitFor(c).next((()=>l))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return Z.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),Z.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return Z.resolve(r)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class v1{constructor(t,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new xR,this.referenceDelegate=t(this),this.Pi=new IR(this),this.indexManager=new mR,this.remoteDocumentCache=(function(l){return new CR(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new fR(i),this.Ii=new AR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new wR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new RR(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){at("MemoryPersistence","Starting transaction:",t);const l=new DR(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class DR extends ix{constructor(t){super(),this.currentSequenceNumber=t}}class np{constructor(t){this.persistence=t,this.Ri=new ep,this.Vi=null}static mi(t){return new np(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),Z.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(r=>{const l=gt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class fh{constructor(t,i){this.persistence=t,this.pi=new $r((r=>ax(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=ER(this,i)}static mi(t,i){return new fh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?Z.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hc(t.data.value)),i}br(t,i,r){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Z.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ip{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Lt(),l=Lt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new ip(t,i.fromCache,r,l)}}class OR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class MR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ES()?8:sx(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new OR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(qa()<=jt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(qa()<=jt.DEBUG&&at("QueryEngine","Query:",Ha(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(qa()<=jt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(i))):Z.resolve())}ys(t,i){if(Q_(i))return Z.resolve(null);let r=Ni(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=_m(i,null,"F"),r=Ni(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Lt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,_m(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return Q_(i)||l.isEqual(Et.min())?Z.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?Z.resolve(null):(qa()<=jt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,Ww(l,Vl)).next((p=>p)))}))}Ds(t,i){let r=new Ve($E(t));return i.forEach(((l,c)=>{wh(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return qa()<=jt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,nr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const sp="LocalStore",kR=3e8;class VR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new fe(Ut),this.xs=new $r((c=>Xm(c)),$m),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new SR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function jR(s,t,i,r){return new VR(s,t,i,r)}async function E1(s,t){const i=St(s);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let y=Lt();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function UR(s,t){const i=St(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const x=_.batch,D=x.keys();let H=Z.resolve();return D.forEach((W=>{H=H.next((()=>A.getEntry(y,W))).next((et=>{const tt=_.docVersions.get(W);Zt(tt!==null,48541),et.version.compareTo(tt)<0&&(x.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(y,x)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let y=Lt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function T1(s){const t=St(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function LR(s,t){const i=St(s),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,x)=>{const D=l.get(x);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,x))));let H=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(x)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,r)),l=l.insert(x,H),(function(et,tt,ut){return et.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=kR?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(D,H,A)&&p.push(i.Pi.updateTargetData(c,H))}));let y=us(),_=Lt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(PR(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!r.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function PR(s,t,i){let r=Lt(),l=Lt();return i.forEach((c=>r=r.add(c))),t.getEntries(s,r).next((c=>{let d=us();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):at(sp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function zR(s,t){const i=St(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Ym),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function BR(s,t){const i=St(s);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,Z.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Xs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function Sm(s,t,i){const r=St(s),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;at(sp,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function av(s,t,i){const r=St(s);let l=Et.min(),c=Lt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const x=St(y),D=x.xs.get(A);return D!==void 0?Z.resolve(x.Ms.get(D)):x.Pi.getTargetData(_,A)})(r,d,Ni(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Lt()))).next((p=>(qR(r,xx(t),p),{documents:p,Qs:c})))))}function qR(s,t,i){let r=s.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Os.set(t,r)}class ov{constructor(){this.activeTargetIds=Ox()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class HR{constructor(){this.Mo=new ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new ov,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class GR{Oo(t){}shutdown(){}}const lv="ConnectivityMonitor";class uv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(lv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(lv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function Am(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const tm="RestConnection",FR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===ah?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=Am(),p=this.zo(t,i.toUriEncodedString());at(tm,`Sending RPC '${t}' ${d}:`,p,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=oo(_);return this.Jo(t,p,y,r,A).then((x=>(at(tm,`Received RPC '${t}' ${d}: `,x),x)),(x=>{throw eo(tm,`RPC '${t}' ${d} failed with error: `,x,"url: ",p,"request:",r),x}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=FR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class QR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class KR extends YR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=Am();return new Promise(((p,y)=>{const _=new AE;_.setWithCredentials(!0),_.listenOnce(wE.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const x=_.getResponseJson();at($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(x)),p(x);break;case qc.TIMEOUT:at($e,`RPC '${t}' ${d} timed out`),y(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const D=_.getStatus();if(at($e,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const et=(function(ut){const dt=ut.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(dt)>=0?dt:J.UNKNOWN})(W.status);y(new ht(et,W.message))}else y(new ht(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ht(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{at($e,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);at($e,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=CE(),p=RE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const A=c.join("");at($e,`Creating RPC '${t}' stream ${l}: ${A}`,y);const x=d.createWebChannel(A,y);this.I_(x);let D=!1,H=!1;const W=new QR({Yo:tt=>{H?at($e,`Not sending because RPC '${t}' stream ${l} is closed:`,tt):(D||(at($e,`Opening RPC '${t}' stream ${l} transport.`),x.open(),D=!0),at($e,`RPC '${t}' stream ${l} sending:`,tt),x.send(tt))},Zo:()=>x.close()}),et=(tt,ut,dt)=>{tt.listen(ut,(pt=>{try{dt(pt)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return et(x,Tl.EventType.OPEN,(()=>{H||(at($e,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),et(x,Tl.EventType.CLOSE,(()=>{H||(H=!0,at($e,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(x))})),et(x,Tl.EventType.ERROR,(tt=>{H||(H=!0,eo($e,`RPC '${t}' stream ${l} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new ht(J.UNAVAILABLE,"The operation could not be completed")))})),et(x,Tl.EventType.MESSAGE,(tt=>{if(!H){const ut=tt.data[0];Zt(!!ut,16349);const dt=ut,pt=dt?.error||dt[0]?.error;if(pt){at($e,`RPC '${t}' stream ${l} received error:`,pt);const Pt=pt.status;let Kt=(function(R){const N=Ie[R];if(N!==void 0)return l1(N)})(Pt),xt=pt.message;Kt===void 0&&(Kt=J.INTERNAL,xt="Unknown error status: "+Pt+" with message "+pt.message),H=!0,W.a_(new ht(Kt,xt)),x.close()}else at($e,`RPC '${t}' stream ${l} received:`,ut),W.u_(ut)}})),et(p,xE.STAT_EVENT,(tt=>{tt.stat===fm.PROXY?at($e,`RPC '${t}' stream ${l} detected buffering proxy`):tt.stat===fm.NOPROXY&&at($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function em(){return typeof document<"u"?document:null}function Nh(s){return new Jx(s,!0)}class b1{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const cv="PersistentStream";class S1{constructor(t,i,r,l,c,d,p,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new b1(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ls(i.toString()),ls("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ht(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class XR extends S1{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=eR(this.serializer,t),r=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ii(d.readTime):Et.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=bm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=ym(y)?{documents:sR(c,y)}:{query:rR(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=h1(c,d.resumeToken);const _=vm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=hh(c,d.snapshotVersion.toTimestamp());const _=vm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const r=oR(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=bm(this.serializer),i.removeTarget=t,this.q_(i)}}class $R extends S1{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=iR(t.writeResults,t.commitTime),r=Ii(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=bm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>nR(this.serializer,r)))};this.q_(i)}}class ZR{}class JR extends ZR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Em(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(J.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Em(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class WR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ls(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class tC{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Zr(this)&&(at(Kr,"Restarting streams for network reachability change."),await(async function(y){const _=St(y);_.Ea.add(4),await Wl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ih(_)})(this))}))})),this.Ra=new WR(r,l)}}async function Ih(s){if(Zr(s))for(const t of s.da)await t(!0)}async function Wl(s){for(const t of s.da)await t(!1)}function A1(s,t){const i=St(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),lp(i)?op(i):mo(i).O_()&&ap(i,t))}function rp(s,t){const i=St(s),r=mo(i);i.Ia.delete(t),r.O_()&&w1(i,t),i.Ia.size===0&&(r.O_()?r.L_():Zr(i)&&i.Ra.set("Unknown"))}function ap(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(s).Y_(t)}function w1(s,t){s.Va.Ue(t),mo(s).Z_(t)}function op(s){s.Va=new Kx({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),mo(s).start(),s.Ra.ua()}function lp(s){return Zr(s)&&!mo(s).x_()&&s.Ia.size>0}function Zr(s){return St(s).Ea.size===0}function x1(s){s.Va=void 0}async function eC(s){s.Ra.set("Online")}async function nC(s){s.Ia.forEach(((t,i)=>{ap(s,t)}))}async function iC(s,t){x1(s),lp(s)?(s.Ra.ha(t),op(s)):s.Ra.set("Unknown")}async function sC(s,t,i){if(s.Ra.set("Online"),t instanceof c1&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(r){at(Kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await dh(s,r)}else if(t instanceof Yc?s.Va.Ze(t):t instanceof u1?s.Va.st(t):s.Va.tt(t),!i.isEqual(Et.min()))try{const r=await T1(s.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Ke.EMPTY_BYTE_STRING,A.snapshotVersion)),w1(c,y);const x=new Xs(A.target,y,_,A.sequenceNumber);ap(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(r){at(Kr,"Failed to raise snapshot:",r),await dh(s,r)}}async function dh(s,t,i){if(!fo(t))throw t;s.Ea.add(1),await Wl(s),s.Ra.set("Offline"),i||(i=()=>T1(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Kr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await Ih(s)}))}function R1(s,t){return t().catch((i=>dh(s,i,t)))}async function Dh(s){const t=St(s),i=ar(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ym;for(;rC(t);)try{const l=await zR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,aC(t,l)}catch(l){await dh(t,l)}C1(t)&&N1(t)}function rC(s){return Zr(s)&&s.Ta.length<10}function aC(s,t){s.Ta.push(t);const i=ar(s);i.O_()&&i.X_&&i.ea(t.mutations)}function C1(s){return Zr(s)&&!ar(s).x_()&&s.Ta.length>0}function N1(s){ar(s).start()}async function oC(s){ar(s).ra()}async function lC(s){const t=ar(s);for(const i of s.Ta)t.ea(i.mutations)}async function uC(s,t,i){const r=s.Ta.shift(),l=Jm.from(r,t,i);await R1(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Dh(s)}async function cC(s,t){t&&ar(s).X_&&await(async function(r,l){if((function(d){return Fx(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();ar(r).B_(),await R1(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Dh(r)}})(s,t),C1(s)&&N1(s)}async function hv(s,t){const i=St(s);i.asyncQueue.verifyOperationInProgress(),at(Kr,"RemoteStore received new credentials");const r=Zr(i);i.Ea.add(3),await Wl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ih(i)}async function hC(s,t){const i=St(s);t?(i.Ea.delete(2),await Ih(i)):t||(i.Ea.add(2),await Wl(i),i.Ra.set("Unknown"))}function mo(s){return s.ma||(s.ma=(function(i,r,l){const c=St(i);return c.sa(),new XR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:eC.bind(null,s),t_:nC.bind(null,s),r_:iC.bind(null,s),H_:sC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),lp(s)?op(s):s.Ra.set("Unknown")):(await s.ma.stop(),x1(s))}))),s.ma}function ar(s){return s.fa||(s.fa=(function(i,r,l){const c=St(i);return c.sa(),new $R(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:oC.bind(null,s),r_:cC.bind(null,s),ta:lC.bind(null,s),na:uC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Dh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Kr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class up{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new up(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(s,t){if(ls("AsyncQueue",`${t}: ${s}`),fo(s))return new ht(J.UNAVAILABLE,`${t}: ${s}`);throw s}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||gt.comparator(i.key,r.key):(i,r)=>gt.comparator(i.key,r.key),this.keyedMap=bl(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ja;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class fv{constructor(){this.ga=new fe(gt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class ao{constructor(t,i,r,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ao(t,i,Ja.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class fC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class dC{constructor(){this.queries=dv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=St(i),c=l.queries;l.queries=dv(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(r)}))})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function dv(){return new $r((s=>XE(s)),Ah)}async function I1(s,t){const i=St(s);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new fC,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=cp(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&hp(i)}async function D1(s,t){const i=St(s),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function mC(s,t){const i=St(s);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&hp(i)}function pC(s,t,i){const r=St(s),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function hp(s){s.Ca.forEach((t=>{t.next()}))}var wm,mv;(mv=wm||(wm={})).Ma="default",mv.Cache="cache";class O1{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new ao(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==wm.Cache}}class M1{constructor(t){this.key=t}}class k1{constructor(t){this.key=t}}class gC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Lt(),this.mutatedKeys=Lt(),this.eu=$E(t),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,x)=>{const D=l.get(A),H=wh(this.query,x)?x:null,W=!!D&&this.mutatedKeys.has(D.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let tt=!1;D&&H?D.data.isEqual(H.data)?W!==et&&(r.track({type:3,doc:H}),tt=!0):this.su(D,H)||(r.track({type:2,doc:H}),tt=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(p=!0)):!D&&H?(r.track({type:0,doc:H}),tt=!0):D&&!H&&(r.track({type:1,doc:D}),tt=!0,(y||_)&&(p=!0)),tt&&(H?(d=d.add(H),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,x)=>(function(H,W){const et=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:tt})}};return et(H)-et(W)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Lt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new k1(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new M1(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Lt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class yC{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class _C{constructor(t){this.key=t,this.hu=!1}}class vC{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((p=>XE(p)),Ah),this.Iu=new Map,this.Eu=new Set,this.du=new fe(gt.comparator),this.Au=new Map,this.Ru=new ep,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function EC(s,t,i=!0){const r=z1(s);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await V1(r,t,i,!0),l}async function TC(s,t){const i=z1(s);await V1(i,t,!0,!1)}async function V1(s,t,i,r){const l=await BR(s.localStore,Ni(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await bC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&A1(s.remoteStore,l),p}async function bC(s,t,i,r,l){s.pu=(x,D,H)=>(async function(et,tt,ut,dt){let pt=tt.view.ru(ut);pt.Cs&&(pt=await av(et.localStore,tt.query,!1).then((({documents:C})=>tt.view.ru(C,pt))));const Pt=dt&&dt.targetChanges.get(tt.targetId),Kt=dt&&dt.targetMismatches.get(tt.targetId)!=null,xt=tt.view.applyChanges(pt,et.isPrimaryClient,Pt,Kt);return gv(et,tt.targetId,xt.au),xt.snapshot})(s,x,D,H);const c=await av(s.localStore,t,!0),d=new gC(t,c.Qs),p=d.ru(c.documents),y=Jl.createSynthesizedTargetChangeForCurrentChange(i,r&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);gv(s,i,_.au);const A=new yC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function SC(s,t,i){const r=St(s),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!Ah(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await Sm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&rp(r.remoteStore,l.targetId),xm(r,l.targetId)})).catch(ho)):(xm(r,l.targetId),await Sm(r.localStore,l.targetId,!0))}async function AC(s,t){const i=St(s),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),rp(i.remoteStore,r.targetId))}async function wC(s,t,i){const r=OC(s);try{const l=await(function(d,p){const y=St(d),_=ue.now(),A=p.reduce(((H,W)=>H.add(W.key)),Lt());let x,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=us(),et=Lt();return y.Ns.getEntries(H,A).next((tt=>{W=tt,W.forEach(((ut,dt)=>{dt.isValidDocument()||(et=et.add(ut))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,W))).next((tt=>{x=tt;const ut=[];for(const dt of p){const pt=zx(dt,x.get(dt.key).overlayedDocument);pt!=null&&ut.push(new ur(dt.key,pt,qE(pt.value.mapValue),ni.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,ut,p)})).next((tt=>{D=tt;const ut=tt.applyToLocalDocumentSet(x,et);return y.documentOverlayCache.saveOverlays(H,tt.batchId,ut)}))})).then((()=>({batchId:D.batchId,changes:JE(x)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new fe(Ut)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await tu(r,l.changes),await Dh(r.remoteStore)}catch(l){const c=cp(l,"Failed to persist write");i.reject(c)}}async function j1(s,t){const i=St(s);try{const r=await LR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Zt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Zt(d.hu,14607):l.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await tu(i,r,t)}catch(r){await ho(r)}}function pv(s,t,i){const r=St(s);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=St(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,x)=>{for(const D of x.Sa)D.va(p)&&(_=!0)})),_&&hp(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function xC(s,t,i){const r=St(s);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new fe(gt.comparator);d=d.insert(c,Je.newNoDocument(c,Et.min()));const p=Lt().add(c),y=new Ch(Et.min(),new Map,new fe(Ut),d,p);await j1(r,y),r.du=r.du.remove(c),r.Au.delete(t),dp(r)}else await Sm(r.localStore,t,!1).then((()=>xm(r,t,i))).catch(ho)}async function RC(s,t){const i=St(s),r=t.batch.batchId;try{const l=await UR(i.localStore,t);L1(i,r,null),U1(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await tu(i,l)}catch(l){await ho(l)}}async function CC(s,t,i){const r=St(s);try{const l=await(function(d,p){const y=St(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((x=>(Zt(x!==null,37113),A=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(r.localStore,t);L1(r,t,i),U1(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await tu(r,l)}catch(l){await ho(l)}}function U1(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function L1(s,t,i){const r=St(s);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function xm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),i&&s.Pu.yu(r,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||P1(s,r)}))}function P1(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(rp(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),dp(s))}function gv(s,t,i){for(const r of i)r instanceof M1?(s.Ru.addReference(r.key,t),NC(s,r)):r instanceof k1?(at(fp,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||P1(s,r.key)):_t(19791,{wu:r})}function NC(s,t){const i=t.key,r=i.path.canonicalString();s.du.get(i)||s.Eu.has(r)||(at(fp,"New document in limbo: "+i),s.Eu.add(r),dp(s))}function dp(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new gt(le.fromString(t)),r=s.fu.next();s.Au.set(r,new _C(i)),s.du=s.du.insert(i,r),A1(s.remoteStore,new Xs(Ni(Sh(i.path)),r,"TargetPurposeLimboResolution",vh.ce))}}async function tu(s,t,i){const r=St(s),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=ip.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const A=St(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Z.forEach(_,(D=>Z.forEach(D.Es,(H=>A.persistence.referenceDelegate.addReference(x,D.targetId,H))).next((()=>Z.forEach(D.ds,(H=>A.persistence.referenceDelegate.removeReference(x,D.targetId,H)))))))))}catch(x){if(!fo(x))throw x;at(sp,"Failed to update sequence numbers: "+x)}for(const x of _){const D=x.targetId;if(!x.fromCache){const H=A.Ms.get(D),W=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(D,et)}}})(r.localStore,c))}async function IC(s,t){const i=St(s);if(!i.currentUser.isEqual(t)){at(fp,"User change. New user:",t.toKey());const r=await E1(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ht(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await tu(i,r.Ls)}}function DC(s,t){const i=St(s),r=i.Au.get(t);if(r&&r.hu)return Lt().add(r.key);{let l=Lt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function z1(s){const t=St(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=j1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xC.bind(null,t),t.Pu.H_=mC.bind(null,t.eventManager),t.Pu.yu=pC.bind(null,t.eventManager),t}function OC(s){const t=St(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=RC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=CC.bind(null,t),t}class mh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Nh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return jR(this.persistence,new MR,t.initialUser,this.serializer)}Cu(t){return new v1(np.mi,this.serializer)}Du(t){return new HR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mh.provider={build:()=>new mh};class MC extends mh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof fh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new _R(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new v1((r=>fh.mi(r,i)),this.serializer)}}class Rm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>pv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=IC.bind(null,this.syncEngine),await hC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new dC})()}createDatastore(t){const i=Nh(t.databaseInfo.databaseId),r=(function(c){return new KR(c)})(t.databaseInfo);return(function(c,d,p,y){return new JR(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new tC(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>pv(this.syncEngine,i,0)),(function(){return uv.v()?new uv:new GR})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const x=new vC(l,c,d,p,y,_);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=St(i);at(Kr,"RemoteStore shutting down."),r.Ea.add(5),await Wl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class B1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ls("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const or="FirestoreClient";class kC{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Gm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{at(or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(at(or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=cp(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function nm(s,t){s.asyncQueue.verifyOperationInProgress(),at(or,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let r=i.initialUser;s.setCredentialChangeListener((async l=>{r.isEqual(l)||(await E1(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function yv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await VC(s);at(or,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((r=>hv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,l)=>hv(t.remoteStore,l))),s._onlineComponents=t}async function VC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(or,"Using user provided OfflineComponentProvider");try{await nm(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await nm(s,new mh)}}else at(or,"Using default OfflineComponentProvider"),await nm(s,new MC(void 0));return s._offlineComponents}async function q1(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(or,"Using user provided OnlineComponentProvider"),await yv(s,s._uninitializedComponentsProvider._online)):(at(or,"Using default OnlineComponentProvider"),await yv(s,new Rm))),s._onlineComponents}function jC(s){return q1(s).then((t=>t.syncEngine))}async function Cm(s){const t=await q1(s),i=t.eventManager;return i.onListen=EC.bind(null,t.syncEngine),i.onUnlisten=SC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=TC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=AC.bind(null,t.syncEngine),i}function UC(s,t,i={}){const r=new tr;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new B1({next:D=>{A.Nu(),d.enqueueAndForget((()=>D1(c,x)));const H=D.docs.has(p);!H&&D.fromCache?_.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&D.fromCache&&y&&y.source==="server"?_.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),x=new O1(Sh(p.path),A,{includeMetadataChanges:!0,qa:!0});return I1(c,x)})(await Cm(s),s.asyncQueue,t,i,r))),r.promise}function H1(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const _v=new Map;const G1="firestore.googleapis.com",vv=!0;class Ev{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=G1,this.ssl=vv}else this.host=t.host,this.ssl=t.ssl??vv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_1;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gR)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Jw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H1(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ev({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ev(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new qw;switch(r.type){case"firstParty":return new Yw(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=_v.get(i);r&&(at("ComponentProvider","Removing Datastore"),_v.delete(i),r.terminate())})(this),Promise.resolve()}}function LC(s,t,i,r={}){s=ei(s,Oh);const l=oo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(Lv(`https://${p}`),Pv("Firestore",!0)),c.host!==G1&&c.host!==p&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:r};if(!Gr(y,d)&&(s._setSettings(y),r.mockUserToken)){let _,A;if(typeof r.mockUserToken=="string")_=r.mockUserToken,A=Ze.MOCK_USER;else{_=hS(r.mockUserToken,s._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(x)}s._authCredentials=new Hw(new IE(_,A))}}class Mh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Mh(this.firestore,t,this._query)}}class Ee{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new er(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ee(this.firestore,t,this._key)}toJSON(){return{type:Ee._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if($l(i,Ee._jsonSchema))return new Ee(t,r||null,new gt(le.fromString(i.referencePath)))}}Ee._jsonSchemaVersion="firestore/documentReference/1.0",Ee._jsonSchema={type:De("string",Ee._jsonSchemaVersion),referencePath:De("string")};class er extends Mh{constructor(t,i,r){super(t,i,Sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ee(this.firestore,null,new gt(t))}withConverter(t){return new er(this.firestore,t,this._path)}}function Br(s,t,...i){if(s=en(s),DE("collection","path",t),s instanceof Oh){const r=le.fromString(t,...i);return k_(r),new er(s,null,r)}{if(!(s instanceof Ee||s instanceof er))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(t,...i));return k_(r),new er(s.firestore,null,r)}}function Qa(s,t,...i){if(s=en(s),arguments.length===1&&(t=Gm.newId()),DE("doc","path",t),s instanceof Oh){const r=le.fromString(t,...i);return M_(r),new Ee(s,null,new gt(r))}{if(!(s instanceof Ee||s instanceof er))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(le.fromString(t,...i));return M_(r),new Ee(s.firestore,s instanceof er?s.converter:null,new gt(r))}}const Tv="AsyncQueue";class bv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new b1(this,"async_queue_retry"),this._c=()=>{const r=em();r&&at(Tv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new tr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;at(Tv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ls("INTERNAL UNHANDLED ERROR: ",Sv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=up.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Sv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Av(s){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class Xr extends Oh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new bv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bv(t),this._firestoreClient=void 0,await t}}}function PC(s,t){const i=typeof s=="object"?s:Hv(),r=typeof s=="string"?s:ah,l=km(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=uS("firestore");c&&LC(l,...c)}return l}function mp(s){if(s._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||zC(s),s._firestoreClient}function zC(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new ux(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,H1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new kC(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Ke.fromBase64String(t))}catch(i){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if($l(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:De("string",zn._jsonSchemaVersion),bytes:De("string")};class kh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Vh{constructor(t){this._methodName=t}}class Di{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Di._jsonSchemaVersion}}static fromJSON(t){if($l(t,Di._jsonSchema))return new Di(t.latitude,t.longitude)}}Di._jsonSchemaVersion="firestore/geoPoint/1.0",Di._jsonSchema={type:De("string",Di._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Oi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Oi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if($l(t,Oi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Oi(t.vectorValues);throw new ht(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Oi._jsonSchemaVersion="firestore/vectorValue/1.0",Oi._jsonSchema={type:De("string",Oi._jsonSchemaVersion),vectorValues:De("object")};const BC=/^__.*__$/;class qC{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ur(t,this.data,this.fieldMask,i,this.fieldTransforms):new Zl(t,this.data,i,this.fieldTransforms)}}class F1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new ur(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function Y1(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:s})}}class pp{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new pp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ph(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(Y1(this.Ac)&&BC.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HC{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||Nh(t)}Cc(t,i,r,l=!1){return new pp({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gp(s){const t=s._freezeSettings(),i=Nh(s._databaseId);return new HC(s._databaseId,!!t.ignoreUndefinedProperties,i)}function Q1(s,t,i,r,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);_p("Data must be an object, but it was:",d,r);const p=K1(r,d);let y,_;if(c.merge)y=new An(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const x of c.mergeFields){const D=Nm(t,x,i);if(!d.contains(D))throw new ht(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);$1(A,D)||A.push(D)}y=new An(A),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new qC(new mn(p),y,_)}class jh extends Vh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}class yp extends Vh{_toFieldTransform(t){return new jx(t.path,new Pl)}isEqual(t){return t instanceof yp}}function GC(s,t,i,r){const l=s.Cc(1,t,i);_p("Data must be an object, but it was:",l,r);const c=[],d=mn.empty();lr(r,((y,_)=>{const A=vp(t,y,i);_=en(_);const x=l.yc(A);if(_ instanceof jh)c.push(A);else{const D=Uh(_,x);D!=null&&(c.push(A),d.set(A,D))}}));const p=new An(c);return new F1(d,p,l.fieldTransforms)}function FC(s,t,i,r,l,c){const d=s.Cc(1,t,i),p=[Nm(t,r,i)],y=[l];if(c.length%2!=0)throw new ht(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(Nm(t,c[D])),y.push(c[D+1]);const _=[],A=mn.empty();for(let D=p.length-1;D>=0;--D)if(!$1(_,p[D])){const H=p[D];let W=y[D];W=en(W);const et=d.yc(H);if(W instanceof jh)_.push(H);else{const tt=Uh(W,et);tt!=null&&(_.push(H),A.set(H,tt))}}const x=new An(_);return new F1(A,x,d.fieldTransforms)}function Uh(s,t){if(X1(s=en(s)))return _p("Unsupported field value:",t,s),K1(s,t);if(s instanceof Vh)return(function(r,l){if(!Y1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let y=Uh(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(r,l){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Mx(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ue.fromDate(r);return{timestampValue:hh(l.serializer,c)}}if(r instanceof ue){const c=new ue(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hh(l.serializer,c)}}if(r instanceof Di)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zn)return{bytesValue:h1(l.serializer,r._byteString)};if(r instanceof Ee){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tp(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof Oi)return(function(d,p){return{mapValue:{fields:{[zE]:{stringValue:BE},[oh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Zm(p.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Fm(r)}`)})(s,t)}function K1(s,t){const i={};return kE(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lr(s,((r,l)=>{const c=Uh(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function X1(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ue||s instanceof Di||s instanceof zn||s instanceof Ee||s instanceof Vh||s instanceof Oi)}function _p(s,t,i){if(!X1(i)||!OE(i)){const r=Fm(i);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function Nm(s,t,i){if((t=en(t))instanceof kh)return t._internalPath;if(typeof t=="string")return vp(s,t);throw ph("Field path arguments must be of type string or ",s,!1,void 0,i)}const YC=new RegExp("[~\\*/\\[\\]]");function vp(s,t,i){if(t.search(YC)>=0)throw ph(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new kh(...t.split("."))._internalPath}catch{throw ph(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function ph(s,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ht(J.INVALID_ARGUMENT,p+s+y)}function $1(s,t){return s.some((i=>i.isEqual(t)))}class Z1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ee(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new QC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(J1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class QC extends Z1{data(){return super.data()}}function J1(s,t){return typeof t=="string"?vp(s,t):t instanceof kh?t._internalPath:t._delegate._internalPath}function KC(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class XC{convertValue(t,i="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return lr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[oh].arrayValue?.values?.map((r=>ve(r.doubleValue)));return new Oi(i)}convertGeoPoint(t){return new Di(ve(t.latitude),ve(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=Th(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(jl(t));default:return null}}convertTimestamp(t){const i=ir(t);return new ue(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=le.fromString(t);Zt(y1(r),9688,{name:t});const l=new Ul(r.get(1),r.get(3)),c=new gt(r.popFirst(5));return l.isEqual(i)||ls(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function W1(s,t,i){let r;return r=s?s.toFirestore(t):t,r}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hr extends Z1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(J1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Hr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Hr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hr._jsonSchema={type:De("string",Hr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class Qc extends Hr{data(t={}){return super.data(t)}}class Wa{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Qc(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:$C(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Gm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function $C(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:s})}}function ZC(s){s=ei(s,Ee);const t=ei(s.firestore,Xr);return UC(mp(t),s._key).then((i=>nT(t,s,i)))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:De("string",Wa._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class tT extends XC{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ee(this.firestore,null,i)}}function eT(s,t,i){s=ei(s,Ee);const r=ei(s.firestore,Xr),l=W1(s.converter,t);return Ep(r,[Q1(gp(r),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,ni.none())])}function JC(s,t,i,...r){s=ei(s,Ee);const l=ei(s.firestore,Xr),c=gp(l);let d;return d=typeof(t=en(t))=="string"||t instanceof kh?FC(c,"updateDoc",s._key,t,i,r):GC(c,"updateDoc",s._key,t),Ep(l,[d.toMutation(s._key,ni.exists(!0))])}function Kc(s,t){const i=ei(s.firestore,Xr),r=Qa(s),l=W1(s.converter,t);return Ep(i,[Q1(gp(s.firestore),"addDoc",r._key,l,s.converter!==null,{}).toMutation(r._key,ni.exists(!1))]).then((()=>r))}function Xc(s,...t){s=en(s);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Av(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Av(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof Ee)d=ei(s.firestore,Xr),p=Sh(s._key.path),c={next:y=>{t[r]&&t[r](nT(d,s,y))},error:t[r+1],complete:t[r+2]};else{const y=ei(s,Mh);d=ei(y.firestore,Xr),p=y._query;const _=new tT(d);c={next:A=>{t[r]&&t[r](new Wa(d,_,y,A))},error:t[r+1],complete:t[r+2]},KC(s._query)}return(function(_,A,x,D){const H=new B1(D),W=new O1(A,H,x);return _.asyncQueue.enqueueAndForget((async()=>I1(await Cm(_),W))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>D1(await Cm(_),W)))}})(mp(d),p,l,c)}function Ep(s,t){return(function(r,l){const c=new tr;return r.asyncQueue.enqueueAndForget((async()=>wC(await jC(r),l,c))),c.promise})(mp(s),t)}function nT(s,t,i){const r=i.docs.get(t._key),l=new tT(s);return new Hr(s,l,t._key,r,new Al(i.hasPendingWrites,i.fromCache),t.converter)}function Dl(){return new yp("serverTimestamp")}(function(t,i=!0){(function(l){co=l})(lo),to(new Fr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new Xr(new Gw(r.getProvider("auth-internal")),new Qw(d,r.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Js(N_,I_,t),Js(N_,I_,"esm2020")})();var im={exports:{}},bt={};var wv;function WC(){if(wv)return bt;wv=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),D=Symbol.iterator;function H(T){return T===null||typeof T!="object"?null:(T=D&&T[D]||T["@@iterator"],typeof T=="function"?T:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,tt={};function ut(T,M,Q){this.props=T,this.context=M,this.refs=tt,this.updater=Q||W}ut.prototype.isReactComponent={},ut.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},ut.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function dt(){}dt.prototype=ut.prototype;function pt(T,M,Q){this.props=T,this.context=M,this.refs=tt,this.updater=Q||W}var Pt=pt.prototype=new dt;Pt.constructor=pt,et(Pt,ut.prototype),Pt.isPureReactComponent=!0;var Kt=Array.isArray;function xt(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(T,M,Q){var $=Q.ref;return{$$typeof:s,type:T,key:M,ref:$!==void 0?$:null,props:Q}}function V(T,M){return N(T.type,M,T.props)}function O(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function j(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(Q){return M[Q]})}var w=/\/+/g;function Rt(T,M){return typeof T=="object"&&T!==null&&T.key!=null?j(""+T.key):M.toString(36)}function Xt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(xt,xt):(T.status="pending",T.then(function(M){T.status==="pending"&&(T.status="fulfilled",T.value=M)},function(M){T.status==="pending"&&(T.status="rejected",T.reason=M)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function F(T,M,Q,$,st){var rt=typeof T;(rt==="undefined"||rt==="boolean")&&(T=null);var ft=!1;if(T===null)ft=!0;else switch(rt){case"bigint":case"string":case"number":ft=!0;break;case"object":switch(T.$$typeof){case s:case t:ft=!0;break;case A:return ft=T._init,F(ft(T._payload),M,Q,$,st)}}if(ft)return st=st(T),ft=$===""?"."+Rt(T,0):$,Kt(st)?(Q="",ft!=null&&(Q=ft.replace(w,"$&/")+"/"),F(st,M,Q,"",function(Vi){return Vi})):st!=null&&(O(st)&&(st=V(st,Q+(st.key==null||T&&T.key===st.key?"":(""+st.key).replace(w,"$&/")+"/")+ft)),M.push(st)),1;ft=0;var $t=$===""?".":$+":";if(Kt(T))for(var It=0;It<T.length;It++)$=T[It],rt=$t+Rt($,It),ft+=F($,M,Q,rt,st);else if(It=H(T),typeof It=="function")for(T=It.call(T),It=0;!($=T.next()).done;)$=$.value,rt=$t+Rt($,It++),ft+=F($,M,Q,rt,st);else if(rt==="object"){if(typeof T.then=="function")return F(Xt(T),M,Q,$,st);throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return ft}function nt(T,M,Q){if(T==null)return T;var $=[],st=0;return F(T,$,"","",function(rt){return M.call(Q,rt,st++)}),$}function ot(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(Q){(T._status===0||T._status===-1)&&(T._status=1,T._result=Q)},function(Q){(T._status===0||T._status===-1)&&(T._status=2,T._result=Q)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var Nt=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},Ft={map:nt,forEach:function(T,M,Q){nt(T,function(){M.apply(this,arguments)},Q)},count:function(T){var M=0;return nt(T,function(){M++}),M},toArray:function(T){return nt(T,function(M){return M})||[]},only:function(T){if(!O(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return bt.Activity=x,bt.Children=Ft,bt.Component=ut,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=pt,bt.StrictMode=r,bt.Suspense=y,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(T){return C.H.useMemoCache(T)}},bt.cache=function(T){return function(){return T.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(T,M,Q){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var $=et({},T.props),st=T.key;if(M!=null)for(rt in M.key!==void 0&&(st=""+M.key),M)!R.call(M,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&M.ref===void 0||($[rt]=M[rt]);var rt=arguments.length-2;if(rt===1)$.children=Q;else if(1<rt){for(var ft=Array(rt),$t=0;$t<rt;$t++)ft[$t]=arguments[$t+2];$.children=ft}return N(T.type,st,$)},bt.createContext=function(T){return T={$$typeof:d,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:c,_context:T},T},bt.createElement=function(T,M,Q){var $,st={},rt=null;if(M!=null)for($ in M.key!==void 0&&(rt=""+M.key),M)R.call(M,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(st[$]=M[$]);var ft=arguments.length-2;if(ft===1)st.children=Q;else if(1<ft){for(var $t=Array(ft),It=0;It<ft;It++)$t[It]=arguments[It+2];st.children=$t}if(T&&T.defaultProps)for($ in ft=T.defaultProps,ft)st[$]===void 0&&(st[$]=ft[$]);return N(T,rt,st)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(T){return{$$typeof:p,render:T}},bt.isValidElement=O,bt.lazy=function(T){return{$$typeof:A,_payload:{_status:-1,_result:T},_init:ot}},bt.memo=function(T,M){return{$$typeof:_,type:T,compare:M===void 0?null:M}},bt.startTransition=function(T){var M=C.T,Q={};C.T=Q;try{var $=T(),st=C.S;st!==null&&st(Q,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(xt,Nt)}catch(rt){Nt(rt)}finally{M!==null&&Q.types!==null&&(M.types=Q.types),C.T=M}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(T){return C.H.use(T)},bt.useActionState=function(T,M,Q){return C.H.useActionState(T,M,Q)},bt.useCallback=function(T,M){return C.H.useCallback(T,M)},bt.useContext=function(T){return C.H.useContext(T)},bt.useDebugValue=function(){},bt.useDeferredValue=function(T,M){return C.H.useDeferredValue(T,M)},bt.useEffect=function(T,M){return C.H.useEffect(T,M)},bt.useEffectEvent=function(T){return C.H.useEffectEvent(T)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(T,M,Q){return C.H.useImperativeHandle(T,M,Q)},bt.useInsertionEffect=function(T,M){return C.H.useInsertionEffect(T,M)},bt.useLayoutEffect=function(T,M){return C.H.useLayoutEffect(T,M)},bt.useMemo=function(T,M){return C.H.useMemo(T,M)},bt.useOptimistic=function(T,M){return C.H.useOptimistic(T,M)},bt.useReducer=function(T,M,Q){return C.H.useReducer(T,M,Q)},bt.useRef=function(T){return C.H.useRef(T)},bt.useState=function(T){return C.H.useState(T)},bt.useSyncExternalStore=function(T,M,Q){return C.H.useSyncExternalStore(T,M,Q)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.3",bt}var xv;function tN(){return xv||(xv=1,im.exports=WC()),im.exports}var Ol=tN();const eN=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nN=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),Rv=s=>{const t=nN(s);return t.charAt(0).toUpperCase()+t.slice(1)},iT=(...s)=>s.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),iN=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var sN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const rN=Ol.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},y)=>Ol.createElement("svg",{ref:y,...sN,width:t,height:t,stroke:s,strokeWidth:r?Number(i)*24/Number(t):i,className:iT("lucide",l),...!c&&!iN(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>Ol.createElement(_,A)),...Array.isArray(c)?c:[c]]));const qt=(s,t)=>{const i=Ol.forwardRef(({className:r,...l},c)=>Ol.createElement(rN,{ref:c,iconNode:t,className:iT(`lucide-${eN(Rv(s))}`,`lucide-${s}`,r),...l}));return i.displayName=Rv(s),i};const aN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],oN=qt("arrow-left",aN);const lN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uN=qt("arrow-right",lN);const cN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hN=qt("calendar",cN);const fN=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dN=qt("chart-column",fN);const mN=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sT=qt("chevron-right",mN);const pN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],gN=qt("circle-alert",pN);const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],_N=qt("circle-check",yN);const vN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],EN=qt("clock",vN);const TN=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],bN=qt("file-text",TN);const SN=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],rT=qt("graduation-cap",SN);const AN=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],wN=qt("hash",AN);const xN=[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]],RN=qt("laptop",xN);const CN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Lh=qt("loader-circle",CN);const NN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],aT=qt("log-out",NN);const IN=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],DN=qt("mail",IN);const ON=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],Ph=qt("megaphone",ON);const MN=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],kN=qt("monitor",MN);const VN=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jN=qt("pen-line",VN);const UN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],LN=qt("phone",UN);const PN=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],zN=qt("rotate-ccw",PN);const BN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],qN=qt("search",BN);const HN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],GN=qt("settings",HN);const FN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],oT=qt("shield-alert",FN);const YN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],QN=qt("shield-check",YN);const KN=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],XN=qt("smartphone",KN);const $N=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Tp=qt("sparkles",$N);const ZN=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],JN=qt("triangle-alert",ZN);const WN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],bp=qt("user-check",WN);const tI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],eI=qt("user-x",tI);const nI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lT=qt("user",nI);const iI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sI=qt("users",iI);const rI=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],uT=qt("wrench",rI);const aI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],oI=qt("x",aI);const lI=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Im=qt("zap",lI),uI={apiKey:"AIzaSyAnCQnIj6D2cEnrt-_dULHIDnVdej2LNrs",authDomain:"mergify-28a08.firebaseapp.com",projectId:"mergify-28a08",storageBucket:"mergify-28a08.firebasestorage.app",messagingSenderId:"740585918112",appId:"1:740585918112:web:c43c048b80dd62972a03c5",measurementId:"G-KYT6B3SXGQ"},cT=qv(uI),$c=zw(cT),Ln=PC(cT),wi=typeof __app_id<"u"?__app_id:"MERGIFY-CAMPUS-V3",jc=()=>E.jsx("style",{children:`
    @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800;900&display=swap');
    
    @keyframes gradientShift {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    
    .animate-gradient {
      background-size: 400% 400%;
      animation: gradientShift 15s ease infinite;
    }

    .no-scrollbar::-webkit-scrollbar { display: none; }
    
    input::placeholder, textarea::placeholder { 
      text-transform: uppercase;
      font-weight: 900;
      letter-spacing: 0.1em;
    }
  `});function ql({className:s=""}){return E.jsxs("svg",{viewBox:"0 0 100 100",width:"100",height:"100",className:`w-24 h-24 max-w-[96px] max-h-[96px] ${s}`,preserveAspectRatio:"xMidYMid meet",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("rect",{width:"100",height:"100",rx:"28",fill:"url(#gradLogo)"}),E.jsx("path",{d:"M25 70V30L50 50L75 30V70",stroke:"white",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M35 75L50 63L65 75",stroke:"rgba(255,255,255,0.4)",strokeWidth:"5",strokeLinecap:"round"}),E.jsx("defs",{children:E.jsxs("linearGradient",{id:"gradLogo",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[E.jsx("stop",{offset:"0%",stopColor:"#6366f1"}),E.jsx("stop",{offset:"100%",stopColor:"#8b5cf6"})]})})]})}function We({children:s,className:t=""}){return E.jsx("div",{className:`bg-white/85 backdrop-blur-xl border border-white/50 rounded-[2.5rem] shadow-[0_25px_50px_-12px_rgba(99,102,241,0.15)] h-full transition-all duration-300 p-6 md:p-8 ${t}`,children:s})}function Bn({children:s,onClick:t,variant:i="primary",className:r="",type:l="button",disabled:c=!1}){const d={primary:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white hover:opacity-90 shadow-xl shadow-indigo-200",secondary:"bg-indigo-50 text-indigo-700 hover:bg-indigo-100",danger:"bg-rose-500 text-white hover:bg-rose-600 shadow-xl shadow-rose-100",outline:"border-2 border-slate-100 text-slate-600 hover:bg-slate-50",accent:"bg-white text-slate-900 shadow-lg border border-slate-100 hover:bg-slate-50"};return E.jsx("button",{type:l,disabled:c,onClick:t,className:`px-6 py-4 rounded-2xl font-black uppercase tracking-widest transition-all active:scale-95 flex items-center justify-center gap-2 ${d[i]} ${r} ${c?"opacity-50 cursor-not-allowed":""}`,children:s})}function cI({isOpen:s,onClose:t,title:i,children:r}){return s?E.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[E.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:t}),E.jsx("div",{className:"relative w-full max-w-lg animate-in fade-in zoom-in-95 slide-in-from-bottom-4 duration-300",children:E.jsxs(We,{className:"shadow-2xl",children:[E.jsxs("div",{className:"flex items-center justify-between mb-6",children:[E.jsx("h3",{className:"text-2xl font-black text-slate-900 leading-none uppercase tracking-tighter",children:String(i)}),E.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:E.jsx(oI,{size:24})})]}),r]})})]}):null}function hT(){return E.jsxs("div",{className:"absolute inset-0 -z-10 bg-gradient-to-br from-indigo-900 via-purple-900 to-indigo-950 animate-gradient overflow-hidden",children:[E.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[60%] h-[60%] bg-indigo-400/20 blur-[120px] rounded-full"}),E.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-purple-400/20 blur-[120px] rounded-full"})]})}function Sp({viewMode:s,toggleViewMode:t}){return E.jsxs("button",{onClick:t,className:"p-2.5 bg-white/60 backdrop-blur-md text-slate-600 rounded-xl hover:bg-white transition-all shadow-sm border border-white/50 flex items-center gap-2 uppercase",children:[s==="auto"?E.jsx(RN,{size:18}):s==="mobile"?E.jsx(XN,{size:18}):E.jsx(kN,{size:18}),E.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest hidden sm:inline",children:String(s)})]})}function Cv({icon:s,title:t,desc:i,onClick:r,color:l="indigo"}){return E.jsxs("button",{onClick:r,className:"w-full group bg-white/90 backdrop-blur-xl p-8 rounded-[2.5rem] border border-white shadow-xl hover:shadow-2xl hover:shadow-indigo-200 transition-all flex items-center gap-6 text-left",children:[E.jsx("div",{className:`w-16 h-16 rounded-3xl flex items-center justify-center transition-transform group-hover:scale-110 flex-shrink-0 ${l==="indigo"?"bg-indigo-50 text-indigo-600":"bg-purple-50 text-purple-600"}`,children:s}),E.jsxs("div",{children:[E.jsx("h3",{className:"font-black text-xl text-slate-900 tracking-tighter uppercase leading-none",children:String(t)}),E.jsx("p",{className:"text-[10px] text-slate-500 font-bold tracking-widest mt-2 uppercase opacity-60 leading-none",children:String(i)})]}),E.jsx(sT,{className:"ml-auto text-slate-300 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]})}function Uc({label:s,value:t,trend:i,colorClass:r="text-slate-900"}){return E.jsxs("div",{className:"bg-white/85 backdrop-blur-xl border border-white/50 rounded-[2.5rem] shadow-sm hover:bg-indigo-600 group transition-all duration-500 p-8",children:[E.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1 group-hover:text-indigo-200 transition-colors leading-none",children:String(s)}),E.jsxs("div",{className:"flex items-end justify-between leading-none",children:[E.jsx("h4",{className:`text-4xl font-black ${r} group-hover:text-white transition-colors tracking-tighter`,children:String(t)}),E.jsx("span",{className:"text-[9px] font-black text-emerald-500 group-hover:text-indigo-100 tracking-widest uppercase leading-none",children:String(i)})]})]})}function Ka({icon:s,label:t,color:i,onClick:r}){return E.jsxs("button",{onClick:r,className:"flex flex-col items-center justify-center p-6 rounded-[2rem] bg-white border border-slate-100 shadow-sm hover:shadow-xl hover:border-indigo-400 transition-all group",children:[E.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center mb-4 transition-transform group-hover:scale-110 ${i}`,children:s}),E.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-slate-500 text-center leading-tight",children:String(t)})]})}function hI({role:s,onLogin:t,onRegister:i,onBack:r,error:l,viewMode:c,toggleViewMode:d}){const[p,y]=Mt.useState(!1),[_,A]=Mt.useState(""),[x,D]=Mt.useState(""),[H,W]=Mt.useState(""),[et,tt]=Mt.useState(!1),ut=async dt=>{dt.preventDefault(),tt(!0),p?await i({regNo:_,fullName:x,email:H,role:s}):await t(_,s),tt(!1)};return E.jsxs("div",{className:"min-h-screen relative flex flex-col items-center justify-center p-6 overflow-hidden font-sans",children:[E.jsx(hT,{}),E.jsx("div",{className:"absolute top-8 right-8",children:E.jsx(Sp,{viewMode:c,toggleViewMode:d})}),E.jsxs("div",{className:"w-full max-w-md animate-in fade-in slide-in-from-bottom-8 duration-500",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx(ql,{className:"w-20 h-20 mx-auto mb-6 drop-shadow-2xl"}),E.jsx("h2",{className:"text-4xl font-black text-white tracking-tighter uppercase",children:p?"JOIN MERGIFY":"PORTAL ACCESS"}),E.jsxs("p",{className:"text-indigo-200 font-bold text-[11px] tracking-[0.2em] mt-3 uppercase",children:["PROCEEDING AS ",String(s).toUpperCase()]})]}),l&&E.jsxs("div",{className:"mb-6 p-4 bg-rose-50/90 backdrop-blur-md border border-rose-100 rounded-2xl flex items-center gap-3 text-rose-600 animate-in bounce-in duration-300",children:[E.jsx(gN,{size:20}),E.jsx("span",{className:"text-sm font-black uppercase",children:String(l)})]}),E.jsxs(We,{className:"p-8 md:p-10 border-none shadow-2xl",children:[E.jsxs("form",{onSubmit:ut,className:"space-y-5",children:[p&&E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 tracking-widest ml-1 uppercase",children:"Full Name"}),E.jsxs("div",{className:"relative group",children:[E.jsx(lT,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:18}),E.jsx("input",{required:!0,type:"text",value:x,onChange:dt=>D(dt.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-transparent focus:bg-white focus:border-indigo-500 rounded-2xl transition-all font-black text-slate-700 uppercase outline-none",placeholder:"FULL NAME"})]})]}),E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 tracking-widest ml-1 uppercase",children:"Register Number"}),E.jsxs("div",{className:"relative group",children:[E.jsx(wN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:18}),E.jsx("input",{required:!0,type:"text",value:_,onChange:dt=>A(dt.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-transparent focus:bg-white focus:border-indigo-500 rounded-2xl transition-all font-black text-slate-700 font-mono uppercase outline-none",placeholder:"E.G. 20240001"})]})]}),E.jsxs("div",{className:"space-y-2 text-left",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 tracking-widest ml-1 uppercase",children:"Campus Email"}),E.jsxs("div",{className:"relative group",children:[E.jsx(DN,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-indigo-600 transition-colors",size:18}),E.jsx("input",{required:!0,type:"email",value:H,onChange:dt=>W(dt.target.value),className:"w-full pl-12 pr-4 py-4 bg-slate-50 border border-transparent focus:bg-white focus:border-indigo-500 rounded-2xl transition-all font-black text-slate-700 uppercase outline-none",placeholder:"ID@CAMPUS.EDU"})]})]}),E.jsx(Bn,{type:"submit",variant:"primary",className:"w-full text-lg mt-4 py-5",disabled:et,children:et?E.jsx(Lh,{className:"animate-spin"}):p?"REGISTER NOW":"SIGN IN"})]}),E.jsx("div",{className:"mt-8 pt-8 border-t border-slate-100 text-center",children:E.jsx("button",{onClick:()=>y(!p),className:"text-sm font-black text-indigo-600 hover:text-purple-600 transition-colors uppercase tracking-widest",children:p?"ALREADY REGISTERED? LOG IN":"NEW USER? REGISTER NOW"})})]}),E.jsx("button",{onClick:r,className:"w-full mt-10 text-white/50 font-black text-[10px] hover:text-white transition-colors tracking-[0.4em] uppercase",children:" BACK TO SELECTION"})]})]})}function fT({user:s}){return E.jsxs("div",{className:"max-w-xl mx-auto space-y-10 animate-in fade-in slide-in-from-bottom-8 duration-500 text-center pb-20",children:[E.jsxs("div",{className:"relative inline-block",children:[E.jsx("div",{className:"w-32 h-32 rounded-[3rem] bg-indigo-900 mx-auto flex items-center justify-center text-white text-4xl font-black shadow-2xl shadow-indigo-200",children:s?.name?s.name.split(" ").map(t=>t[0]).join("").substring(0,2):"U"}),E.jsx("div",{className:"absolute -bottom-2 -right-2 p-3 bg-emerald-500 text-white rounded-2xl border-4 border-white shadow-lg",children:E.jsx(QN,{size:20})})]}),E.jsxs("div",{children:[E.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase",children:String(s?.name)}),E.jsxs("p",{className:"text-indigo-600 font-black text-[11px] uppercase tracking-[0.3em] mt-3",children:["ID NUMBER: ",String(s?.regNo)]})]}),E.jsxs(We,{className:"text-left divide-y divide-slate-100 p-0 overflow-hidden shadow-2xl",children:[E.jsxs("button",{className:"w-full px-10 py-6 flex items-center justify-between hover:bg-slate-50 transition-colors group",children:[E.jsxs("div",{className:"flex items-center gap-5",children:[E.jsx("div",{className:"p-3 bg-indigo-50 text-indigo-600 rounded-2xl",children:E.jsx(lT,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"font-black text-slate-800 text-xs uppercase tracking-widest",children:"Profile Details"}),E.jsx("p",{className:"text-[10px] text-slate-400 font-bold mt-1 uppercase opacity-60",children:"Manage account identity"})]})]}),E.jsx(sT,{size:18,className:"text-slate-300 group-hover:text-indigo-600 group-hover:translate-x-1 transition-all"})]}),E.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full px-10 py-8 flex items-center justify-center gap-4 hover:bg-rose-50 transition-colors text-rose-600 font-black tracking-[0.2em] text-xs",children:[E.jsx(aT,{size:20})," SIGN OUT OF SESSION"]})]})]})}function fI({appId:s}){const[t,i]=Mt.useState([]),[r,l]=Mt.useState(!0),[c,d]=Mt.useState(null);Mt.useEffect(()=>{const y=Xc(Br(Ln,"artifacts",s,"public","data","user_directory"),_=>{const A=_.docs.map(x=>({id:x.id,...x.data()})).filter(x=>x.role==="student");i(A.sort((x,D)=>x.regNo.localeCompare(D.regNo))),l(!1)});return()=>y()},[s]);const p=async(y,_)=>{d(y.id);try{const A=Br(Ln,"artifacts",s,"public","data","attendance_logs");await Kc(A,{regNo:y.regNo,name:y.name,status:_,timestamp:Dl()}),setTimeout(()=>d(null),500)}catch(A){console.error(A),d(null)}};return E.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-right-8 duration-500",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.3em] mb-2",children:"MANAGEMENT"}),E.jsx("h3",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase",children:"ATTENDANCE HUB."})]}),E.jsxs(We,{className:"p-0 overflow-hidden shadow-2xl",children:[E.jsxs("div",{className:"p-10 border-b border-slate-100 bg-slate-50/30 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx(sI,{className:"text-indigo-600",size:24}),E.jsx("h4",{className:"font-black text-slate-800 text-xs uppercase tracking-widest",children:"ENROLLED STUDENTS"})]}),E.jsxs("span",{className:"text-[10px] font-black bg-indigo-100 text-indigo-700 px-4 py-1.5 rounded-full uppercase",children:[t.length," TOTAL"]})]}),E.jsx("div",{className:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto no-scrollbar",children:r?E.jsxs("div",{className:"p-20 text-center text-slate-400 font-black uppercase tracking-widest flex flex-col items-center",children:[E.jsx(Lh,{className:"mb-4 animate-spin",size:40}),"Registry Sync..."]}):t.length===0?E.jsx("div",{className:"p-20 text-center text-slate-400 font-black uppercase tracking-widest",children:"No students registered"}):t.map(y=>E.jsxs("div",{className:"p-8 flex flex-col md:flex-row md:items-center justify-between hover:bg-slate-50 transition-colors gap-6",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-900 text-white flex items-center justify-center font-black text-xl",children:y.name?y.name[0]:"?"}),E.jsxs("div",{children:[E.jsx("p",{className:"font-black text-slate-900 text-lg uppercase tracking-tight",children:String(y.name)}),E.jsxs("p",{className:"text-[10px] text-slate-400 font-bold mt-2 uppercase tracking-widest",children:["REG: ",String(y.regNo)]})]})]}),E.jsx("div",{className:"flex items-center gap-3",children:c===y.id?E.jsx("div",{className:"px-6 py-3 font-black text-[10px] text-indigo-400 uppercase tracking-widest",children:"SYNCING..."}):E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>p(y,"PRESENT"),className:"px-6 py-3 rounded-2xl bg-emerald-50 text-emerald-600 border border-emerald-100 font-black text-[10px] uppercase tracking-widest hover:bg-emerald-600 hover:text-white transition-all",children:"PRESENT"}),E.jsx("button",{onClick:()=>p(y,"ABSENT"),className:"px-6 py-3 rounded-2xl bg-rose-50 text-rose-600 border border-rose-100 font-black text-[10px] uppercase tracking-widest hover:bg-rose-600 hover:text-white transition-all",children:"ABSENT"})]})})]},y.id))})]})]})}function dI({appId:s,initialTimetable:t}){const[i,r]=Mt.useState([]),[l,c]=Mt.useState(!1);Mt.useEffect(()=>{if(t?.length>0)r(t);else{const p=["MON","TUE","WED","THU","FRI","SAT"],y=["09:00","11:00","14:00","16:00"];r(p.map(_=>({day:_,slots:y.map(A=>({time:A,subject:"FREE"}))})))}},[t]);const d=async()=>{c(!0);try{await eT(Qa(Ln,"artifacts",s,"public","data","timetable","class_schedule"),{data:i,updatedAt:Dl()})}catch(p){console.error(p)}c(!1)};return E.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-right-8 duration-500",children:[E.jsxs("header",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-[11px] font-black text-purple-600 uppercase tracking-[0.3em] mb-2",children:"PLANNER"}),E.jsx("h3",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase",children:"TIMETABLE HUB."})]}),E.jsx(Bn,{onClick:d,disabled:l,variant:"primary",className:"px-8 py-4",children:l?E.jsx(Lh,{className:"animate-spin"}):"PUBLISH SCHEDULE"})]}),E.jsx("div",{className:"overflow-x-auto no-scrollbar shadow-2xl rounded-[2.5rem]",children:E.jsxs("table",{className:"w-full border-collapse text-left bg-white",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-900 text-white",children:[E.jsx("th",{className:"p-6 text-[10px] font-black border-r border-white/5 uppercase tracking-widest",children:"TIME"}),i.map(p=>E.jsx("th",{className:"p-6 text-center text-[10px] font-black min-w-[150px] uppercase tracking-widest",children:String(p.day)},p.day))]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:i[0]?.slots.map((p,y)=>E.jsxs("tr",{children:[E.jsx("td",{className:"p-6 bg-slate-50 font-black text-indigo-600 text-xs border-r border-slate-100 uppercase tracking-widest",children:i[0].slots[y].time}),i.map((_,A)=>E.jsx("td",{className:"p-4",children:E.jsx("input",{value:_.slots[y].subject,onChange:x=>{const D=[...i];D[A].slots[y].subject=x.target.value.toUpperCase(),r(D)},className:"w-full p-3 bg-white border-2 border-slate-100 rounded-xl font-black text-[10px] focus:border-indigo-500 uppercase transition-all outline-none"})},A))]},y))})]})})]})}function Nv({user:s,reports:t}){const i=t.filter(r=>r.status!=="RESOLVED");return E.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-[11px] font-black text-purple-600 uppercase tracking-[0.3em] mb-2",children:"FACULTY HUB"}),E.jsxs("h3",{className:"text-5xl font-black text-slate-900 tracking-tighter uppercase leading-tight",children:["WELCOME BACK,",E.jsx("br",{}),s?.name?s.name.split(" ")[0]:"PROFESSOR"]})]}),E.jsxs("div",{className:"grid gap-6 grid-cols-2 lg:grid-cols-4",children:[E.jsx(Uc,{label:"AVG ATTENDANCE",value:"94.2%",trend:"OPTIMAL"}),E.jsx(Uc,{label:"PENDING REPORTS",value:String(i.length),trend:"ACTIVE",colorClass:i.length>0?"text-rose-600":"text-slate-900"}),E.jsx(Uc,{label:"SCHEDULED SESSIONS",value:"04",trend:"ON TRACK"}),E.jsx(Uc,{label:"CAMPUS STATUS",value:i.some(r=>r.type==="SOS")?"ALERT":"SECURE",trend:"VERIFIED",colorClass:i.some(r=>r.type==="SOS")?"text-rose-600 animate-pulse":"text-slate-900"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[E.jsxs(We,{className:"shadow-2xl",children:[E.jsx("h4",{className:"font-black text-slate-800 uppercase tracking-[0.2em] text-xs mb-8",children:"QUICK ACTIONS"}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx(Ka,{icon:E.jsx(Im,{className:"text-amber-500"}),label:"SOS ALERT",color:"bg-amber-50",onClick:()=>{}}),E.jsx(Ka,{icon:E.jsx(bp,{className:"text-indigo-500"}),label:"REGISTRY",color:"bg-indigo-50",onClick:()=>{}}),E.jsx(Ka,{icon:E.jsx(Ph,{className:"text-purple-500"}),label:"BROADCAST",color:"bg-purple-50",onClick:()=>{}}),E.jsx(Ka,{icon:E.jsx(bN,{className:"text-emerald-500"}),label:"REPORTS",color:"bg-emerald-50",onClick:()=>{}})]})]}),E.jsxs(We,{className:"shadow-2xl",children:[E.jsx("h4",{className:"font-black text-slate-800 uppercase tracking-[0.2em] text-xs mb-8",children:"REAL-TIME INBOX"}),E.jsx("div",{className:"space-y-4 max-h-[250px] overflow-y-auto no-scrollbar",children:i.length===0?E.jsx("p",{className:"text-center py-10 text-slate-400 text-[10px] font-black uppercase tracking-widest",children:"NO NEW ALERTS"}):i.map(r=>E.jsxs("div",{className:`p-5 rounded-3xl border flex items-start gap-4 transition-all ${r.type==="SOS"?"bg-rose-50 border-rose-100 shadow-sm":"bg-slate-50 border-slate-100"}`,children:[r.type==="SOS"?E.jsx(Im,{className:"text-rose-500 shrink-0 mt-1",size:20}):E.jsx(JN,{className:"text-amber-500 shrink-0 mt-1",size:20}),E.jsxs("div",{children:[E.jsxs("p",{className:`text-xs font-black uppercase tracking-widest ${r.type==="SOS"?"text-rose-700":"text-slate-700"}`,children:[String(r.type)," ALERT"]}),E.jsx("p",{className:"text-[10px] text-slate-600 mt-2 font-bold opacity-60 uppercase line-clamp-1",children:String(r.subject||r.description)})]})]},r.id))})]})]})]})}function mI({reports:s,onResolve:t}){const i=s.filter(r=>r.status!=="RESOLVED");return E.jsxs("div",{className:"space-y-10 animate-in slide-in-from-right-8 duration-500",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-[11px] font-black text-rose-600 uppercase tracking-[0.3em] mb-2",children:"MONITORING"}),E.jsx("h3",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase",children:"ISSUE QUEUE."})]}),E.jsxs(We,{className:"p-0 overflow-hidden shadow-2xl",children:[E.jsxs("div",{className:"p-10 border-b border-slate-100 bg-slate-50/30 flex items-center justify-between",children:[E.jsx("h4",{className:"font-black text-slate-800 text-xs uppercase tracking-widest",children:"ACTIVE TICKETS"}),E.jsx("span",{className:"text-[10px] font-black bg-rose-100 text-rose-600 px-4 py-1.5 rounded-full uppercase tracking-widest animate-pulse",children:"REAL-TIME"})]}),E.jsx("div",{className:"divide-y divide-slate-100 max-h-[600px] overflow-y-auto no-scrollbar",children:i.length===0?E.jsx("p",{className:"text-center py-20 text-slate-400 font-black uppercase tracking-widest text-xs",children:"NO ACTIVE TICKETS IN QUEUE"}):i.map(r=>E.jsxs("div",{className:"p-10 hover:bg-slate-50 transition-colors flex flex-col md:flex-row md:items-center justify-between gap-6",children:[E.jsxs("div",{className:"flex items-center gap-8",children:[E.jsx("div",{className:`w-16 h-16 rounded-3xl flex items-center justify-center font-black text-2xl uppercase ${r.type==="SOS"?"bg-rose-500 text-white animate-pulse":r.type==="MAINTENANCE"?"bg-amber-100 text-amber-600":"bg-blue-100 text-blue-600"}`,children:r.type[0]}),E.jsxs("div",{children:[E.jsxs("p",{className:"font-black text-slate-900 text-xl uppercase tracking-tight",children:[String(r.type)," REQUEST"]}),E.jsx("p",{className:"text-[11px] text-slate-400 font-bold uppercase mt-2 tracking-widest",children:String(r.subject||r.description)}),E.jsxs("p",{className:"text-[9px] text-indigo-600 font-black uppercase mt-1 tracking-widest",children:["LOC: ",String(r.location||"UNKNOWN")]})]})]}),E.jsx("button",{onClick:()=>t(r.id),className:"px-8 py-4 rounded-2xl bg-indigo-600 text-white font-black text-[11px] uppercase tracking-widest hover:bg-indigo-700 transition-all shadow-lg",children:"RESOLVE"})]},r.id))})]})]})}function pI({onPostAnnouncement:s}){const[t,i]=Mt.useState(""),[r,l]=Mt.useState(""),[c,d]=Mt.useState(!1),p=async()=>{!t||!r||(d(!0),await s(t,r),i(""),l(""),d(!1))};return E.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-bottom-8 duration-500",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-[11px] font-black text-rose-600 uppercase tracking-[0.3em] mb-2",children:"COMMS"}),E.jsx("h3",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase",children:"BROADCASTS."})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[E.jsxs(We,{className:"shadow-2xl",children:[E.jsx("h4",{className:"font-black text-slate-800 uppercase tracking-widest text-xs mb-10",children:"NEW BROADCAST"}),E.jsxs("div",{className:"space-y-8",children:[E.jsx("input",{className:"w-full bg-slate-50 border-none rounded-2xl p-5 font-black text-sm focus:ring-2 focus:ring-indigo-500 uppercase outline-none shadow-inner",placeholder:"SUBJECT",value:t,onChange:y=>i(y.target.value.toUpperCase())}),E.jsx("textarea",{rows:"5",className:"w-full bg-slate-50 border-none rounded-2xl p-5 font-bold text-sm focus:ring-2 focus:ring-indigo-500 uppercase outline-none shadow-inner resize-none",placeholder:"MESSAGE",value:r,onChange:y=>l(y.target.value.toUpperCase())}),E.jsx(Bn,{onClick:p,disabled:c,variant:"primary",className:"w-full py-6 rounded-[2rem]",children:c?E.jsx(Lh,{className:"animate-spin"}):"POST ANNOUNCEMENT"})]})]}),E.jsxs(We,{className:"bg-slate-900 text-white border-none p-12 flex flex-col justify-between shadow-2xl relative overflow-hidden",children:[E.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[80%] h-[80%] bg-rose-600/10 blur-[100px] rounded-full"}),E.jsxs("div",{className:"relative z-10",children:[E.jsx(Ph,{className:"text-rose-400 mb-10",size:56}),E.jsx("h4",{className:"text-4xl font-black tracking-tight mb-6 uppercase",children:"SOS OVERRIDE"}),E.jsx("p",{className:"text-slate-400 font-bold text-lg opacity-70 uppercase tracking-widest",children:"TRIGGER EMERGENCY CAMPUS ALERT."})]}),E.jsx(Bn,{variant:"danger",className:"w-full py-8 text-2xl rounded-[2.5rem] mt-12 relative z-10",children:"ACTIVATE"})]})]})]})}function gI(){const[s,t]=Mt.useState(1),[i,r]=Mt.useState("WEEK"),[l,c]=Mt.useState(3),[d,p]=Mt.useState([]),[y,_]=Mt.useState(null),A=()=>{p(Array.from({length:l},(D,H)=>({id:H,name:"",hours:1}))),t(2)},x=()=>{const D=i==="DAY"?["TODAY"]:["MON","TUE","WED","THU","FRI","SAT","SUN"],H=["09:00","11:00","14:00","16:00","18:00"],W=D.map(et=>({day:et,slots:H.map((tt,ut)=>({time:tt,activity:d[ut%d.length]?.name||"REVISION",isBreak:ut%3===2}))}));_(W),t(3)};return E.jsxs("div",{className:"max-w-6xl mx-auto space-y-10 animate-in fade-in slide-in-from-bottom-8 duration-500 pb-20",children:[E.jsxs("header",{className:"text-center",children:[E.jsx("div",{className:"inline-flex p-8 bg-indigo-100 text-indigo-600 rounded-[3rem] shadow-2xl shadow-indigo-100 mb-6",children:E.jsx(Tp,{size:48})}),E.jsx("h2",{className:"text-6xl font-black text-slate-900 tracking-tighter uppercase",children:"AI PLANNER."}),E.jsx("p",{className:"text-slate-500 font-bold text-lg mt-4 opacity-70 tracking-[0.2em] uppercase",children:"ACADEMIC ENGINE"})]}),s===1&&E.jsx(We,{className:"max-w-2xl mx-auto shadow-2xl",children:E.jsxs("div",{className:"space-y-10",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] mb-6 block",children:"PLANNING TIMEFRAME"}),E.jsx("div",{className:"grid grid-cols-3 gap-4",children:["DAY","WEEK","MONTH"].map(D=>E.jsx("button",{onClick:()=>r(D),className:`p-6 rounded-3xl border-2 transition-all font-black tracking-widest ${i===D?"border-indigo-600 bg-indigo-50 text-indigo-900 shadow-md":"border-slate-100 text-slate-400 hover:border-indigo-200"}`,children:D},D))})]}),E.jsxs("div",{children:[E.jsxs("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] mb-6 block",children:["NUMBER OF ACTIVITIES (",l,")"]}),E.jsx("input",{type:"range",min:"1",max:"8",value:l,onChange:D=>c(parseInt(D.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"})]}),E.jsxs(Bn,{onClick:A,variant:"primary",className:"w-full py-6 rounded-[2rem] text-xl font-black tracking-widest",children:["CONFIGURE ",E.jsx(uN,{size:24})]})]})}),s===2&&E.jsxs(We,{className:"max-w-2xl mx-auto shadow-2xl",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[E.jsx("button",{onClick:()=>t(1),className:"p-3 bg-slate-100 rounded-2xl text-slate-500 hover:text-indigo-600 transition-all",children:E.jsx(oN,{size:20})}),E.jsx("h4",{className:"font-black text-2xl tracking-tighter uppercase",children:"ACTIVITY DETAILS"})]}),E.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 no-scrollbar",children:d.map((D,H)=>E.jsxs("div",{className:"p-6 bg-slate-50 rounded-[2rem] border border-slate-100 flex items-center gap-6 group hover:border-indigo-400 transition-all shadow-sm",children:[E.jsx("div",{className:"w-12 h-12 rounded-2xl bg-indigo-600 text-white flex items-center justify-center font-black text-lg",children:H+1}),E.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-4",children:[E.jsx("div",{className:"col-span-2",children:E.jsx("input",{value:D.name,onChange:W=>{const et=[...d];et[H].name=W.target.value.toUpperCase(),p(et)},className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 font-black text-sm focus:ring-2 focus:ring-indigo-500 outline-none uppercase",placeholder:"ACTIVITY NAME"})}),E.jsxs("div",{className:"relative",children:[E.jsx("input",{type:"number",value:D.hours,onChange:W=>{const et=[...d];et[H].hours=W.target.value,p(et)},className:"w-full bg-white border border-slate-200 rounded-xl px-4 py-3 font-black text-sm focus:ring-2 focus:ring-indigo-500 text-center outline-none"}),E.jsx("span",{className:"absolute -top-3 left-3 bg-white px-2 text-[8px] font-black text-slate-400 uppercase tracking-widest",children:"HRS"})]})]})]},D.id))}),E.jsxs(Bn,{onClick:x,variant:"primary",className:"w-full py-6 rounded-[2rem] mt-10 text-xl font-black tracking-widest",children:["GENERATE ",E.jsx(Im,{size:24})]})]}),s===3&&y&&E.jsxs("div",{className:"space-y-8 animate-in fade-in slide-in-from-bottom-8 duration-500",children:[E.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6 px-4 text-center md:text-left",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.3em]",children:"PERSONAL PLANNER"}),E.jsxs("h4",{className:"text-4xl font-black text-slate-900 uppercase leading-none mt-3 tracking-tighter",children:[i," SCHEDULE"]})]}),E.jsxs("div",{className:"flex gap-3 w-full md:w-auto",children:[E.jsxs(Bn,{onClick:()=>t(1),variant:"secondary",className:"flex-1 md:flex-none py-4 font-black",children:[E.jsx(zN,{size:18})," RESET"]}),E.jsxs(Bn,{variant:"primary",className:"flex-1 md:flex-none py-4 font-black",children:[E.jsx(_N,{size:18})," SAVE"]})]})]}),E.jsx("div",{className:"overflow-x-auto no-scrollbar shadow-2xl rounded-[3rem] border border-slate-100",children:E.jsxs("table",{className:"w-full border-collapse text-left bg-white",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-900 text-white",children:[E.jsx("th",{className:"p-6 text-center font-black text-[10px] uppercase tracking-[0.2em] border-r border-white/5",children:"TIME"}),(i==="DAY"?["TODAY"]:["MON","TUE","WED","THU","FRI","SAT","SUN"]).map(D=>E.jsx("th",{className:"p-6 text-center font-black text-[10px] uppercase tracking-[0.2em] border-l border-white/5 min-w-[160px]",children:String(D)},D))]})}),E.jsx("tbody",{className:"divide-y divide-slate-100",children:y[0]?.slots.map((D,H)=>E.jsxs("tr",{className:"hover:bg-slate-50 transition-colors",children:[E.jsxs("td",{className:"p-6 flex flex-col items-center justify-center font-black bg-slate-50/50 border-r border-slate-100",children:[E.jsx("span",{className:"text-xs text-indigo-600 font-black",children:D.time}),E.jsx(EN,{size:12,className:"text-slate-300 mt-2"})]}),y.map((W,et)=>E.jsx("td",{className:"p-3 border-l border-slate-100",children:E.jsxs("div",{className:`h-full min-h-[90px] rounded-2xl p-4 border-2 transition-all flex flex-col justify-between group ${W.slots[H].isBreak?"bg-slate-100 border-slate-100 text-slate-400":"bg-white border-slate-100 hover:border-indigo-400 hover:shadow-lg"}`,children:[E.jsxs("div",{className:"flex items-start justify-between",children:[E.jsx("span",{className:"text-[10px] font-black uppercase tracking-tight leading-tight w-full break-words",children:W.slots[H].activity}),!W.slots[H].isBreak&&E.jsx(jN,{size:10,className:"text-slate-300 opacity-0 group-hover:opacity-100 shrink-0"})]}),E.jsx("span",{className:"text-[8px] font-black opacity-50 uppercase tracking-[0.2em] mt-2",children:W.slots[H].isBreak?"BUFFER":"SESSION"})]})},W.day))]},D.time))})]})})]})]})}function Iv({user:s,reports:t,announcements:i,timetableData:r}){return t.filter(l=>l.userId===$c.currentUser?.uid&&l.status!=="RESOLVED"),E.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500",children:[E.jsxs("header",{className:"flex items-end justify-between",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.3em] mb-2",children:"OVERVIEW"}),E.jsxs("h3",{className:"text-5xl font-black text-slate-900 tracking-tighter uppercase leading-none",children:["HI, ",String(s?.name?s.name.split(" ")[0]:"USER"),"!"]})]}),E.jsx(Bn,{variant:"outline",className:"hidden sm:flex px-6 py-2.5 text-[11px] uppercase tracking-widest font-black",children:"RECORDS"})]}),E.jsxs("div",{className:"grid gap-10 grid-cols-1 md:grid-cols-3",children:[E.jsxs(We,{className:"bg-gradient-to-br from-indigo-600 to-purple-600 text-white border-none relative overflow-hidden flex flex-col justify-between p-8 shadow-2xl",children:[E.jsx("h4",{className:"font-black uppercase tracking-[0.2em] text-[10px] opacity-80 mb-6",children:"ATTENDANCE"}),E.jsxs("div",{className:"flex items-center gap-8 mb-4 relative z-10",children:[E.jsxs("div",{className:"relative w-32 h-32 flex items-center justify-center",children:[E.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[E.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"rgba(255,255,255,0.15)",strokeWidth:"12",fill:"transparent"}),E.jsx("circle",{cx:"64",cy:"64",r:"56",stroke:"white",strokeWidth:"12",fill:"transparent",strokeDasharray:352,strokeDashoffset:352-352*.85,strokeLinecap:"round"})]}),E.jsx("span",{className:"absolute text-3xl font-black",children:"85%"})]}),E.jsxs("div",{children:[E.jsx("p",{className:"text-4xl font-black tracking-tighter",children:"STABLE"}),E.jsx("p",{className:"text-xs opacity-70 font-bold tracking-widest mt-3",children:"+2 TO 90%"})]})]}),E.jsx(Tp,{className:"absolute -right-8 -bottom-8 w-40 h-40 opacity-10"})]}),E.jsxs(We,{className:"col-span-1 md:col-span-2 shadow-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsx("h4",{className:"font-black text-slate-800 uppercase tracking-[0.2em] text-xs",children:"CAMPUS BROADCASTS"}),E.jsx("span",{className:"text-[10px] font-black text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-xl uppercase tracking-[0.2em] animate-pulse",children:"LIVE"})]}),E.jsx("div",{className:"space-y-4 max-h-[300px] overflow-y-auto no-scrollbar",children:i.length===0?E.jsx("p",{className:"text-center py-10 text-slate-400 font-black uppercase tracking-widest text-[10px]",children:"NO RECENT NOTICES"}):i.map(l=>E.jsxs("div",{className:"p-6 border border-slate-100 rounded-3xl bg-slate-50/50 flex items-center gap-6 transition-all hover:bg-white hover:shadow-md hover:border-indigo-100 group",children:[E.jsx("div",{className:"p-3 bg-white rounded-2xl shadow-sm text-purple-600 group-hover:scale-110 transition-transform",children:E.jsx(Ph,{size:20})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-xs font-black text-slate-900 uppercase tracking-tight",children:String(l.subject)}),E.jsx("p",{className:"text-[10px] text-slate-500 font-bold mt-2 uppercase opacity-80 leading-relaxed line-clamp-2",children:String(l.message)})]})]},l.id))})]})]}),r?.length>0&&E.jsxs(We,{className:"shadow-2xl",children:[E.jsxs("div",{className:"flex justify-between items-center mb-8",children:[E.jsx("h4",{className:"font-black text-slate-800 uppercase tracking-[0.2em] text-xs",children:"CLASS TIMELINE"}),E.jsx("span",{className:"text-[10px] font-black text-indigo-600 bg-indigo-50 px-3 py-1.5 rounded-xl uppercase tracking-widest",children:"PUBLISHED"})]}),E.jsx("div",{className:"overflow-x-auto no-scrollbar rounded-2xl border border-slate-50",children:E.jsxs("table",{className:"w-full text-left border-collapse",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"bg-slate-50 border-b border-slate-100",children:[E.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 uppercase tracking-[0.1em]",children:"TIME"}),r.map(l=>E.jsx("th",{className:"p-4 text-[10px] font-black text-slate-400 text-center uppercase tracking-[0.1em]",children:String(l.day)},l.day))]})}),E.jsx("tbody",{className:"divide-y divide-slate-50",children:r[0]?.slots.map((l,c)=>E.jsxs("tr",{children:[E.jsx("td",{className:"p-5 font-black text-xs text-indigo-600 uppercase tracking-widest",children:String(r[0].slots[c].time)}),r.map((d,p)=>E.jsx("td",{className:"p-2",children:E.jsx("div",{className:`p-4 rounded-2xl text-[10px] font-black text-center uppercase tracking-tight ${d.slots[c].subject==="FREE"?"bg-slate-50 text-slate-200":"bg-indigo-50 text-indigo-700 shadow-sm border border-indigo-100"}`,children:String(d.slots[c].subject)})},p))]},c))})]})})]})]})}function yI({role:s,user:t,onLogout:i,viewMode:r,toggleViewMode:l}){return E.jsxs("header",{className:"bg-white/70 backdrop-blur-xl sticky top-0 z-30 px-6 md:px-10 py-5 flex items-center justify-between border-b border-slate-200/50 shadow-sm",children:[E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx(ql,{className:"w-10 h-10 flex-shrink-0 shadow-lg rounded-xl"}),E.jsxs("div",{children:[E.jsx("h1",{className:"font-black text-xl text-slate-900 tracking-tighter leading-none uppercase",children:"MERGIFY"}),E.jsxs("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-indigo-600 mt-1 block",children:[" ",String(s).toUpperCase()," PORTAL "]})]})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx(Sp,{viewMode:r,toggleViewMode:l}),E.jsxs("div",{className:"hidden sm:block text-right mr-3",children:[E.jsx("p",{className:"text-[9px] font-black text-slate-400 tracking-[0.2em] uppercase",children:"SESSION ACTIVE"}),E.jsxs("p",{className:"text-sm font-black text-slate-800 line-clamp-1 uppercase tracking-tight mt-1",children:[" ",String(t?.name).toUpperCase()," "]})]}),E.jsx("button",{onClick:i,title:"Sign Out",className:"p-3 bg-slate-100 hover:bg-rose-50 text-slate-600 hover:text-rose-600 rounded-2xl transition-all shadow-sm",children:E.jsx(aT,{size:20})})]})]})}function _I({activeTab:s,setActiveTab:t,role:i,showMobileNav:r,showDesktopNav:l}){const c=i==="student"?[{id:"home",icon:rT,label:"ACADEMICS"},{id:"campus",icon:uT,label:"UTILITIES"},{id:"safety",icon:oT,label:"SAFETY"},{id:"ai",icon:Tp,label:"PLANNER"}]:[{id:"home",icon:dN,label:"DASHBOARD"},{id:"attendance",icon:bp,label:"ATTENDANCE"},{id:"timetable",icon:hN,label:"TIMETABLE"},{id:"comms",icon:Ph,label:"COMMS"},{id:"monitoring",icon:eI,label:"MONITOR"}];return E.jsxs(E.Fragment,{children:[r&&E.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-slate-900/95 backdrop-blur-2xl border-t border-slate-800 flex items-center justify-around h-20 z-40 shadow-[0_-10px_40px_rgba(0,0,0,0.3)] px-2",children:c.map(d=>E.jsxs("button",{onClick:()=>t(d.id),className:`flex flex-col items-center justify-center flex-1 h-full transition-all relative ${s===d.id?"text-indigo-400":"text-slate-500 hover:text-slate-300"}`,children:[E.jsx(d.icon,{size:22,className:s===d.id?"stroke-[2.5px]":""}),E.jsxs("span",{className:"text-[8px] mt-2 font-black tracking-[0.2em] text-center uppercase",children:[" ",String(d.label)," "]}),s===d.id&&E.jsx("div",{className:"absolute bottom-2 w-1.5 h-1.5 bg-indigo-400 rounded-full shadow-[0_0_12px_rgba(129,140,248,0.8)]"})]},d.id))}),l&&E.jsxs("nav",{className:"fixed left-0 top-0 bottom-0 w-24 bg-slate-900 flex flex-col items-center py-10 z-40 shadow-2xl border-r border-slate-800",children:[E.jsx(ql,{className:"w-12 h-12 mb-12 flex-shrink-0 shadow-2xl"}),E.jsx("div",{className:"flex flex-col gap-8 flex-1",children:c.map(d=>E.jsxs("button",{onClick:()=>t(d.id),className:`group relative p-4 rounded-3xl transition-all ${s===d.id?"bg-indigo-600 text-white shadow-[0_20px_40px_rgba(79,70,229,0.3)] scale-110":"text-slate-500 hover:text-slate-100 hover:scale-105"}`,children:[E.jsx(d.icon,{size:24}),E.jsxs("span",{className:"absolute left-full ml-6 px-4 py-2 bg-slate-800 text-white text-[10px] font-black uppercase tracking-[0.2em] rounded-xl opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none z-50 shadow-2xl border border-slate-700",children:[" ",String(d.label)," "]})]},d.id))}),E.jsx("div",{className:"mt-auto",children:E.jsx("div",{className:"w-12 h-12 rounded-2xl bg-slate-800 flex items-center justify-center text-slate-500 hover:text-white transition-all cursor-pointer shadow-lg hover:scale-110 active:scale-95",onClick:()=>t("settings"),children:E.jsx(GN,{size:22})})})]})]})}function vI(){const[s,t]=Mt.useState(null),[i,r]=Mt.useState(null),[l,c]=Mt.useState(null),[d,p]=Mt.useState("home"),[y,_]=Mt.useState(!0),[A,x]=Mt.useState(""),[D,H]=Mt.useState("auto"),[W,et]=Mt.useState(typeof window<"u"?window.innerWidth:1024),[tt,ut]=Mt.useState([]),[dt,pt]=Mt.useState([]),[Pt,Kt]=Mt.useState([]),[xt,C]=Mt.useState(null),[R,N]=Mt.useState({subject:"",location:"",description:""});Mt.useEffect(()=>{const w=()=>et(window.innerWidth);return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[]);const V=async()=>{try{typeof __initial_auth_token<"u"&&__initial_auth_token?await x2($c,__initial_auth_token):await T2($c)}catch(w){console.error("Auth failed",w)}};Mt.useEffect(()=>{V();const w=N2($c,Rt=>{c(Rt),setTimeout(()=>_(!1),1200)});return()=>w()},[]),Mt.useEffect(()=>{if(!l)return;const w=Xc(Br(Ln,"artifacts",wi,"public","data","reports"),F=>{const nt=F.docs.map(ot=>({id:ot.id,...ot.data()}));ut(nt.sort((ot,Nt)=>(Nt.timestamp?.seconds||0)-(ot.timestamp?.seconds||0)))}),Rt=Xc(Br(Ln,"artifacts",wi,"public","data","announcements"),F=>{const nt=F.docs.map(ot=>({id:ot.id,...ot.data()}));pt(nt.sort((ot,Nt)=>(Nt.timestamp?.seconds||0)-(ot.timestamp?.seconds||0)))}),Xt=Xc(Qa(Ln,"artifacts",wi,"public","data","timetable","class_schedule"),F=>{F.exists()&&Kt(F.data().data)});return()=>{w(),Rt(),Xt()}},[l]);const O=()=>{const w=["auto","mobile","desktop"],Rt=(w.indexOf(D)+1)%w.length;H(w[Rt])};if(y)return E.jsxs("div",{className:"fixed inset-0 bg-white flex flex-col items-center justify-center p-6 z-50 font-sans",children:[E.jsx(jc,{}),E.jsx(ql,{className:"w-32 h-32 mb-8 animate-pulse shadow-2xl rounded-[3rem]"}),E.jsx("h1",{className:"text-5xl font-black text-indigo-950 tracking-tighter mb-4 animate-in fade-in duration-1000",children:"MERGIFY."}),E.jsx("div",{className:"w-24 h-1.5 bg-slate-100 rounded-full overflow-hidden relative",children:E.jsx("div",{className:"absolute h-full bg-indigo-600 animate-[loading_2s_infinite_ease-in-out]",style:{width:"60%"}})})]});if(!s)return E.jsxs("div",{className:"min-h-screen relative flex flex-col items-center justify-center p-6 md:p-8 overflow-hidden font-sans",children:[E.jsx(jc,{}),E.jsx(hT,{}),E.jsx("div",{className:"absolute top-8 right-8",children:E.jsx(Sp,{viewMode:D,toggleViewMode:O})}),E.jsxs("div",{className:"max-w-md w-full animate-in fade-in slide-in-from-bottom-8 duration-700",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("div",{className:"w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:E.jsx(ql,{className:"w-full h-full drop-shadow-2xl"})}),E.jsx("h2",{className:"text-5xl font-black text-white tracking-tighter uppercase leading-none",children:"MERGIFY."}),E.jsx("p",{className:"text-indigo-200 font-bold text-xs tracking-[0.4em] mt-3 uppercase opacity-80",children:"Unified Campus Platform"})]}),E.jsxs("div",{className:"space-y-4",children:[E.jsx(Cv,{icon:E.jsx(rT,{size:32}),title:"STUDENT PORTAL",desc:"ACADEMICS, SAFETY & TOOLS",onClick:()=>t("student")}),E.jsx(Cv,{icon:E.jsx(bp,{size:32}),title:"FACULTY PORTAL",desc:"MANAGEMENT & MONITORING",onClick:()=>t("teacher"),color:"purple"})]})]})]});if(!i)return E.jsxs(E.Fragment,{children:[E.jsx(jc,{}),E.jsx(hI,{role:s,onLogin:async(w,Rt)=>{if(!l)return;const Xt=await ZC(Qa(Ln,"artifacts",wi,"public","data","user_directory",w));Xt.exists()&&Xt.data().role===Rt?r(Xt.data()):x("CREDENTIALS NOT VALID FOR THIS PORTAL")},onRegister:async w=>{if(l)try{const Rt=Qa(Ln,"artifacts",wi,"public","data","user_directory",w.regNo),Xt={regNo:w.regNo,name:w.fullName.toUpperCase(),role:w.role,uid:l.uid};await eT(Rt,Xt),r(Xt)}catch{x("REGISTRATION FAILED. TRY AGAIN.")}},onBack:()=>t(null),error:A,viewMode:D,toggleViewMode:O})]});const j=D==="desktop"||D==="auto"&&W>=1024;return E.jsxs("div",{className:`min-h-screen bg-[#f8fafc] transition-all font-sans ${j?"pl-24":"pb-24"} uppercase`,children:[E.jsx(jc,{}),E.jsx(yI,{role:s,user:i,onLogout:()=>{r(null),t(null)},viewMode:D,toggleViewMode:O}),E.jsx("main",{className:`max-w-6xl mx-auto p-6 md:p-10 transition-all ${D==="desktop"?"min-w-[1024px]":""}`,children:s==="teacher"?E.jsx(EI,{activeTab:d,user:i,reports:tt,onResolve:async w=>await JC(Qa(Ln,"artifacts",wi,"public","data","reports",w),{status:"RESOLVED"}),onPostAnnouncement:async(w,Rt)=>await Kc(Br(Ln,"artifacts",wi,"public","data","announcements"),{subject:w,message:Rt,timestamp:Dl()}),appId:wi,timetableData:Pt,isDesktop:j}):E.jsx(TI,{activeTab:d,user:i,reports:tt,announcements:dt,timetableData:Pt,onTriggerSOS:()=>Kc(Br(Ln,"artifacts",wi,"public","data","reports"),{type:"SOS",priority:"HIGH",status:"PENDING",userId:l.uid,timestamp:Dl()}),onOpenModal:C})}),E.jsx(_I,{activeTab:d,setActiveTab:p,role:s,showMobileNav:!j,showDesktopNav:j}),E.jsx(cI,{isOpen:!!xt,onClose:()=>C(null),title:`NEW ${String(xt)} TICKET`,children:E.jsxs("div",{className:"space-y-6 text-left",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Subject"}),E.jsx("input",{value:R.subject,onChange:w=>N({...R,subject:w.target.value.toUpperCase()}),placeholder:"E.G. LOST CALCULATOR",className:"w-full bg-slate-50 border border-slate-100 rounded-2xl p-4 font-black text-sm focus:bg-white focus:ring-2 focus:ring-indigo-500 transition-all outline-none uppercase"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Location"}),E.jsx("input",{value:R.location,onChange:w=>N({...R,location:w.target.value.toUpperCase()}),placeholder:"E.G. BLOCK A",className:"w-full bg-slate-50 border border-slate-100 rounded-2xl p-4 font-black text-sm focus:bg-white focus:ring-2 focus:ring-indigo-500 transition-all outline-none uppercase"})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 block",children:"Details"}),E.jsx("textarea",{rows:"3",value:R.description,onChange:w=>N({...R,description:w.target.value.toUpperCase()}),placeholder:"PROVIDE FULL DETAILS...",className:"w-full bg-slate-50 border border-slate-100 rounded-2xl p-4 font-black text-sm focus:bg-white focus:ring-2 focus:ring-indigo-500 transition-all outline-none uppercase resize-none"})]}),E.jsx(Bn,{onClick:()=>{!R.subject||!R.description||(Kc(Br(Ln,"artifacts",wi,"public","data","reports"),{...R,type:xt.toUpperCase(),priority:"NORMAL",status:"PENDING",userId:l.uid,timestamp:Dl()}),C(null),N({subject:"",location:"",description:""}))},className:"w-full py-5 text-sm",children:"SUBMIT TICKET"})]})}),E.jsx("div",{className:"fixed bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-indigo-600 via-purple-600 to-indigo-600 animate-gradient z-[60]"})]})}function EI({activeTab:s,user:t,reports:i,onResolve:r,onPostAnnouncement:l,appId:c,timetableData:d,isDesktop:p}){switch(s){case"home":return E.jsx(Nv,{user:t,reports:i});case"attendance":return E.jsx(fI,{appId:c});case"timetable":return E.jsx(dI,{appId:c,initialTimetable:d});case"comms":return E.jsx(pI,{onPostAnnouncement:l});case"monitoring":return E.jsx(mI,{reports:i,onResolve:r});case"settings":return E.jsx(fT,{user:t});default:return E.jsx(Nv,{user:t,reports:i})}}function TI({activeTab:s,user:t,reports:i,announcements:r,timetableData:l,onTriggerSOS:c,onOpenModal:d}){switch(s){case"home":return E.jsx(Iv,{user:t,reports:i,announcements:r,timetableData:l});case"campus":return E.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-right-8 duration-500",children:[E.jsxs("header",{children:[E.jsx("h2",{className:"text-[11px] font-black text-indigo-600 uppercase tracking-[0.3em] mb-2 leading-none",children:"UTILITIES"}),E.jsx("h3",{className:"text-5xl font-black text-slate-900 tracking-tighter uppercase leading-none",children:"CAMPUS HUB."})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[E.jsx(Ka,{icon:E.jsx(qN,{size:32}),label:"REPORT LOST",color:"text-blue-600 bg-blue-50",onClick:()=>d("lost")}),E.jsx(Ka,{icon:E.jsx(uT,{size:32}),label:"MAINTENANCE",color:"text-emerald-600 bg-emerald-50",onClick:()=>d("maintenance")})]})]});case"safety":return E.jsxs("div",{className:"space-y-10 animate-in fade-in slide-in-from-right-8 duration-500",children:[E.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-end gap-6",children:[E.jsxs("div",{children:[E.jsx("h2",{className:"text-[11px] font-black text-rose-600 uppercase tracking-[0.3em] mb-2 leading-none",children:"GUARD"}),E.jsx("h3",{className:"text-5xl font-black text-slate-900 tracking-tighter uppercase leading-none",children:"SAFETY CENTER."})]}),E.jsxs(Bn,{variant:"danger",onClick:c,className:"w-full sm:w-auto px-12 py-6 text-2xl animate-pulse rounded-[2rem] shadow-[0_0_40px_rgba(244,63,94,0.4)]",children:[E.jsx(LN,{size:28})," SOS"]})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[E.jsxs(We,{className:"border-l-[10px] border-l-rose-500 bg-rose-50/20 shadow-2xl p-10",children:[E.jsx(oT,{className:"text-rose-500 mb-8",size:48}),E.jsx("h4",{className:"text-3xl font-black text-slate-900 mb-4 uppercase tracking-tighter",children:"ANONYMOUS TIP"}),E.jsx("p",{className:"text-xs text-slate-500 font-bold leading-relaxed mb-10 opacity-70",children:"PRIVATE & SECURE REPORTING SYSTEM. YOUR IDENTITY IS NEVER SHARED."}),E.jsx(Bn,{variant:"danger",onClick:()=>d("safety"),className:"w-full tracking-[0.2em] py-5",children:"FILE REPORT"})]}),E.jsxs(We,{className:"p-10 shadow-2xl border border-slate-100",children:[E.jsx("h4",{className:"text-[11px] font-black text-slate-400 uppercase tracking-[0.3em] mb-8",children:"HELPLINES"}),E.jsx("div",{className:"space-y-5",children:["SECURITY DESK","SAFETY CELL","WELLNESS UNIT"].map(p=>E.jsxs("div",{className:"flex items-center justify-between p-6 bg-slate-50 rounded-[1.8rem] border border-slate-100 transition-all hover:border-indigo-600 group",children:[E.jsx("span",{className:"font-black text-slate-700 text-sm tracking-widest",children:String(p)}),E.jsx("button",{className:"text-indigo-600 font-black text-[10px] uppercase tracking-widest bg-white px-5 py-2.5 rounded-xl shadow-sm border border-slate-100 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:"CONNECT"})]},p))})]})]})]});case"ai":return E.jsx(gI,{});case"settings":return E.jsx(fT,{user:t});default:return E.jsx(Iv,{user:t,reports:i,announcements:r,timetableData:l})}}tS.createRoot(document.getElementById("root")).render(E.jsx(Yb.StrictMode,{children:E.jsx(vI,{})}));
